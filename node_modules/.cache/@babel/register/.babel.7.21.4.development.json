{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _data = _interopRequireDefault(require(\"./data.js\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _config = require(\"./config.js\");\nvar _userRouter = _interopRequireDefault(require(\"./routers/userRouter.js\"));\nvar _orderRouter = _interopRequireDefault(require(\"./routers/orderRouter.js\"));\nvar _productRouter = _interopRequireDefault(require(\"./routers/productRouter.js\"));\nvar _uploadRouter = _interopRequireDefault(require(\"./routers/uploadRouter\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_mongoose.default.connect(process.env.MONGODB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => {\n  console.log('connected');\n}).catch(error => {\n  console.log(error.reason);\n});\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_bodyParser.default.json());\napp.use('/api/uploads', _uploadRouter.default);\napp.use('/api/users', _userRouter.default);\napp.use('/api/products', _productRouter.default);\napp.use('/api/orders', _orderRouter.default);\napp.get('/api/paypal/clientId', (req, res) => {\n  res.send({\n    clientId: process.env.PAYPAL_CLIENT_ID\n  });\n});\n\n/*\r\napp.get('/api/products', (req, res) => {\r\nres.send(data.products)\r\n})\r\n  \r\n//api for --product id-//\r\n\r\napp.get('/api/products/:id',(req, res)=>{\r\n    const product=data.products.find((x)=>x._id === req.params.id)\r\n    if (product){\r\nres.send(product)\r\n\r\n    }else{\r\n        res.status(404).send({message:'product not found'})\r\n    }\r\n    \r\n})\r\n\r\n*/\n\napp.use((err, req, res, next) => {\n  const status = err.name && err.name === 'ValidationError' ? 400 : 500;\n  res.status(status).send({\n    message: err.message\n  });\n});\napp.listen(5000, () => {\n  console.log('we are live at http://localhost:5000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfZGF0YSIsIl9tb25nb29zZSIsIl9ib2R5UGFyc2VyIiwiX2NvbmZpZyIsIl91c2VyUm91dGVyIiwiX29yZGVyUm91dGVyIiwiX3Byb2R1Y3RSb3V0ZXIiLCJfdXBsb2FkUm91dGVyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJtb25nb29zZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkwiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJyZWFzb24iLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImJvZHlQYXJzZXIiLCJqc29uIiwidXBsb2FkUm91dGVyIiwidXNlclJvdXRlciIsInByb2R1Y3RSb3V0ZXIiLCJvcmRlclJvdXRlciIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJjbGllbnRJZCIsIlBBWVBBTF9DTElFTlRfSUQiLCJlcnIiLCJuZXh0Iiwic3RhdHVzIiwibmFtZSIsIm1lc3NhZ2UiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQk9ERVxcRG9jdW1lbnRzXFxjb2RlXFxlY29tbWVyY2VcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnIFxyXG5pbXBvcnQgZGF0YSBmcm9tICcuL2RhdGEuanMnXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInXHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnLmpzJ1xyXG5pbXBvcnQgdXNlclJvdXRlciBmcm9tICcuL3JvdXRlcnMvdXNlclJvdXRlci5qcydcclxuaW1wb3J0IG9yZGVyUm91dGVyIGZyb20gJy4vcm91dGVycy9vcmRlclJvdXRlci5qcydcclxuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3Byb2R1Y3RSb3V0ZXIuanMnXHJcbmltcG9ydCB1cGxvYWRSb3V0ZXIgZnJvbSAnLi9yb3V0ZXJzL3VwbG9hZFJvdXRlcic7XHJcblxyXG5tb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OnRydWUsfSkudGhlbigoKT0+e1xyXG4gICBjb25zb2xlLmxvZygnY29ubmVjdGVkJykgXHJcbn0pXHJcbi5jYXRjaCgoZXJyb3IpPT57XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvci5yZWFzb24pXHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IGFwcD1leHByZXNzKClcclxuXHJcbmFwcC51c2UoY29ycygpKVxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxyXG5hcHAudXNlKCcvYXBpL3VwbG9hZHMnLCB1cGxvYWRSb3V0ZXIpO1xyXG5hcHAudXNlKCcvYXBpL3VzZXJzJywgdXNlclJvdXRlcilcclxuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycscHJvZHVjdFJvdXRlcilcclxuYXBwLnVzZSgnL2FwaS9vcmRlcnMnLCBvcmRlclJvdXRlcilcclxuXHJcblxyXG5hcHAuZ2V0KCcvYXBpL3BheXBhbC9jbGllbnRJZCcsKHJlcSxyZXMpPT57XHJcbiAgICByZXMuc2VuZCh7Y2xpZW50SWQ6IHByb2Nlc3MuZW52LlBBWVBBTF9DTElFTlRfSUR9KVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuLypcclxuYXBwLmdldCgnL2FwaS9wcm9kdWN0cycsIChyZXEsIHJlcykgPT4ge1xyXG5yZXMuc2VuZChkYXRhLnByb2R1Y3RzKVxyXG59KVxyXG4gIFxyXG4vL2FwaSBmb3IgLS1wcm9kdWN0IGlkLS8vXHJcblxyXG5hcHAuZ2V0KCcvYXBpL3Byb2R1Y3RzLzppZCcsKHJlcSwgcmVzKT0+e1xyXG4gICAgY29uc3QgcHJvZHVjdD1kYXRhLnByb2R1Y3RzLmZpbmQoKHgpPT54Ll9pZCA9PT0gcmVxLnBhcmFtcy5pZClcclxuICAgIGlmIChwcm9kdWN0KXtcclxucmVzLnNlbmQocHJvZHVjdClcclxuXHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7bWVzc2FnZToncHJvZHVjdCBub3QgZm91bmQnfSlcclxuICAgIH1cclxuICAgIFxyXG59KVxyXG5cclxuKi9cclxuXHJcbmFwcC51c2UoKGVycixyZXEscmVzLG5leHQpPT57XHJcbiAgICBjb25zdCBzdGF0dXMgPSBlcnIubmFtZSAmJiBlcnIubmFtZSA9PT0nVmFsaWRhdGlvbkVycm9yJz8gNDAwIDogNTAwO1xyXG4gICAgcmVzLnN0YXR1cyhzdGF0dXMpLnNlbmQoe21lc3NhZ2U6IGVyci5tZXNzYWdlfSlcclxufSlcclxuXHJcblxyXG5hcHAubGlzdGVuKDUwMDAsICgpPT57XHJcbiAgICBjb25zb2xlLmxvZygnd2UgYXJlIGxpdmUgYXQgaHR0cDovL2xvY2FsaG9zdDo1MDAwJylcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sV0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sWUFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsYUFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQWtELFNBQUFELHVCQUFBVyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWxERyxpQkFBUSxDQUFDQyxPQUFPLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEVBQUM7RUFBQ0MsZUFBZSxFQUFDLElBQUk7RUFBRUMsa0JBQWtCLEVBQUM7QUFBSyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLE1BQUk7RUFDakdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFdBQVcsQ0FBQztBQUMzQixDQUFDLENBQUMsQ0FDREMsS0FBSyxDQUFFQyxLQUFLLElBQUc7RUFDWkgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLEtBQUssQ0FBQ0MsTUFBTSxDQUFDO0FBQzdCLENBQUMsQ0FBQztBQU9GLE1BQU1DLEdBQUcsR0FBQyxJQUFBQyxnQkFBTyxHQUFFO0FBRW5CRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEdBQUUsQ0FBQztBQUNmSCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0UsbUJBQVUsQ0FBQ0MsSUFBSSxFQUFFLENBQUM7QUFDMUJMLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGNBQWMsRUFBRUkscUJBQVksQ0FBQztBQUNyQ04sR0FBRyxDQUFDRSxHQUFHLENBQUMsWUFBWSxFQUFFSyxtQkFBVSxDQUFDO0FBQ2pDUCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxlQUFlLEVBQUNNLHNCQUFhLENBQUM7QUFDdENSLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRU8sb0JBQVcsQ0FBQztBQUduQ1QsR0FBRyxDQUFDVSxHQUFHLENBQUMsc0JBQXNCLEVBQUMsQ0FBQ0MsR0FBRyxFQUFDQyxHQUFHLEtBQUc7RUFDdENBLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDO0lBQUNDLFFBQVEsRUFBRXpCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDeUI7RUFBZ0IsQ0FBQyxDQUFDO0FBQ3RELENBQUMsQ0FBQzs7QUFLRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQWYsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQ2MsR0FBRyxFQUFDTCxHQUFHLEVBQUNDLEdBQUcsRUFBQ0ssSUFBSSxLQUFHO0VBQ3hCLE1BQU1DLE1BQU0sR0FBR0YsR0FBRyxDQUFDRyxJQUFJLElBQUlILEdBQUcsQ0FBQ0csSUFBSSxLQUFJLGlCQUFpQixHQUFFLEdBQUcsR0FBRyxHQUFHO0VBQ25FUCxHQUFHLENBQUNNLE1BQU0sQ0FBQ0EsTUFBTSxDQUFDLENBQUNMLElBQUksQ0FBQztJQUFDTyxPQUFPLEVBQUVKLEdBQUcsQ0FBQ0k7RUFBTyxDQUFDLENBQUM7QUFDbkQsQ0FBQyxDQUFDO0FBR0ZwQixHQUFHLENBQUNxQixNQUFNLENBQUMsSUFBSSxFQUFFLE1BQUk7RUFDakIxQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQ0FBc0MsQ0FBQztBQUN2RCxDQUFDLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_data","_mongoose","_bodyParser","_config","_userRouter","_orderRouter","_productRouter","_uploadRouter","obj","__esModule","default","mongoose","connect","process","env","MONGODB_URL","useNewUrlParser","useUnifiedTopology","then","console","log","catch","error","reason","app","express","use","cors","bodyParser","json","uploadRouter","userRouter","productRouter","orderRouter","get","req","res","send","clientId","PAYPAL_CLIENT_ID","err","next","status","name","message","listen"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\","sources":["server.js"],"sourcesContent":["import express from 'express'\r\nimport cors from 'cors' \r\nimport data from './data.js'\r\nimport mongoose from 'mongoose'\r\nimport bodyParser from 'body-parser'\r\nimport { config } from './config.js'\r\nimport userRouter from './routers/userRouter.js'\r\nimport orderRouter from './routers/orderRouter.js'\r\nimport productRouter from './routers/productRouter.js'\r\nimport uploadRouter from './routers/uploadRouter';\r\n\r\nmongoose.connect(process.env.MONGODB_URL,{useNewUrlParser:true, useUnifiedTopology:true,}).then(()=>{\r\n   console.log('connected') \r\n})\r\n.catch((error)=>{\r\n    console.log(error.reason)\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst app=express()\r\n\r\napp.use(cors())\r\napp.use(bodyParser.json())\r\napp.use('/api/uploads', uploadRouter);\r\napp.use('/api/users', userRouter)\r\napp.use('/api/products',productRouter)\r\napp.use('/api/orders', orderRouter)\r\n\r\n\r\napp.get('/api/paypal/clientId',(req,res)=>{\r\n    res.send({clientId: process.env.PAYPAL_CLIENT_ID})\r\n})\r\n\r\n\r\n\r\n\r\n/*\r\napp.get('/api/products', (req, res) => {\r\nres.send(data.products)\r\n})\r\n  \r\n//api for --product id-//\r\n\r\napp.get('/api/products/:id',(req, res)=>{\r\n    const product=data.products.find((x)=>x._id === req.params.id)\r\n    if (product){\r\nres.send(product)\r\n\r\n    }else{\r\n        res.status(404).send({message:'product not found'})\r\n    }\r\n    \r\n})\r\n\r\n*/\r\n\r\napp.use((err,req,res,next)=>{\r\n    const status = err.name && err.name ==='ValidationError'? 400 : 500;\r\n    res.status(status).send({message: err.message})\r\n})\r\n\r\n\r\napp.listen(5000, ()=>{\r\n    console.log('we are live at http://localhost:5000')\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,WAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAL,OAAA;AACA,IAAAM,WAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,YAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,aAAA,GAAAV,sBAAA,CAAAC,OAAA;AAAkD,SAAAD,uBAAAW,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElDG,iBAAQ,CAACC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,WAAW,EAAC;EAACC,eAAe,EAAC,IAAI;EAAEC,kBAAkB,EAAC;AAAK,CAAC,CAAC,CAACC,IAAI,CAAC,MAAI;EACjGC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;AAC3B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAG;EACZH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACC,MAAM,CAAC;AAC7B,CAAC,CAAC;AAOF,MAAMC,GAAG,GAAC,IAAAC,gBAAO,GAAE;AAEnBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,GAAE,CAAC;AACfH,GAAG,CAACE,GAAG,CAACE,mBAAU,CAACC,IAAI,EAAE,CAAC;AAC1BL,GAAG,CAACE,GAAG,CAAC,cAAc,EAAEI,qBAAY,CAAC;AACrCN,GAAG,CAACE,GAAG,CAAC,YAAY,EAAEK,mBAAU,CAAC;AACjCP,GAAG,CAACE,GAAG,CAAC,eAAe,EAACM,sBAAa,CAAC;AACtCR,GAAG,CAACE,GAAG,CAAC,aAAa,EAAEO,oBAAW,CAAC;AAGnCT,GAAG,CAACU,GAAG,CAAC,sBAAsB,EAAC,CAACC,GAAG,EAACC,GAAG,KAAG;EACtCA,GAAG,CAACC,IAAI,CAAC;IAACC,QAAQ,EAAEzB,OAAO,CAACC,GAAG,CAACyB;EAAgB,CAAC,CAAC;AACtD,CAAC,CAAC;;AAKF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAf,GAAG,CAACE,GAAG,CAAC,CAACc,GAAG,EAACL,GAAG,EAACC,GAAG,EAACK,IAAI,KAAG;EACxB,MAAMC,MAAM,GAAGF,GAAG,CAACG,IAAI,IAAIH,GAAG,CAACG,IAAI,KAAI,iBAAiB,GAAE,GAAG,GAAG,GAAG;EACnEP,GAAG,CAACM,MAAM,CAACA,MAAM,CAAC,CAACL,IAAI,CAAC;IAACO,OAAO,EAAEJ,GAAG,CAACI;EAAO,CAAC,CAAC;AACnD,CAAC,CAAC;AAGFpB,GAAG,CAACqB,MAAM,CAAC,IAAI,EAAE,MAAI;EACjB1B,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;AACvD,CAAC,CAAC"}},"mtime":1685481111936},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    _id: '111111111111111111111111',\n    name: 'black suede shoe',\n    category: 'shoe',\n    image: '/images/product-1.jpg',\n    price: 12000,\n    brand: 'bata',\n    rating: 4.0,\n    numReviews: 9,\n    countInStock: 8\n  }, {\n    _id: '2',\n    name: 'black kiwi shoe',\n    category: 'shoe',\n    image: '/images/product-2.jpg',\n    price: 14000,\n    brand: 'nike',\n    rating: 4.0,\n    numReviews: 8,\n    countInStock: 4\n  }, {\n    _id: '3',\n    name: 'black suede shoe',\n    category: 'shoe',\n    image: '/images/product-3.jpg',\n    price: 18000,\n    brand: 'versace',\n    rating: 4.5,\n    numReviews: 10,\n    countInStock: 5\n  }, {\n    _id: '4',\n    name: 'black shining shoe',\n    category: 'shoe',\n    image: '/images/product-4.jpg',\n    price: 15000,\n    brand: 'kiwi',\n    rating: 4.0,\n    numReviews: 7,\n    countInStock: 6\n  }, {\n    _id: '5',\n    name: 'black suede shoe',\n    category: 'shoe',\n    image: '/images/product-5.jpg',\n    price: 9000,\n    brand: 'louis vuitton',\n    rating: 4.0,\n    numReviews: 8,\n    countInStock: 6\n  }, {\n    _id: '6',\n    name: 'brown suede shoe',\n    category: 'shoe',\n    image: '/images/product-6.jpg',\n    price: 16000,\n    brand: 'versace',\n    rating: 4.0,\n    numReviews: 10,\n    countInStock: 6\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0cyIsIl9pZCIsIm5hbWUiLCJjYXRlZ29yeSIsImltYWdlIiwicHJpY2UiLCJicmFuZCIsInJhdGluZyIsIm51bVJldmlld3MiLCJjb3VudEluU3RvY2siLCJleHBvcnRzIiwiZGVmYXVsdCIsIl9kZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbImRhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgIHtcclxuICAgIHByb2R1Y3RzOltcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIF9pZDonMTExMTExMTExMTExMTExMTExMTExMTExJyxcclxuICAgICAgICAgICAgbmFtZTonYmxhY2sgc3VlZGUgc2hvZScsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OidzaG9lJyxcclxuICAgICAgICAgICAgaW1hZ2U6Jy9pbWFnZXMvcHJvZHVjdC0xLmpwZycsXHJcbiAgICAgICAgICAgIHByaWNlOiAxMjAwMCxcclxuICAgICAgICAgICAgYnJhbmQ6J2JhdGEnLFxyXG4gICAgICAgICAgICByYXRpbmc6NC4wLFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOjksXHJcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazo4LFxyXG4gICAgICAgIH0sXHJcbiB7XHJcbiAgICAgICAgICAgIF9pZDonMicsXHJcbiAgICAgICAgICAgIG5hbWU6J2JsYWNrIGtpd2kgc2hvZScsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OidzaG9lJyxcclxuICAgICAgICAgICAgaW1hZ2U6Jy9pbWFnZXMvcHJvZHVjdC0yLmpwZycsXHJcbiAgICAgICAgICAgIHByaWNlOiAxNDAwMCxcclxuICAgICAgICAgICAgYnJhbmQ6J25pa2UnLFxyXG4gICAgICAgICAgICByYXRpbmc6NC4wLFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOjgsXHJcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazo0LFxyXG4gICAgICAgIH0sXHJcbiB7XHJcbiAgICAgICAgICAgIF9pZDonMycsXHJcbiAgICAgICAgICAgIG5hbWU6J2JsYWNrIHN1ZWRlIHNob2UnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTonc2hvZScsXHJcbiAgICAgICAgICAgIGltYWdlOicvaW1hZ2VzL3Byb2R1Y3QtMy5qcGcnLFxyXG4gICAgICAgICAgICBwcmljZToxODAwMCxcclxuICAgICAgICAgICAgYnJhbmQ6J3ZlcnNhY2UnLFxyXG4gICAgICAgICAgICByYXRpbmc6NC41LFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOjEwLFxyXG4gICAgICAgICAgICBjb3VudEluU3RvY2s6NSxcclxuICAgICAgICB9LFxyXG5cclxuIHtcclxuICAgICAgICAgICAgX2lkOic0JyxcclxuICAgICAgICAgICAgbmFtZTonYmxhY2sgc2hpbmluZyBzaG9lJyxcclxuICAgICAgICAgICAgY2F0ZWdvcnk6J3Nob2UnLFxyXG4gICAgICAgICAgICBpbWFnZTonL2ltYWdlcy9wcm9kdWN0LTQuanBnJyxcclxuICAgICAgICAgICAgcHJpY2U6IDE1MDAwLFxyXG4gICAgICAgICAgICBicmFuZDona2l3aScsXHJcbiAgICAgICAgICAgIHJhdGluZzo0LjAsXHJcbiAgICAgICAgICAgIG51bVJldmlld3M6NyxcclxuICAgICAgICAgICAgY291bnRJblN0b2NrOjYsXHJcbiAgICAgICAgfSxcclxuXHJcbiB7XHJcbiAgICAgICAgICAgIF9pZDonNScsXHJcbiAgICAgICAgICAgIG5hbWU6J2JsYWNrIHN1ZWRlIHNob2UnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTonc2hvZScsXHJcbiAgICAgICAgICAgIGltYWdlOicvaW1hZ2VzL3Byb2R1Y3QtNS5qcGcnLFxyXG4gICAgICAgICAgICBwcmljZTo5MDAwLFxyXG4gICAgICAgICAgICBicmFuZDonbG91aXMgdnVpdHRvbicsXHJcbiAgICAgICAgICAgIHJhdGluZzo0LjAsXHJcbiAgICAgICAgICAgIG51bVJldmlld3M6OCxcclxuICAgICAgICAgICAgY291bnRJblN0b2NrOjYsXHJcbiAgICAgICAgfSwgXHJcbiB7XHJcbiAgICAgICAgICAgIF9pZDonNicsXHJcbiAgICAgICAgICAgIG5hbWU6J2Jyb3duIHN1ZWRlIHNob2UnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTonc2hvZScsXHJcbiAgICAgICAgICAgIGltYWdlOicvaW1hZ2VzL3Byb2R1Y3QtNi5qcGcnLFxyXG4gICAgICAgICAgICBwcmljZToxNjAwMCxcclxuICAgICAgICAgICAgYnJhbmQ6J3ZlcnNhY2UnLFxyXG4gICAgICAgICAgICByYXRpbmc6NC4wLFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOjEwLFxyXG4gICAgICAgICAgICBjb3VudEluU3RvY2s6NixcclxuICAgICAgICB9LFxyXG5cclxuICAgIF0sXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZ0I7RUFDWkEsUUFBUSxFQUFDLENBQ0w7SUFDSUMsR0FBRyxFQUFDLDBCQUEwQjtJQUM5QkMsSUFBSSxFQUFDLGtCQUFrQjtJQUN2QkMsUUFBUSxFQUFDLE1BQU07SUFDZkMsS0FBSyxFQUFDLHVCQUF1QjtJQUM3QkMsS0FBSyxFQUFFLEtBQUs7SUFDWkMsS0FBSyxFQUFDLE1BQU07SUFDWkMsTUFBTSxFQUFDLEdBQUc7SUFDVkMsVUFBVSxFQUFDLENBQUM7SUFDWkMsWUFBWSxFQUFDO0VBQ2pCLENBQUMsRUFDUjtJQUNXUixHQUFHLEVBQUMsR0FBRztJQUNQQyxJQUFJLEVBQUMsaUJBQWlCO0lBQ3RCQyxRQUFRLEVBQUMsTUFBTTtJQUNmQyxLQUFLLEVBQUMsdUJBQXVCO0lBQzdCQyxLQUFLLEVBQUUsS0FBSztJQUNaQyxLQUFLLEVBQUMsTUFBTTtJQUNaQyxNQUFNLEVBQUMsR0FBRztJQUNWQyxVQUFVLEVBQUMsQ0FBQztJQUNaQyxZQUFZLEVBQUM7RUFDakIsQ0FBQyxFQUNSO0lBQ1dSLEdBQUcsRUFBQyxHQUFHO0lBQ1BDLElBQUksRUFBQyxrQkFBa0I7SUFDdkJDLFFBQVEsRUFBQyxNQUFNO0lBQ2ZDLEtBQUssRUFBQyx1QkFBdUI7SUFDN0JDLEtBQUssRUFBQyxLQUFLO0lBQ1hDLEtBQUssRUFBQyxTQUFTO0lBQ2ZDLE1BQU0sRUFBQyxHQUFHO0lBQ1ZDLFVBQVUsRUFBQyxFQUFFO0lBQ2JDLFlBQVksRUFBQztFQUNqQixDQUFDLEVBRVI7SUFDV1IsR0FBRyxFQUFDLEdBQUc7SUFDUEMsSUFBSSxFQUFDLG9CQUFvQjtJQUN6QkMsUUFBUSxFQUFDLE1BQU07SUFDZkMsS0FBSyxFQUFDLHVCQUF1QjtJQUM3QkMsS0FBSyxFQUFFLEtBQUs7SUFDWkMsS0FBSyxFQUFDLE1BQU07SUFDWkMsTUFBTSxFQUFDLEdBQUc7SUFDVkMsVUFBVSxFQUFDLENBQUM7SUFDWkMsWUFBWSxFQUFDO0VBQ2pCLENBQUMsRUFFUjtJQUNXUixHQUFHLEVBQUMsR0FBRztJQUNQQyxJQUFJLEVBQUMsa0JBQWtCO0lBQ3ZCQyxRQUFRLEVBQUMsTUFBTTtJQUNmQyxLQUFLLEVBQUMsdUJBQXVCO0lBQzdCQyxLQUFLLEVBQUMsSUFBSTtJQUNWQyxLQUFLLEVBQUMsZUFBZTtJQUNyQkMsTUFBTSxFQUFDLEdBQUc7SUFDVkMsVUFBVSxFQUFDLENBQUM7SUFDWkMsWUFBWSxFQUFDO0VBQ2pCLENBQUMsRUFDUjtJQUNXUixHQUFHLEVBQUMsR0FBRztJQUNQQyxJQUFJLEVBQUMsa0JBQWtCO0lBQ3ZCQyxRQUFRLEVBQUMsTUFBTTtJQUNmQyxLQUFLLEVBQUMsdUJBQXVCO0lBQzdCQyxLQUFLLEVBQUMsS0FBSztJQUNYQyxLQUFLLEVBQUMsU0FBUztJQUNmQyxNQUFNLEVBQUMsR0FBRztJQUNWQyxVQUFVLEVBQUMsRUFBRTtJQUNiQyxZQUFZLEVBQUM7RUFDakIsQ0FBQztBQUdULENBQUM7QUFBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLFFBQUEifQ==","map":{"version":3,"names":["products","_id","name","category","image","price","brand","rating","numReviews","countInStock","exports","default","_default"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\","sources":["data.js"],"sourcesContent":["export default  {\r\n    products:[\r\n        {\r\n            _id:'111111111111111111111111',\r\n            name:'black suede shoe',\r\n            category:'shoe',\r\n            image:'/images/product-1.jpg',\r\n            price: 12000,\r\n            brand:'bata',\r\n            rating:4.0,\r\n            numReviews:9,\r\n            countInStock:8,\r\n        },\r\n {\r\n            _id:'2',\r\n            name:'black kiwi shoe',\r\n            category:'shoe',\r\n            image:'/images/product-2.jpg',\r\n            price: 14000,\r\n            brand:'nike',\r\n            rating:4.0,\r\n            numReviews:8,\r\n            countInStock:4,\r\n        },\r\n {\r\n            _id:'3',\r\n            name:'black suede shoe',\r\n            category:'shoe',\r\n            image:'/images/product-3.jpg',\r\n            price:18000,\r\n            brand:'versace',\r\n            rating:4.5,\r\n            numReviews:10,\r\n            countInStock:5,\r\n        },\r\n\r\n {\r\n            _id:'4',\r\n            name:'black shining shoe',\r\n            category:'shoe',\r\n            image:'/images/product-4.jpg',\r\n            price: 15000,\r\n            brand:'kiwi',\r\n            rating:4.0,\r\n            numReviews:7,\r\n            countInStock:6,\r\n        },\r\n\r\n {\r\n            _id:'5',\r\n            name:'black suede shoe',\r\n            category:'shoe',\r\n            image:'/images/product-5.jpg',\r\n            price:9000,\r\n            brand:'louis vuitton',\r\n            rating:4.0,\r\n            numReviews:8,\r\n            countInStock:6,\r\n        }, \r\n {\r\n            _id:'6',\r\n            name:'brown suede shoe',\r\n            category:'shoe',\r\n            image:'/images/product-6.jpg',\r\n            price:16000,\r\n            brand:'versace',\r\n            rating:4.0,\r\n            numReviews:10,\r\n            countInStock:6,\r\n        },\r\n\r\n    ],\r\n};"],"mappings":";;;;;;eAAgB;EACZA,QAAQ,EAAC,CACL;IACIC,GAAG,EAAC,0BAA0B;IAC9BC,IAAI,EAAC,kBAAkB;IACvBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAE,KAAK;IACZC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,CAAC;IACZC,YAAY,EAAC;EACjB,CAAC,EACR;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,iBAAiB;IACtBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAE,KAAK;IACZC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,CAAC;IACZC,YAAY,EAAC;EACjB,CAAC,EACR;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,kBAAkB;IACvBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAC,KAAK;IACXC,KAAK,EAAC,SAAS;IACfC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,EAAE;IACbC,YAAY,EAAC;EACjB,CAAC,EAER;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,oBAAoB;IACzBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAE,KAAK;IACZC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,CAAC;IACZC,YAAY,EAAC;EACjB,CAAC,EAER;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,kBAAkB;IACvBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAC,IAAI;IACVC,KAAK,EAAC,eAAe;IACrBC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,CAAC;IACZC,YAAY,EAAC;EACjB,CAAC,EACR;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,kBAAkB;IACvBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAC,KAAK;IACXC,KAAK,EAAC,SAAS;IACfC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,EAAE;IACbC,YAAY,EAAC;EACjB,CAAC;AAGT,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA"}},"mtime":1684706593791},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    _id: '111111111111111111111111',\n    name: 'black suede shoe',\n    category: 'shoe',\n    image: '/images/product-1.jpg',\n    price: 12000,\n    brand: 'bata',\n    rating: 4.0,\n    numReviews: 9,\n    countInStock: 8\n  }, {\n    _id: '2',\n    name: 'black kiwi shoe',\n    category: 'shoe',\n    image: '/images/product-2.jpg',\n    price: 14000,\n    brand: 'nike',\n    rating: 4.0,\n    numReviews: 8,\n    countInStock: 4\n  }, {\n    _id: '3',\n    name: 'black suede shoe',\n    category: 'shoe',\n    image: '/images/product-3.jpg',\n    price: 18000,\n    brand: 'versace',\n    rating: 4.5,\n    numReviews: 10,\n    countInStock: 5\n  }, {\n    _id: '4',\n    name: 'black shining shoe',\n    category: 'shoe',\n    image: '/images/product-4.jpg',\n    price: 15000,\n    brand: 'kiwi',\n    rating: 4.0,\n    numReviews: 7,\n    countInStock: 6\n  }, {\n    _id: '5',\n    name: 'black suede shoe',\n    category: 'shoe',\n    image: '/images/product-5.jpg',\n    price: 9000,\n    brand: 'louis vuitton',\n    rating: 4.0,\n    numReviews: 8,\n    countInStock: 6\n  }, {\n    _id: '6',\n    name: 'brown suede shoe',\n    category: 'shoe',\n    image: '/images/product-6.jpg',\n    price: 16000,\n    brand: 'versace',\n    rating: 4.0,\n    numReviews: 10,\n    countInStock: 6\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0cyIsIl9pZCIsIm5hbWUiLCJjYXRlZ29yeSIsImltYWdlIiwicHJpY2UiLCJicmFuZCIsInJhdGluZyIsIm51bVJldmlld3MiLCJjb3VudEluU3RvY2siLCJleHBvcnRzIiwiZGVmYXVsdCIsIl9kZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFwiLCJzb3VyY2VzIjpbImRhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgIHtcclxuICAgIHByb2R1Y3RzOltcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIF9pZDonMTExMTExMTExMTExMTExMTExMTExMTExJyxcclxuICAgICAgICAgICAgbmFtZTonYmxhY2sgc3VlZGUgc2hvZScsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OidzaG9lJyxcclxuICAgICAgICAgICAgaW1hZ2U6Jy9pbWFnZXMvcHJvZHVjdC0xLmpwZycsXHJcbiAgICAgICAgICAgIHByaWNlOiAxMjAwMCxcclxuICAgICAgICAgICAgYnJhbmQ6J2JhdGEnLFxyXG4gICAgICAgICAgICByYXRpbmc6NC4wLFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOjksXHJcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazo4LFxyXG4gICAgICAgIH0sXHJcbiB7XHJcbiAgICAgICAgICAgIF9pZDonMicsXHJcbiAgICAgICAgICAgIG5hbWU6J2JsYWNrIGtpd2kgc2hvZScsXHJcbiAgICAgICAgICAgIGNhdGVnb3J5OidzaG9lJyxcclxuICAgICAgICAgICAgaW1hZ2U6Jy9pbWFnZXMvcHJvZHVjdC0yLmpwZycsXHJcbiAgICAgICAgICAgIHByaWNlOiAxNDAwMCxcclxuICAgICAgICAgICAgYnJhbmQ6J25pa2UnLFxyXG4gICAgICAgICAgICByYXRpbmc6NC4wLFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOjgsXHJcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazo0LFxyXG4gICAgICAgIH0sXHJcbiB7XHJcbiAgICAgICAgICAgIF9pZDonMycsXHJcbiAgICAgICAgICAgIG5hbWU6J2JsYWNrIHN1ZWRlIHNob2UnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTonc2hvZScsXHJcbiAgICAgICAgICAgIGltYWdlOicvaW1hZ2VzL3Byb2R1Y3QtMy5qcGcnLFxyXG4gICAgICAgICAgICBwcmljZToxODAwMCxcclxuICAgICAgICAgICAgYnJhbmQ6J3ZlcnNhY2UnLFxyXG4gICAgICAgICAgICByYXRpbmc6NC41LFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOjEwLFxyXG4gICAgICAgICAgICBjb3VudEluU3RvY2s6NSxcclxuICAgICAgICB9LFxyXG5cclxuIHtcclxuICAgICAgICAgICAgX2lkOic0JyxcclxuICAgICAgICAgICAgbmFtZTonYmxhY2sgc2hpbmluZyBzaG9lJyxcclxuICAgICAgICAgICAgY2F0ZWdvcnk6J3Nob2UnLFxyXG4gICAgICAgICAgICBpbWFnZTonL2ltYWdlcy9wcm9kdWN0LTQuanBnJyxcclxuICAgICAgICAgICAgcHJpY2U6IDE1MDAwLFxyXG4gICAgICAgICAgICBicmFuZDona2l3aScsXHJcbiAgICAgICAgICAgIHJhdGluZzo0LjAsXHJcbiAgICAgICAgICAgIG51bVJldmlld3M6NyxcclxuICAgICAgICAgICAgY291bnRJblN0b2NrOjYsXHJcbiAgICAgICAgfSxcclxuXHJcbiB7XHJcbiAgICAgICAgICAgIF9pZDonNScsXHJcbiAgICAgICAgICAgIG5hbWU6J2JsYWNrIHN1ZWRlIHNob2UnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTonc2hvZScsXHJcbiAgICAgICAgICAgIGltYWdlOicvaW1hZ2VzL3Byb2R1Y3QtNS5qcGcnLFxyXG4gICAgICAgICAgICBwcmljZTo5MDAwLFxyXG4gICAgICAgICAgICBicmFuZDonbG91aXMgdnVpdHRvbicsXHJcbiAgICAgICAgICAgIHJhdGluZzo0LjAsXHJcbiAgICAgICAgICAgIG51bVJldmlld3M6OCxcclxuICAgICAgICAgICAgY291bnRJblN0b2NrOjYsXHJcbiAgICAgICAgfSwgXHJcbiB7XHJcbiAgICAgICAgICAgIF9pZDonNicsXHJcbiAgICAgICAgICAgIG5hbWU6J2Jyb3duIHN1ZWRlIHNob2UnLFxyXG4gICAgICAgICAgICBjYXRlZ29yeTonc2hvZScsXHJcbiAgICAgICAgICAgIGltYWdlOicvaW1hZ2VzL3Byb2R1Y3QtNi5qcGcnLFxyXG4gICAgICAgICAgICBwcmljZToxNjAwMCxcclxuICAgICAgICAgICAgYnJhbmQ6J3ZlcnNhY2UnLFxyXG4gICAgICAgICAgICByYXRpbmc6NC4wLFxyXG4gICAgICAgICAgICBudW1SZXZpZXdzOjEwLFxyXG4gICAgICAgICAgICBjb3VudEluU3RvY2s6NixcclxuICAgICAgICB9LFxyXG5cclxuICAgIF0sXHJcbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZ0I7RUFDWkEsUUFBUSxFQUFDLENBQ0w7SUFDSUMsR0FBRyxFQUFDLDBCQUEwQjtJQUM5QkMsSUFBSSxFQUFDLGtCQUFrQjtJQUN2QkMsUUFBUSxFQUFDLE1BQU07SUFDZkMsS0FBSyxFQUFDLHVCQUF1QjtJQUM3QkMsS0FBSyxFQUFFLEtBQUs7SUFDWkMsS0FBSyxFQUFDLE1BQU07SUFDWkMsTUFBTSxFQUFDLEdBQUc7SUFDVkMsVUFBVSxFQUFDLENBQUM7SUFDWkMsWUFBWSxFQUFDO0VBQ2pCLENBQUMsRUFDUjtJQUNXUixHQUFHLEVBQUMsR0FBRztJQUNQQyxJQUFJLEVBQUMsaUJBQWlCO0lBQ3RCQyxRQUFRLEVBQUMsTUFBTTtJQUNmQyxLQUFLLEVBQUMsdUJBQXVCO0lBQzdCQyxLQUFLLEVBQUUsS0FBSztJQUNaQyxLQUFLLEVBQUMsTUFBTTtJQUNaQyxNQUFNLEVBQUMsR0FBRztJQUNWQyxVQUFVLEVBQUMsQ0FBQztJQUNaQyxZQUFZLEVBQUM7RUFDakIsQ0FBQyxFQUNSO0lBQ1dSLEdBQUcsRUFBQyxHQUFHO0lBQ1BDLElBQUksRUFBQyxrQkFBa0I7SUFDdkJDLFFBQVEsRUFBQyxNQUFNO0lBQ2ZDLEtBQUssRUFBQyx1QkFBdUI7SUFDN0JDLEtBQUssRUFBQyxLQUFLO0lBQ1hDLEtBQUssRUFBQyxTQUFTO0lBQ2ZDLE1BQU0sRUFBQyxHQUFHO0lBQ1ZDLFVBQVUsRUFBQyxFQUFFO0lBQ2JDLFlBQVksRUFBQztFQUNqQixDQUFDLEVBRVI7SUFDV1IsR0FBRyxFQUFDLEdBQUc7SUFDUEMsSUFBSSxFQUFDLG9CQUFvQjtJQUN6QkMsUUFBUSxFQUFDLE1BQU07SUFDZkMsS0FBSyxFQUFDLHVCQUF1QjtJQUM3QkMsS0FBSyxFQUFFLEtBQUs7SUFDWkMsS0FBSyxFQUFDLE1BQU07SUFDWkMsTUFBTSxFQUFDLEdBQUc7SUFDVkMsVUFBVSxFQUFDLENBQUM7SUFDWkMsWUFBWSxFQUFDO0VBQ2pCLENBQUMsRUFFUjtJQUNXUixHQUFHLEVBQUMsR0FBRztJQUNQQyxJQUFJLEVBQUMsa0JBQWtCO0lBQ3ZCQyxRQUFRLEVBQUMsTUFBTTtJQUNmQyxLQUFLLEVBQUMsdUJBQXVCO0lBQzdCQyxLQUFLLEVBQUMsSUFBSTtJQUNWQyxLQUFLLEVBQUMsZUFBZTtJQUNyQkMsTUFBTSxFQUFDLEdBQUc7SUFDVkMsVUFBVSxFQUFDLENBQUM7SUFDWkMsWUFBWSxFQUFDO0VBQ2pCLENBQUMsRUFDUjtJQUNXUixHQUFHLEVBQUMsR0FBRztJQUNQQyxJQUFJLEVBQUMsa0JBQWtCO0lBQ3ZCQyxRQUFRLEVBQUMsTUFBTTtJQUNmQyxLQUFLLEVBQUMsdUJBQXVCO0lBQzdCQyxLQUFLLEVBQUMsS0FBSztJQUNYQyxLQUFLLEVBQUMsU0FBUztJQUNmQyxNQUFNLEVBQUMsR0FBRztJQUNWQyxVQUFVLEVBQUMsRUFBRTtJQUNiQyxZQUFZLEVBQUM7RUFDakIsQ0FBQztBQUdULENBQUM7QUFBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLFFBQUEifQ==","map":{"version":3,"names":["products","_id","name","category","image","price","brand","rating","numReviews","countInStock","exports","default","_default"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\","sources":["data.js"],"sourcesContent":["export default  {\r\n    products:[\r\n        {\r\n            _id:'111111111111111111111111',\r\n            name:'black suede shoe',\r\n            category:'shoe',\r\n            image:'/images/product-1.jpg',\r\n            price: 12000,\r\n            brand:'bata',\r\n            rating:4.0,\r\n            numReviews:9,\r\n            countInStock:8,\r\n        },\r\n {\r\n            _id:'2',\r\n            name:'black kiwi shoe',\r\n            category:'shoe',\r\n            image:'/images/product-2.jpg',\r\n            price: 14000,\r\n            brand:'nike',\r\n            rating:4.0,\r\n            numReviews:8,\r\n            countInStock:4,\r\n        },\r\n {\r\n            _id:'3',\r\n            name:'black suede shoe',\r\n            category:'shoe',\r\n            image:'/images/product-3.jpg',\r\n            price:18000,\r\n            brand:'versace',\r\n            rating:4.5,\r\n            numReviews:10,\r\n            countInStock:5,\r\n        },\r\n\r\n {\r\n            _id:'4',\r\n            name:'black shining shoe',\r\n            category:'shoe',\r\n            image:'/images/product-4.jpg',\r\n            price: 15000,\r\n            brand:'kiwi',\r\n            rating:4.0,\r\n            numReviews:7,\r\n            countInStock:6,\r\n        },\r\n\r\n {\r\n            _id:'5',\r\n            name:'black suede shoe',\r\n            category:'shoe',\r\n            image:'/images/product-5.jpg',\r\n            price:9000,\r\n            brand:'louis vuitton',\r\n            rating:4.0,\r\n            numReviews:8,\r\n            countInStock:6,\r\n        }, \r\n {\r\n            _id:'6',\r\n            name:'brown suede shoe',\r\n            category:'shoe',\r\n            image:'/images/product-6.jpg',\r\n            price:16000,\r\n            brand:'versace',\r\n            rating:4.0,\r\n            numReviews:10,\r\n            countInStock:6,\r\n        },\r\n\r\n    ],\r\n};"],"mappings":";;;;;;eAAgB;EACZA,QAAQ,EAAC,CACL;IACIC,GAAG,EAAC,0BAA0B;IAC9BC,IAAI,EAAC,kBAAkB;IACvBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAE,KAAK;IACZC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,CAAC;IACZC,YAAY,EAAC;EACjB,CAAC,EACR;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,iBAAiB;IACtBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAE,KAAK;IACZC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,CAAC;IACZC,YAAY,EAAC;EACjB,CAAC,EACR;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,kBAAkB;IACvBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAC,KAAK;IACXC,KAAK,EAAC,SAAS;IACfC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,EAAE;IACbC,YAAY,EAAC;EACjB,CAAC,EAER;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,oBAAoB;IACzBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAE,KAAK;IACZC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,CAAC;IACZC,YAAY,EAAC;EACjB,CAAC,EAER;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,kBAAkB;IACvBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAC,IAAI;IACVC,KAAK,EAAC,eAAe;IACrBC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,CAAC;IACZC,YAAY,EAAC;EACjB,CAAC,EACR;IACWR,GAAG,EAAC,GAAG;IACPC,IAAI,EAAC,kBAAkB;IACvBC,QAAQ,EAAC,MAAM;IACfC,KAAK,EAAC,uBAAuB;IAC7BC,KAAK,EAAC,KAAK;IACXC,KAAK,EAAC,SAAS;IACfC,MAAM,EAAC,GAAG;IACVC,UAAU,EAAC,EAAE;IACbC,YAAY,EAAC;EACjB,CAAC;AAGT,CAAC;AAAAC,OAAA,CAAAC,OAAA,GAAAC,QAAA"}},"mtime":1684706593791},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nvar _default = {\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZG90ZW52IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRvdGVudiIsImNvbmZpZyIsIl9kZWZhdWx0IiwiTU9OR09EQl9VUkwiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQk9ERVxcRG9jdW1lbnRzXFxjb2RlXFxlY29tbWVyY2VcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsiY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52J1xyXG5cclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCxcclxuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBMkIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFHM0JHLGVBQU0sQ0FBQ0MsTUFBTSxFQUFFO0FBQUMsSUFBQUMsUUFBQSxHQUVEO0VBQ2RDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFdBQVc7RUFDbkNHLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDO0FBQzFCLENBQUM7QUFBQUMsT0FBQSxDQUFBUixPQUFBLEdBQUFHLFFBQUEifQ==","map":{"version":3,"names":["_dotenv","_interopRequireDefault","require","obj","__esModule","default","dotenv","config","_default","MONGODB_URL","process","env","JWT_SECRET","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\","sources":["config.js"],"sourcesContent":["import dotenv from 'dotenv'\r\n\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n MONGODB_URL: process.env.MONGODB_URL,\r\n  JWT_SECRET: process.env.JWT_SECRET\r\n}\r\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAG3BG,eAAM,CAACC,MAAM,EAAE;AAAC,IAAAC,QAAA,GAED;EACdC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACF,WAAW;EACnCG,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACC;AAC1B,CAAC;AAAAC,OAAA,CAAAR,OAAA,GAAAG,QAAA"}},"mtime":1682689812059},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nvar _default = {\n  MONGODB_URL: process.env.MONGODB_URL,\n  JWT_SECRET: process.env.JWT_SECRET\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZG90ZW52IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRvdGVudiIsImNvbmZpZyIsIl9kZWZhdWx0IiwiTU9OR09EQl9VUkwiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQk9ERVxcRG9jdW1lbnRzXFxjb2RlXFxlY29tbWVyY2VcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsiY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52J1xyXG5cclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuIE1PTkdPREJfVVJMOiBwcm9jZXNzLmVudi5NT05HT0RCX1VSTCxcclxuICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBMkIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFHM0JHLGVBQU0sQ0FBQ0MsTUFBTSxFQUFFO0FBQUMsSUFBQUMsUUFBQSxHQUVEO0VBQ2RDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFdBQVc7RUFDbkNHLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFHLENBQUNDO0FBQzFCLENBQUM7QUFBQUMsT0FBQSxDQUFBUixPQUFBLEdBQUFHLFFBQUEifQ==","map":{"version":3,"names":["_dotenv","_interopRequireDefault","require","obj","__esModule","default","dotenv","config","_default","MONGODB_URL","process","env","JWT_SECRET","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\","sources":["config.js"],"sourcesContent":["import dotenv from 'dotenv'\r\n\r\n\r\ndotenv.config();\r\n\r\nexport default {\r\n MONGODB_URL: process.env.MONGODB_URL,\r\n  JWT_SECRET: process.env.JWT_SECRET\r\n}\r\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAG3BG,eAAM,CAACC,MAAM,EAAE;AAAC,IAAAC,QAAA,GAED;EACdC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACF,WAAW;EACnCG,UAAU,EAAEF,OAAO,CAACC,GAAG,CAACC;AAC1B,CAAC;AAAAC,OAAA,CAAAR,OAAA,GAAAG,QAAA"}},"mtime":1682689812059},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _middleware = require(\"../middleware\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userRouter = _express.default.Router();\nuserRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'admin',\n      email: 'admin@example.com',\n      password: 'maggi',\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if (!signinUser) {\n    res.status(401).send({\n      message: 'Invalid email or password'\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _middleware.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.put('/:id', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n  if (!user) {\n    res.status(404).send({\n      message: 'user not found'\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _middleware.generateToken)(updatedUser)\n    });\n  }\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n  if (!createdUser) {\n    res.status(401).send({\n      message: 'Invalid user data'\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _middleware.generateToken)(createdUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXJNb2RlbCIsIl9leHByZXNzQXN5bmNIYW5kbGVyIiwiX21pZGRsZXdhcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInVzZXJSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsInVzZXIiLCJVc2VyIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiY3JlYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsImVyciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0Iiwic2lnbmluVXNlciIsImZpbmRPbmUiLCJib2R5IiwiX2lkIiwidG9rZW4iLCJnZW5lcmF0ZVRva2VuIiwicHV0IiwiaXNBdXRoIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInVwZGF0ZWRVc2VyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCdcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJ1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tICcuLi9taWRkbGV3YXJlJ1xyXG5cclxuXHJcblxyXG5jb25zdCB1c2VyUm91dGVyPWV4cHJlc3MuUm91dGVyKClcclxuXHJcbnVzZXJSb3V0ZXIuZ2V0KCcvY3JlYXRlYWRtaW4nLGV4cHJlc3NBc3luY0hhbmRsZXIgKGFzeW5jKHJlcSwgcmVzKT0+e1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgICAgICAgIG5hbWU6J2FkbWluJyxcclxuICAgICAgICAgICAgZW1haWw6J2FkbWluQGV4YW1wbGUuY29tJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6J21hZ2dpJyxcclxuICAgICAgICAgICAgaXNBZG1pbjp0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCBjcmVhdGVkVXNlcj1hd2FpdCB1c2VyLnNhdmUoKVxyXG4gICAgICAgIHJlcy5zZW5kKGNyZWF0ZWRVc2VyKVxyXG4gICAgfWNhdGNoKGVycil7XHJcbnJlcy5zdGF0dXMoNTAwKS5zZW5kKHttZXNzYWdlOmVyci5tZXNzYWdlfSlcclxuICAgIH1cclxufSkpXHJcblxyXG5cclxudXNlclJvdXRlci5wb3N0KCcvc2lnbmluJywgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEsIHJlcyk9PntcclxuICAgY29uc3Qgc2lnbmluVXNlcj1hd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkLFxyXG4gICB9KVxyXG4gICBpZighc2lnbmluVXNlcil7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTonSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCd9KVxyXG4gICB9ZWxzZXtcclxuICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHNpZ25pblVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHNpZ25pblVzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogc2lnbmluVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oc2lnbmluVXNlciksXHJcbiAgICAgICAgXHJcbiAgICB9KVxyXG4gICB9XHJcblxyXG59KSlcclxuXHJcbnVzZXJSb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMpPT57XHJcbiAgIGNvbnN0IHVzZXI9YXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKVxyXG5cclxuICAgaWYoIXVzZXIpe1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6J3VzZXIgbm90IGZvdW5kJ30pXHJcbiAgIH1lbHNle1xyXG4gICAgdXNlci5uYW1lPXJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lXHJcbiB1c2VyLmVtYWlsPXJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWxcclxuICB1c2VyLnBhc3N3b3JkPXJlcS5ib2R5LnBhc3N3b3JkIHx8IHVzZXIucGFzc3dvcmRcclxuICBcclxuICBjb25zdCB1cGRhdGVkVXNlcj1hd2FpdCB1c2VyLnNhdmUoKVxyXG5cclxuICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiB1cGRhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgICAgICBcclxuICAgIH0pXHJcbiAgIH1cclxufSkpXHJcblxyXG51c2VyUm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMpPT57XHJcbiAgIGNvbnN0IHVzZXI9IG5ldyBVc2VyKHtcclxubmFtZTpyZXEuYm9keS5uYW1lLFxyXG5lbWFpbDpyZXEuYm9keS5lbWFpbCxcclxucGFzc3dvcmQ6cmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgIH0pXHJcbmNvbnN0IGNyZWF0ZWRVc2VyPWF3YWl0IHVzZXIuc2F2ZSgpXHJcblxyXG4gICBpZighY3JlYXRlZFVzZXIpe1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6J0ludmFsaWQgdXNlciBkYXRhJ30pXHJcbiAgIH1lbHNle1xyXG4gICAgcmVzLnNlbmQoe1xyXG4gICAgICAgIF9pZDogY3JlYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IGNyZWF0ZWRVc2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IGNyZWF0ZWRVc2VyLmVtYWlsLFxyXG4gICAgICAgIGlzQWRtaW46IGNyZWF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oY3JlYXRlZFVzZXIpLFxyXG4gICAgICAgIFxyXG4gICAgfSlcclxuICAgfVxyXG5cclxufSkpXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJSb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLG9CQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFBcUQsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFJckQsTUFBTUcsVUFBVSxHQUFDQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFakNGLFVBQVUsQ0FBQ0csR0FBRyxDQUFDLGNBQWMsRUFBQyxJQUFBQyw0QkFBbUIsRUFBRSxPQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBRztFQUNoRSxJQUFHO0lBQ0MsTUFBTUMsSUFBSSxHQUFHLElBQUlDLGtCQUFJLENBQUM7TUFDbEJDLElBQUksRUFBQyxPQUFPO01BQ1pDLEtBQUssRUFBQyxtQkFBbUI7TUFDekJDLFFBQVEs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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_userModel","_expressAsyncHandler","_middleware","obj","__esModule","default","userRouter","express","Router","get","expressAsyncHandler","req","res","user","User","name","email","password","isAdmin","createdUser","save","send","err","status","message","post","signinUser","findOne","body","_id","token","generateToken","put","isAuth","findById","params","id","updatedUser","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\routers\\","sources":["userRouter.js"],"sourcesContent":["import express from 'express'\r\nimport User from '../models/userModel'\r\nimport expressAsyncHandler from 'express-async-handler'\r\nimport { generateToken, isAuth } from '../middleware'\r\n\r\n\r\n\r\nconst userRouter=express.Router()\r\n\r\nuserRouter.get('/createadmin',expressAsyncHandler (async(req, res)=>{\r\n    try{\r\n        const user = new User({\r\n            name:'admin',\r\n            email:'admin@example.com',\r\n            password:'maggi',\r\n            isAdmin:true\r\n        })\r\n        const createdUser=await user.save()\r\n        res.send(createdUser)\r\n    }catch(err){\r\nres.status(500).send({message:err.message})\r\n    }\r\n}))\r\n\r\n\r\nuserRouter.post('/signin', expressAsyncHandler(async(req, res)=>{\r\n   const signinUser=await User.findOne({\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n   })\r\n   if(!signinUser){\r\n    res.status(401).send({message:'Invalid email or password'})\r\n   }else{\r\n    res.send({\r\n        _id: signinUser._id,\r\n        name: signinUser.name,\r\n        email: signinUser.email,\r\n        isAdmin: signinUser.isAdmin,\r\n        token: generateToken(signinUser),\r\n        \r\n    })\r\n   }\r\n\r\n}))\r\n\r\nuserRouter.put('/:id', isAuth,expressAsyncHandler(async(req, res)=>{\r\n   const user=await User.findById(req.params.id)\r\n\r\n   if(!user){\r\n    res.status(404).send({message:'user not found'})\r\n   }else{\r\n    user.name=req.body.name || user.name\r\n user.email=req.body.email || user.email\r\n  user.password=req.body.password || user.password\r\n  \r\n  const updatedUser=await user.save()\r\n\r\n    res.send({\r\n        _id: updatedUser._id,\r\n        name: updatedUser.name,\r\n        email: updatedUser.email,\r\n        isAdmin: updatedUser.isAdmin,\r\n        token: generateToken(updatedUser),\r\n        \r\n    })\r\n   }\r\n}))\r\n\r\nuserRouter.post('/register', expressAsyncHandler(async(req, res)=>{\r\n   const user= new User({\r\nname:req.body.name,\r\nemail:req.body.email,\r\npassword:req.body.password,\r\n   })\r\nconst createdUser=await user.save()\r\n\r\n   if(!createdUser){\r\n    res.status(401).send({message:'Invalid user data'})\r\n   }else{\r\n    res.send({\r\n        _id: createdUser._id,\r\n        name: createdUser.name,\r\n        email: createdUser.email,\r\n        isAdmin: createdUser.isAdmin,\r\n        token: generateToken(createdUser),\r\n        \r\n    })\r\n   }\r\n\r\n}))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default userRouter"],"mappings":"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"}},"mtime":1683749071060},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\nconst User = _mongoose.default.model('User', userSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwiaW5kZXgiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJCb29sZWFuIiwiVXNlciIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWE9bmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBuYW1lOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbWFpbDp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIGluZGV4OnRydWUsIHVuaXF1ZTp0cnVlfSxcclxuICAgIHBhc3N3b3JkOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBpc0FkbWluOnt0eXBlOkJvb2xlYW4sIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6ZmFsc2V9LFxyXG59KVxyXG5cclxuXHJcbmNvbnN0IFVzZXI9bW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKVxyXG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWhDLE1BQU1HLFVBQVUsR0FBQyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDakNDLElBQUksRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqQ0MsS0FBSyxFQUFDO0lBQUNILElBQUksRUFBQ0MsTUFBTTtJQUFFQyxRQUFRLEVBQUMsSUFBSTtJQUFFRSxLQUFLLEVBQUMsSUFBSTtJQUFFQyxNQUFNLEVBQUM7RUFBSSxDQUFDO0VBQzNEQyxRQUFRLEVBQUM7SUFBQ04sSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckNLLE9BQU8sRUFBQztJQUFDUCxJQUFJLEVBQUNRLE9BQU87SUFBRU4sUUFBUSxFQUFDLElBQUk7SUFBRVAsT0FBTyxFQUFDO0VBQUs7QUFDdkQsQ0FBQyxDQUFDO0FBR0YsTUFBTWMsSUFBSSxHQUFDWixpQkFBUSxDQUFDYSxLQUFLLENBQUMsTUFBTSxFQUFFZCxVQUFVLENBQUM7QUFBQSxJQUFBZSxRQUFBLEdBQzlCRixJQUFJO0FBQUFHLE9BQUEsQ0FBQWpCLE9BQUEsR0FBQWdCLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","userSchema","mongoose","Schema","name","type","String","required","email","index","unique","password","isAdmin","Boolean","User","model","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst userSchema=new mongoose.Schema({\r\n    name:{type:String, required:true},\r\n    email:{type:String, required:true, index:true, unique:true},\r\n    password:{type:String, required:true},\r\n    isAdmin:{type:Boolean, required:true, default:false},\r\n})\r\n\r\n\r\nconst User=mongoose.model('User', userSchema)\r\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,UAAU,GAAC,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACjCC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjCC,KAAK,EAAC;IAACH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEE,KAAK,EAAC,IAAI;IAAEC,MAAM,EAAC;EAAI,CAAC;EAC3DC,QAAQ,EAAC;IAACN,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrCK,OAAO,EAAC;IAACP,IAAI,EAACQ,OAAO;IAAEN,QAAQ,EAAC,IAAI;IAAEP,OAAO,EAAC;EAAK;AACvD,CAAC,CAAC;AAGF,MAAMc,IAAI,GAACZ,iBAAQ,CAACa,KAAK,CAAC,MAAM,EAAEd,UAAU,CAAC;AAAA,IAAAe,QAAA,GAC9BF,IAAI;AAAAG,OAAA,CAAAjB,OAAA,GAAAgB,QAAA"}},"mtime":1682611090966},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _middleware = require(\"../middleware\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userRouter = _express.default.Router();\nuserRouter.get('/createadmin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'admin',\n      email: 'admin@example.com',\n      password: 'maggi',\n      isAdmin: true\n    });\n    const createdUser = await user.save();\n    res.send(createdUser);\n  } catch (err) {\n    res.status(500).send({\n      message: err.message\n    });\n  }\n}));\nuserRouter.post('/signin', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if (!signinUser) {\n    res.status(401).send({\n      message: 'Invalid email or password'\n    });\n  } else {\n    res.send({\n      _id: signinUser._id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _middleware.generateToken)(signinUser)\n    });\n  }\n}));\nuserRouter.put('/:id', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = await _userModel.default.findById(req.params.id);\n  if (!user) {\n    res.status(404).send({\n      message: 'user not found'\n    });\n  } else {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser._id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _middleware.generateToken)(updatedUser)\n    });\n  }\n}));\nuserRouter.post('/register', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const createdUser = await user.save();\n  if (!createdUser) {\n    res.status(401).send({\n      message: 'Invalid user data'\n    });\n  } else {\n    res.send({\n      _id: createdUser._id,\n      name: createdUser.name,\n      email: createdUser.email,\n      isAdmin: createdUser.isAdmin,\n      token: (0, _middleware.generateToken)(createdUser)\n    });\n  }\n}));\nvar _default = userRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VzZXJNb2RlbCIsIl9leHByZXNzQXN5bmNIYW5kbGVyIiwiX21pZGRsZXdhcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInVzZXJSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsInVzZXIiLCJVc2VyIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiY3JlYXRlZFVzZXIiLCJzYXZlIiwic2VuZCIsImVyciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0Iiwic2lnbmluVXNlciIsImZpbmRPbmUiLCJib2R5IiwiX2lkIiwidG9rZW4iLCJnZW5lcmF0ZVRva2VuIiwicHV0IiwiaXNBdXRoIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInVwZGF0ZWRVc2VyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCdcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJ1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVRva2VuLCBpc0F1dGggfSBmcm9tICcuLi9taWRkbGV3YXJlJ1xyXG5cclxuXHJcblxyXG5jb25zdCB1c2VyUm91dGVyPWV4cHJlc3MuUm91dGVyKClcclxuXHJcbnVzZXJSb3V0ZXIuZ2V0KCcvY3JlYXRlYWRtaW4nLGV4cHJlc3NBc3luY0hhbmRsZXIgKGFzeW5jKHJlcSwgcmVzKT0+e1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgICAgICAgIG5hbWU6J2FkbWluJyxcclxuICAgICAgICAgICAgZW1haWw6J2FkbWluQGV4YW1wbGUuY29tJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6J21hZ2dpJyxcclxuICAgICAgICAgICAgaXNBZG1pbjp0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCBjcmVhdGVkVXNlcj1hd2FpdCB1c2VyLnNhdmUoKVxyXG4gICAgICAgIHJlcy5zZW5kKGNyZWF0ZWRVc2VyKVxyXG4gICAgfWNhdGNoKGVycil7XHJcbnJlcy5zdGF0dXMoNTAwKS5zZW5kKHttZXNzYWdlOmVyci5tZXNzYWdlfSlcclxuICAgIH1cclxufSkpXHJcblxyXG5cclxudXNlclJvdXRlci5wb3N0KCcvc2lnbmluJywgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEsIHJlcyk9PntcclxuICAgY29uc3Qgc2lnbmluVXNlcj1hd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkLFxyXG4gICB9KVxyXG4gICBpZighc2lnbmluVXNlcil7XHJcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTonSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCd9KVxyXG4gICB9ZWxzZXtcclxuICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHNpZ25pblVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHNpZ25pblVzZXIubmFtZSxcclxuICAgICAgICBlbWFpbDogc2lnbmluVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oc2lnbmluVXNlciksXHJcbiAgICAgICAgXHJcbiAgICB9KVxyXG4gICB9XHJcblxyXG59KSlcclxuXHJcbnVzZXJSb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMpPT57XHJcbiAgIGNvbnN0IHVzZXI9YXdhaXQgVXNlci5maW5kQnlJZChyZXEucGFyYW1zLmlkKVxyXG5cclxuICAgaWYoIXVzZXIpe1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6J3VzZXIgbm90IGZvdW5kJ30pXHJcbiAgIH1lbHNle1xyXG4gICAgdXNlci5uYW1lPXJlcS5ib2R5Lm5hbWUgfHwgdXNlci5uYW1lXHJcbiB1c2VyLmVtYWlsPXJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWxcclxuICB1c2VyLnBhc3N3b3JkPXJlcS5ib2R5LnBhc3N3b3JkIHx8IHVzZXIucGFzc3dvcmRcclxuICBcclxuICBjb25zdCB1cGRhdGVkVXNlcj1hd2FpdCB1c2VyLnNhdmUoKVxyXG5cclxuICAgIHJlcy5zZW5kKHtcclxuICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLl9pZCxcclxuICAgICAgICBuYW1lOiB1cGRhdGVkVXNlci5uYW1lLFxyXG4gICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcclxuICAgICAgICBpc0FkbWluOiB1cGRhdGVkVXNlci5pc0FkbWluLFxyXG4gICAgICAgIHRva2VuOiBnZW5lcmF0ZVRva2VuKHVwZGF0ZWRVc2VyKSxcclxuICAgICAgICBcclxuICAgIH0pXHJcbiAgIH1cclxufSkpXHJcblxyXG51c2VyUm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMpPT57XHJcbiAgIGNvbnN0IHVzZXI9IG5ldyBVc2VyKHtcclxubmFtZTpyZXEuYm9keS5uYW1lLFxyXG5lbWFpbDpyZXEuYm9keS5lbWFpbCxcclxucGFzc3dvcmQ6cmVxLmJvZHkucGFzc3dvcmQsXHJcbiAgIH0pXHJcbmNvbnN0IGNyZWF0ZWRVc2VyPWF3YWl0IHVzZXIuc2F2ZSgpXHJcblxyXG4gICBpZighY3JlYXRlZFVzZXIpe1xyXG4gICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6J0ludmFsaWQgdXNlciBkYXRhJ30pXHJcbiAgIH1lbHNle1xyXG4gICAgcmVzLnNlbmQoe1xyXG4gICAgICAgIF9pZDogY3JlYXRlZFVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IGNyZWF0ZWRVc2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IGNyZWF0ZWRVc2VyLmVtYWlsLFxyXG4gICAgICAgIGlzQWRtaW46IGNyZWF0ZWRVc2VyLmlzQWRtaW4sXHJcbiAgICAgICAgdG9rZW46IGdlbmVyYXRlVG9rZW4oY3JlYXRlZFVzZXIpLFxyXG4gICAgICAgIFxyXG4gICAgfSlcclxuICAgfVxyXG5cclxufSkpXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJSb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLG9CQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFBcUQsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFJckQsTUFBTUcsVUFBVSxHQUFDQyxnQkFBTyxDQUFDQyxNQUFNLEVBQUU7QUFFakNGLFVBQVUsQ0FBQ0csR0FBRyxDQUFDLGNBQWMsRUFBQyxJQUFBQyw0QkFBbUIsRUFBRSxPQUFNQyxHQUFHLEVBQUVDLEdBQUcsS0FBRztFQUNoRSxJQUFHO0lBQ0MsTUFBTUMsSUFBSSxHQUFHLElBQUlDLGtCQUFJLENBQUM7TUFDbEJDLElBQUksRUFBQyxPQUFPO01BQ1pDLEtBQUssRUFBQyxtQkFBbUI7TUFDekJDLFFBQVEs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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_userModel","_expressAsyncHandler","_middleware","obj","__esModule","default","userRouter","express","Router","get","expressAsyncHandler","req","res","user","User","name","email","password","isAdmin","createdUser","save","send","err","status","message","post","signinUser","findOne","body","_id","token","generateToken","put","isAuth","findById","params","id","updatedUser","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\routers\\","sources":["userRouter.js"],"sourcesContent":["import express from 'express'\r\nimport User from '../models/userModel'\r\nimport expressAsyncHandler from 'express-async-handler'\r\nimport { generateToken, isAuth } from '../middleware'\r\n\r\n\r\n\r\nconst userRouter=express.Router()\r\n\r\nuserRouter.get('/createadmin',expressAsyncHandler (async(req, res)=>{\r\n    try{\r\n        const user = new User({\r\n            name:'admin',\r\n            email:'admin@example.com',\r\n            password:'maggi',\r\n            isAdmin:true\r\n        })\r\n        const createdUser=await user.save()\r\n        res.send(createdUser)\r\n    }catch(err){\r\nres.status(500).send({message:err.message})\r\n    }\r\n}))\r\n\r\n\r\nuserRouter.post('/signin', expressAsyncHandler(async(req, res)=>{\r\n   const signinUser=await User.findOne({\r\n    email: req.body.email,\r\n    password: req.body.password,\r\n   })\r\n   if(!signinUser){\r\n    res.status(401).send({message:'Invalid email or password'})\r\n   }else{\r\n    res.send({\r\n        _id: signinUser._id,\r\n        name: signinUser.name,\r\n        email: signinUser.email,\r\n        isAdmin: signinUser.isAdmin,\r\n        token: generateToken(signinUser),\r\n        \r\n    })\r\n   }\r\n\r\n}))\r\n\r\nuserRouter.put('/:id', isAuth,expressAsyncHandler(async(req, res)=>{\r\n   const user=await User.findById(req.params.id)\r\n\r\n   if(!user){\r\n    res.status(404).send({message:'user not found'})\r\n   }else{\r\n    user.name=req.body.name || user.name\r\n user.email=req.body.email || user.email\r\n  user.password=req.body.password || user.password\r\n  \r\n  const updatedUser=await user.save()\r\n\r\n    res.send({\r\n        _id: updatedUser._id,\r\n        name: updatedUser.name,\r\n        email: updatedUser.email,\r\n        isAdmin: updatedUser.isAdmin,\r\n        token: generateToken(updatedUser),\r\n        \r\n    })\r\n   }\r\n}))\r\n\r\nuserRouter.post('/register', expressAsyncHandler(async(req, res)=>{\r\n   const user= new User({\r\nname:req.body.name,\r\nemail:req.body.email,\r\npassword:req.body.password,\r\n   })\r\nconst createdUser=await user.save()\r\n\r\n   if(!createdUser){\r\n    res.status(401).send({message:'Invalid user data'})\r\n   }else{\r\n    res.send({\r\n        _id: createdUser._id,\r\n        name: createdUser.name,\r\n        email: createdUser.email,\r\n        isAdmin: createdUser.isAdmin,\r\n        token: generateToken(createdUser),\r\n        \r\n    })\r\n   }\r\n\r\n}))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default userRouter"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,oBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,WAAA,GAAAH,OAAA;AAAqD,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAIrD,MAAMG,UAAU,GAACC,gBAAO,CAACC,MAAM,EAAE;AAEjCF,UAAU,CAACG,GAAG,CAAC,cAAc,EAAC,IAAAC,4BAAmB,EAAE,OAAMC,GAAG,EAAEC,GAAG,KAAG;EAChE,IAAG;IACC,MAAMC,IAAI,GAAG,IAAIC,kBAAI,CAAC;MAClBC,IAAI,EAAC,OAAO;MACZC,KAAK,EAAC,mBAAmB;MACzBC,QAAQ,EAAC,OAAO;MAChBC,OAAO,EAAC;IACZ,CAAC,CAAC;IACF,MAAMC,WAAW,GAAC,MAAMN,IAAI,CAACO,IAAI,EAAE;IACnCR,GAAG,CAACS,IAAI,CAACF,WAAW,CAAC;EACzB,CAAC,QAAMG,GAAG,EAAC;IACfV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAACG,OAAO,EAACF,GAAG,CAACE;IAAO,CAAC,CAAC;EACvC;AACJ,CAAC,CAAC,CAAC;AAGHlB,UAAU,CAACmB,IAAI,CAAC,SAAS,EAAE,IAAAf,4BAAmB,EAAC,OAAMC,GAAG,EAAEC,GAAG,KAAG;EAC7D,MAAMc,UAAU,GAAC,MAAMZ,kBAAI,CAACa,OAAO,CAAC;IACnCX,KAAK,EAAEL,GAAG,CAACiB,IAAI,CAACZ,KAAK;IACrBC,QAAQ,EAAEN,GAAG,CAACiB,IAAI,CAACX;EACpB,CAAC,CAAC;EACF,IAAG,CAACS,UAAU,EAAC;IACdd,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAACG,OAAO,EAAC;IAA2B,CAAC,CAAC;EAC5D,CAAC,MAAI;IACJZ,GAAG,CAACS,IAAI,CAAC;MACLQ,GAAG,EAAEH,UAAU,CAACG,GAAG;MACnBd,IAAI,EAAEW,UAAU,CAACX,IAAI;MACrBC,KAAK,EAAEU,UAAU,CAACV,KAAK;MACvBE,OAAO,EAAEQ,UAAU,CAACR,OAAO;MAC3BY,KAAK,EAAE,IAAAC,yBAAa,EAACL,UAAU;IAEnC,CAAC,CAAC;EACH;AAEH,CAAC,CAAC,CAAC;AAEHpB,UAAU,CAAC0B,GAAG,CAAC,MAAM,EAAEC,kBAAM,EAAC,IAAAvB,4BAAmB,EAAC,OAAMC,GAAG,EAAEC,GAAG,KAAG;EAChE,MAAMC,IAAI,GAAC,MAAMC,kBAAI,CAACoB,QAAQ,CAACvB,GAAG,CAACwB,MAAM,CAACC,EAAE,CAAC;EAE7C,IAAG,CAACvB,IAAI,EAAC;IACRD,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAACG,OAAO,EAAC;IAAgB,CAAC,CAAC;EACjD,CAAC,MAAI;IACJX,IAAI,CAACE,IAAI,GAACJ,GAAG,CAACiB,IAAI,CAACb,IAAI,IAAIF,IAAI,CAACE,IAAI;IACvCF,IAAI,CAACG,KAAK,GAACL,GAAG,CAACiB,IAAI,CAACZ,KAAK,IAAIH,IAAI,CAACG,KAAK;IACtCH,IAAI,CAACI,QAAQ,GAACN,GAAG,CAACiB,IAAI,CAACX,QAAQ,IAAIJ,IAAI,CAACI,QAAQ;IAEhD,MAAMoB,WAAW,GAAC,MAAMxB,IAAI,CAACO,IAAI,EAAE;IAEjCR,GAAG,CAACS,IAAI,CAAC;MACLQ,GAAG,EAAEQ,WAAW,CAACR,GAAG;MACpBd,IAAI,EAAEsB,WAAW,CAACtB,IAAI;MACtBC,KAAK,EAAEqB,WAAW,CAACrB,KAAK;MACxBE,OAAO,EAAEmB,WAAW,CAACnB,OAAO;MAC5BY,KAAK,EAAE,IAAAC,yBAAa,EAACM,WAAW;IAEpC,CAAC,CAAC;EACH;AACH,CAAC,CAAC,CAAC;AAEH/B,UAAU,CAACmB,IAAI,CAAC,WAAW,EAAE,IAAAf,4BAAmB,EAAC,OAAMC,GAAG,EAAEC,GAAG,KAAG;EAC/D,MAAMC,IAAI,GAAE,IAAIC,kBAAI,CAAC;IACxBC,IAAI,EAACJ,GAAG,CAACiB,IAAI,CAACb,IAAI;IAClBC,KAAK,EAACL,GAAG,CAACiB,IAAI,CAACZ,KAAK;IACpBC,QAAQ,EAACN,GAAG,CAACiB,IAAI,CAACX;EACf,CAAC,CAAC;EACL,MAAME,WAAW,GAAC,MAAMN,IAAI,CAACO,IAAI,EAAE;EAEhC,IAAG,CAACD,WAAW,EAAC;IACfP,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACF,IAAI,CAAC;MAACG,OAAO,EAAC;IAAmB,CAAC,CAAC;EACpD,CAAC,MAAI;IACJZ,GAAG,CAACS,IAAI,CAAC;MACLQ,GAAG,EAAEV,WAAW,CAACU,GAAG;MACpBd,IAAI,EAAEI,WAAW,CAACJ,IAAI;MACtBC,KAAK,EAAEG,WAAW,CAACH,KAAK;MACxBE,OAAO,EAAEC,WAAW,CAACD,OAAO;MAC5BY,KAAK,EAAE,IAAAC,yBAAa,EAACZ,WAAW;IAEpC,CAAC,CAAC;EACH;AAEH,CAAC,CAAC,CAAC;AAAA,IAAAmB,QAAA,GAUYhC,UAAU;AAAAiC,OAAA,CAAAlC,OAAA,GAAAiC,QAAA"}},"mtime":1683749071060},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    index: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\nconst User = _mongoose.default.model('User', userSchema);\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwiaW5kZXgiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJCb29sZWFuIiwiVXNlciIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IHVzZXJTY2hlbWE9bmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgICBuYW1lOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbWFpbDp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIGluZGV4OnRydWUsIHVuaXF1ZTp0cnVlfSxcclxuICAgIHBhc3N3b3JkOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBpc0FkbWluOnt0eXBlOkJvb2xlYW4sIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6ZmFsc2V9LFxyXG59KVxyXG5cclxuXHJcbmNvbnN0IFVzZXI9bW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKVxyXG5leHBvcnQgZGVmYXVsdCBVc2VyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWhDLE1BQU1HLFVBQVUsR0FBQyxJQUFJQyxpQkFBUSxDQUFDQyxNQUFNLENBQUM7RUFDakNDLElBQUksRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqQ0MsS0FBSyxFQUFDO0lBQUNILElBQUksRUFBQ0MsTUFBTTtJQUFFQyxRQUFRLEVBQUMsSUFBSTtJQUFFRSxLQUFLLEVBQUMsSUFBSTtJQUFFQyxNQUFNLEVBQUM7RUFBSSxDQUFDO0VBQzNEQyxRQUFRLEVBQUM7SUFBQ04sSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckNLLE9BQU8sRUFBQztJQUFDUCxJQUFJLEVBQUNRLE9BQU87SUFBRU4sUUFBUSxFQUFDLElBQUk7SUFBRVAsT0FBTyxFQUFDO0VBQUs7QUFDdkQsQ0FBQyxDQUFDO0FBR0YsTUFBTWMsSUFBSSxHQUFDWixpQkFBUSxDQUFDYSxLQUFLLENBQUMsTUFBTSxFQUFFZCxVQUFVLENBQUM7QUFBQSxJQUFBZSxRQUFBLEdBQzlCRixJQUFJO0FBQUFHLE9BQUEsQ0FBQWpCLE9BQUEsR0FBQWdCLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","userSchema","mongoose","Schema","name","type","String","required","email","index","unique","password","isAdmin","Boolean","User","model","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\models\\","sources":["userModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst userSchema=new mongoose.Schema({\r\n    name:{type:String, required:true},\r\n    email:{type:String, required:true, index:true, unique:true},\r\n    password:{type:String, required:true},\r\n    isAdmin:{type:Boolean, required:true, default:false},\r\n})\r\n\r\n\r\nconst User=mongoose.model('User', userSchema)\r\nexport default User;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,UAAU,GAAC,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACjCC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACjCC,KAAK,EAAC;IAACH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEE,KAAK,EAAC,IAAI;IAAEC,MAAM,EAAC;EAAI,CAAC;EAC3DC,QAAQ,EAAC;IAACN,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrCK,OAAO,EAAC;IAACP,IAAI,EAACQ,OAAO;IAAEN,QAAQ,EAAC,IAAI;IAAEP,OAAO,EAAC;EAAK;AACvD,CAAC,CAAC;AAGF,MAAMc,IAAI,GAACZ,iBAAQ,CAACa,KAAK,CAAC,MAAM,EAAEd,UAAU,CAAC;AAAA,IAAAe,QAAA,GAC9BF,IAAI;AAAAG,OAAA,CAAAjB,OAAA,GAAAgB,QAAA"}},"mtime":1682611090966},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, process.env.JWT_SECRET);\n};\nexports.generateToken = generateToken;\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'token not generated'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n    _jsonwebtoken.default.verify(token, process.env.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(404).send({\n          message: 'invalid token'\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\nexports.isAuth = isAuth;\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status[401].send({\n      message: 'token not valid for admin user'\n    });\n  }\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cG9ydHMiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYmVhcmVyVG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwidG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRhdGEiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQk9ERVxcRG9jdW1lbnRzXFxjb2RlXFxlY29tbWVyY2VcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsibWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVG9rZW4gPSAodXNlcik9PntcclxuICAgIHJldHVybiBqd3Quc2lnbih7XHJcbiAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgaXNBZG1pbjogdXNlci5pc0FkbWluLFxyXG59LCBcclxuXHJcbnByb2Nlc3MuZW52LkpXVF9TRUNSRVRcclxuXHJcbilcclxuIFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0ICk9PntcclxuICAgIGNvbnN0IGJlYXJlclRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvblxyXG4gICAgaWYoIWJlYXJlclRva2VuKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6J3Rva2VuIG5vdCBnZW5lcmF0ZWQnfSlcclxuICAgIH1lbHNle1xyXG4gICAgICAgY29uc3QgdG9rZW4gPWJlYXJlclRva2VuLnNsaWNlKDcsIGJlYXJlclRva2VuLmxlbmd0aCkgXHJcbiAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCAoZXJyLGRhdGEpPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6J2ludmFsaWQgdG9rZW4nfSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVxLnVzZXI9ZGF0YVxyXG4gICAgICAgICAgICBuZXh0KClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzQWRtaW49KHJlcSxyZXMsbmV4dCk9PntcclxuICAgIGlmKHJlcS51c2VyICYmIHJlcS51c2VyLmlzQWRtaW4pe1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1c1s0MDFdLnNlbmQoe21lc3NhZ2U6J3Rva2VuIG5vdCB2YWxpZCBmb3IgYWRtaW4gdXNlcid9KVxyXG4gICAgfVxyXG59XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUl2QixNQUFNRyxhQUFhLEdBQUlDLElBQUksSUFBRztFQUNqQyxPQUFPQyxxQkFBRyxDQUFDQyxJQUFJLENBQUM7SUFDWkMsR0FBRyxFQUFFSCxJQUFJLENBQUNHLEdBQUc7SUFDYkMsSUFBSSxFQUFFSixJQUFJLENBQUNJLElBQUk7SUFDZkMsS0FBSyxFQUFFTCxJQUFJLENBQUNLLEtBQUs7SUFDakJDLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtFQUN0QixDQUFDLEVBRURDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVLENBRXJCO0FBRUQsQ0FBQztBQUFBQyxPQUFBLENBQUFYLGFBQUEsR0FBQUEsYUFBQTtBQUVNLE1BQU1ZLE1BQU0sR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSTtFQUNyQyxNQUFNQyxXQUFXLEdBQUdILEdBQUcsQ0FBQ0ksT0FBTyxDQUFDQyxhQUFhO0VBQzdDLElBQUcsQ0FBQ0YsV0FBVyxFQUFFO0lBQ2JGLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBQ0MsT0FBTyxFQUFDO0lBQXFCLENBQUMsQ0FBQztFQUN6RCxDQUFDLE1BQUk7SUFDRixNQUFNQyxLQUFLLEdBQUVOLFdBQVcsQ0FBQ08sS0FBSyxDQUFDLENBQUMsRUFBRVAsV0FBVyxDQUFDUSxNQUFNLENBQUM7SUFDckR0QixxQkFBRyxDQUFDdUIsTUFBTSxDQUFDSCxLQUFLLEVBQUVkLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVLEVBQUUsQ0FBQ2dCLEdBQUcsRUFBQ0MsSUFBSSxLQUFHO01BQ3JELElBQUdELEdBQUcsRUFBQztRQUNIWixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQUNDLE9BQU8sRUFBQztRQUFlLENBQUMsQ0FBQztNQUNuRCxDQUFDLE1BQUk7UUFDRFIsR0FBRyxDQUFDWixJQUFJLEdBQUMwQixJQUFJO1FBQ2JaLElBQUksRUFBRTtNQUNWO0lBRUQsQ0FBQyxDQUFDO0VBQ0w7QUFDSixDQUFDO0FBQUFKLE9BQUEsQ0FBQUMsTUFBQSxHQUFBQSxNQUFBO0FBRU0sTUFBTUwsT0FBTyxHQUFDQSxDQUFDTSxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFHO0VBQ2pDLElBQUdGLEdBQUcsQ0FBQ1osSUFBSSxJQUFJWSxHQUFHLENBQUNaLElBQUksQ0FBQ00sT0FBTyxFQUFDO0lBQzVCUSxJQUFJLEVBQUU7RUFDVixDQUFDLE1BQUk7SUFDREQsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFDQyxPQUFPLEVBQUM7SUFBZ0MsQ0FBQyxDQUFDO0VBQ3BFO0FBQ0osQ0FBQztBQUFBVixPQUFBLENBQUFKLE9BQUEsR0FBQUEsT0FBQSJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","obj","__esModule","default","generateToken","user","jwt","sign","_id","name","email","isAdmin","process","env","JWT_SECRET","exports","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\","sources":["middleware.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\n\r\n\r\n\r\nexport const generateToken = (user)=>{\r\n    return jwt.sign({\r\n        _id: user._id,\r\n        name: user.name,\r\n        email: user.email,\r\n        isAdmin: user.isAdmin,\r\n}, \r\n\r\nprocess.env.JWT_SECRET\r\n\r\n)\r\n \r\n}\r\n\r\nexport const isAuth = (req, res, next )=>{\r\n    const bearerToken = req.headers.authorization\r\n    if(!bearerToken) {\r\n        res.status(401).send({message:'token not generated'})\r\n    }else{\r\n       const token =bearerToken.slice(7, bearerToken.length) \r\n       jwt.verify(token, process.env.JWT_SECRET, (err,data)=>{\r\n        if(err){\r\n            res.status(404).send({message:'invalid token'})\r\n        }else{\r\n            req.user=data\r\n            next()\r\n        }\r\n\r\n       })\r\n    }\r\n}\r\n\r\nexport const isAdmin=(req,res,next)=>{\r\n    if(req.user && req.user.isAdmin){\r\n        next()\r\n    }else{\r\n        res.status[401].send({message:'token not valid for admin user'})\r\n    }\r\n}\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAIvB,MAAMG,aAAa,GAAIC,IAAI,IAAG;EACjC,OAAOC,qBAAG,CAACC,IAAI,CAAC;IACZC,GAAG,EAAEH,IAAI,CAACG,GAAG;IACbC,IAAI,EAAEJ,IAAI,CAACI,IAAI;IACfC,KAAK,EAAEL,IAAI,CAACK,KAAK;IACjBC,OAAO,EAAEN,IAAI,CAACM;EACtB,CAAC,EAEDC,OAAO,CAACC,GAAG,CAACC,UAAU,CAErB;AAED,CAAC;AAAAC,OAAA,CAAAX,aAAA,GAAAA,aAAA;AAEM,MAAMY,MAAM,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAI;EACrC,MAAMC,WAAW,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa;EAC7C,IAAG,CAACF,WAAW,EAAE;IACbF,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACC,OAAO,EAAC;IAAqB,CAAC,CAAC;EACzD,CAAC,MAAI;IACF,MAAMC,KAAK,GAAEN,WAAW,CAACO,KAAK,CAAC,CAAC,EAAEP,WAAW,CAACQ,MAAM,CAAC;IACrDtB,qBAAG,CAACuB,MAAM,CAACH,KAAK,EAAEd,OAAO,CAACC,GAAG,CAACC,UAAU,EAAE,CAACgB,GAAG,EAACC,IAAI,KAAG;MACrD,IAAGD,GAAG,EAAC;QACHZ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAACC,OAAO,EAAC;QAAe,CAAC,CAAC;MACnD,CAAC,MAAI;QACDR,GAAG,CAACZ,IAAI,GAAC0B,IAAI;QACbZ,IAAI,EAAE;MACV;IAED,CAAC,CAAC;EACL;AACJ,CAAC;AAAAJ,OAAA,CAAAC,MAAA,GAAAA,MAAA;AAEM,MAAML,OAAO,GAACA,CAACM,GAAG,EAACC,GAAG,EAACC,IAAI,KAAG;EACjC,IAAGF,GAAG,CAACZ,IAAI,IAAIY,GAAG,CAACZ,IAAI,CAACM,OAAO,EAAC;IAC5BQ,IAAI,EAAE;EACV,CAAC,MAAI;IACDD,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACC,OAAO,EAAC;IAAgC,CAAC,CAAC;EACpE;AACJ,CAAC;AAAAV,OAAA,CAAAJ,OAAA,GAAAA,OAAA"}},"mtime":1684615156034},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\middleware.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.generateToken = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst generateToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, process.env.JWT_SECRET);\n};\nexports.generateToken = generateToken;\nconst isAuth = (req, res, next) => {\n  const bearerToken = req.headers.authorization;\n  if (!bearerToken) {\n    res.status(401).send({\n      message: 'token not generated'\n    });\n  } else {\n    const token = bearerToken.slice(7, bearerToken.length);\n    _jsonwebtoken.default.verify(token, process.env.JWT_SECRET, (err, data) => {\n      if (err) {\n        res.status(404).send({\n          message: 'invalid token'\n        });\n      } else {\n        req.user = data;\n        next();\n      }\n    });\n  }\n};\nexports.isAuth = isAuth;\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    next();\n  } else {\n    res.status[401].send({\n      message: 'token not valid for admin user'\n    });\n  }\n};\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cG9ydHMiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJuZXh0IiwiYmVhcmVyVG9rZW4iLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwidG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRhdGEiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQk9ERVxcRG9jdW1lbnRzXFxjb2RlXFxlY29tbWVyY2VcXGJhY2tlbmRcXCIsInNvdXJjZXMiOlsibWlkZGxld2FyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVG9rZW4gPSAodXNlcik9PntcclxuICAgIHJldHVybiBqd3Quc2lnbih7XHJcbiAgICAgICAgX2lkOiB1c2VyLl9pZCxcclxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgaXNBZG1pbjogdXNlci5pc0FkbWluLFxyXG59LCBcclxuXHJcbnByb2Nlc3MuZW52LkpXVF9TRUNSRVRcclxuXHJcbilcclxuIFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0ICk9PntcclxuICAgIGNvbnN0IGJlYXJlclRva2VuID0gcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvblxyXG4gICAgaWYoIWJlYXJlclRva2VuKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6J3Rva2VuIG5vdCBnZW5lcmF0ZWQnfSlcclxuICAgIH1lbHNle1xyXG4gICAgICAgY29uc3QgdG9rZW4gPWJlYXJlclRva2VuLnNsaWNlKDcsIGJlYXJlclRva2VuLmxlbmd0aCkgXHJcbiAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCAoZXJyLGRhdGEpPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6J2ludmFsaWQgdG9rZW4nfSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVxLnVzZXI9ZGF0YVxyXG4gICAgICAgICAgICBuZXh0KClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzQWRtaW49KHJlcSxyZXMsbmV4dCk9PntcclxuICAgIGlmKHJlcS51c2VyICYmIHJlcS51c2VyLmlzQWRtaW4pe1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1c1s0MDFdLnNlbmQoe21lc3NhZ2U6J3Rva2VuIG5vdCB2YWxpZCBmb3IgYWRtaW4gdXNlcid9KVxyXG4gICAgfVxyXG59XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUl2QixNQUFNRyxhQUFhLEdBQUlDLElBQUksSUFBRztFQUNqQyxPQUFPQyxxQkFBRyxDQUFDQyxJQUFJLENBQUM7SUFDWkMsR0FBRyxFQUFFSCxJQUFJLENBQUNHLEdBQUc7SUFDYkMsSUFBSSxFQUFFSixJQUFJLENBQUNJLElBQUk7SUFDZkMsS0FBSyxFQUFFTCxJQUFJLENBQUNLLEtBQUs7SUFDakJDLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtFQUN0QixDQUFDLEVBRURDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVLENBRXJCO0FBRUQsQ0FBQztBQUFBQyxPQUFBLENBQUFYLGFBQUEsR0FBQUEsYUFBQTtBQUVNLE1BQU1ZLE1BQU0sR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSTtFQUNyQyxNQUFNQyxXQUFXLEdBQUdILEdBQUcsQ0FBQ0ksT0FBTyxDQUFDQyxhQUFhO0VBQzdDLElBQUcsQ0FBQ0YsV0FBVyxFQUFFO0lBQ2JGLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7TUFBQ0MsT0FBTyxFQUFDO0lBQXFCLENBQUMsQ0FBQztFQUN6RCxDQUFDLE1BQUk7SUFDRixNQUFNQyxLQUFLLEdBQUVOLFdBQVcsQ0FBQ08sS0FBSyxDQUFDLENBQUMsRUFBRVAsV0FBVyxDQUFDUSxNQUFNLENBQUM7SUFDckR0QixxQkFBRyxDQUFDdUIsTUFBTSxDQUFDSCxLQUFLLEVBQUVkLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVLEVBQUUsQ0FBQ2dCLEdBQUcsRUFBQ0MsSUFBSSxLQUFHO01BQ3JELElBQUdELEdBQUcsRUFBQztRQUNIWixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQUNDLE9BQU8sRUFBQztRQUFlLENBQUMsQ0FBQztNQUNuRCxDQUFDLE1BQUk7UUFDRFIsR0FBRyxDQUFDWixJQUFJLEdBQUMwQixJQUFJO1FBQ2JaLElBQUksRUFBRTtNQUNWO0lBRUQsQ0FBQyxDQUFDO0VBQ0w7QUFDSixDQUFDO0FBQUFKLE9BQUEsQ0FBQUMsTUFBQSxHQUFBQSxNQUFBO0FBRU0sTUFBTUwsT0FBTyxHQUFDQSxDQUFDTSxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFHO0VBQ2pDLElBQUdGLEdBQUcsQ0FBQ1osSUFBSSxJQUFJWSxHQUFHLENBQUNaLElBQUksQ0FBQ00sT0FBTyxFQUFDO0lBQzVCUSxJQUFJLEVBQUU7RUFDVixDQUFDLE1BQUk7SUFDREQsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFDQyxPQUFPLEVBQUM7SUFBZ0MsQ0FBQyxDQUFDO0VBQ3BFO0FBQ0osQ0FBQztBQUFBVixPQUFBLENBQUFKLE9BQUEsR0FBQUEsT0FBQSJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","obj","__esModule","default","generateToken","user","jwt","sign","_id","name","email","isAdmin","process","env","JWT_SECRET","exports","isAuth","req","res","next","bearerToken","headers","authorization","status","send","message","token","slice","length","verify","err","data"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\","sources":["middleware.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\n\r\n\r\n\r\nexport const generateToken = (user)=>{\r\n    return jwt.sign({\r\n        _id: user._id,\r\n        name: user.name,\r\n        email: user.email,\r\n        isAdmin: user.isAdmin,\r\n}, \r\n\r\nprocess.env.JWT_SECRET\r\n\r\n)\r\n \r\n}\r\n\r\nexport const isAuth = (req, res, next )=>{\r\n    const bearerToken = req.headers.authorization\r\n    if(!bearerToken) {\r\n        res.status(401).send({message:'token not generated'})\r\n    }else{\r\n       const token =bearerToken.slice(7, bearerToken.length) \r\n       jwt.verify(token, process.env.JWT_SECRET, (err,data)=>{\r\n        if(err){\r\n            res.status(404).send({message:'invalid token'})\r\n        }else{\r\n            req.user=data\r\n            next()\r\n        }\r\n\r\n       })\r\n    }\r\n}\r\n\r\nexport const isAdmin=(req,res,next)=>{\r\n    if(req.user && req.user.isAdmin){\r\n        next()\r\n    }else{\r\n        res.status[401].send({message:'token not valid for admin user'})\r\n    }\r\n}\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAIvB,MAAMG,aAAa,GAAIC,IAAI,IAAG;EACjC,OAAOC,qBAAG,CAACC,IAAI,CAAC;IACZC,GAAG,EAAEH,IAAI,CAACG,GAAG;IACbC,IAAI,EAAEJ,IAAI,CAACI,IAAI;IACfC,KAAK,EAAEL,IAAI,CAACK,KAAK;IACjBC,OAAO,EAAEN,IAAI,CAACM;EACtB,CAAC,EAEDC,OAAO,CAACC,GAAG,CAACC,UAAU,CAErB;AAED,CAAC;AAAAC,OAAA,CAAAX,aAAA,GAAAA,aAAA;AAEM,MAAMY,MAAM,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAI;EACrC,MAAMC,WAAW,GAAGH,GAAG,CAACI,OAAO,CAACC,aAAa;EAC7C,IAAG,CAACF,WAAW,EAAE;IACbF,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACC,OAAO,EAAC;IAAqB,CAAC,CAAC;EACzD,CAAC,MAAI;IACF,MAAMC,KAAK,GAAEN,WAAW,CAACO,KAAK,CAAC,CAAC,EAAEP,WAAW,CAACQ,MAAM,CAAC;IACrDtB,qBAAG,CAACuB,MAAM,CAACH,KAAK,EAAEd,OAAO,CAACC,GAAG,CAACC,UAAU,EAAE,CAACgB,GAAG,EAACC,IAAI,KAAG;MACrD,IAAGD,GAAG,EAAC;QACHZ,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAACC,OAAO,EAAC;QAAe,CAAC,CAAC;MACnD,CAAC,MAAI;QACDR,GAAG,CAACZ,IAAI,GAAC0B,IAAI;QACbZ,IAAI,EAAE;MACV;IAED,CAAC,CAAC;EACL;AACJ,CAAC;AAAAJ,OAAA,CAAAC,MAAA,GAAAA,MAAA;AAEM,MAAML,OAAO,GAACA,CAACM,GAAG,EAACC,GAAG,EAACC,IAAI,KAAG;EACjC,IAAGF,GAAG,CAACZ,IAAI,IAAIY,GAAG,CAACZ,IAAI,CAACM,OAAO,EAAC;IAC5BQ,IAAI,EAAE;EACV,CAAC,MAAI;IACDD,GAAG,CAACK,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;MAACC,OAAO,EAAC;IAAgC,CAAC,CAAC;EACpE;AACJ,CAAC;AAAAV,OAAA,CAAAJ,OAAA,GAAAA,OAAA"}},"mtime":1684615156034},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _middleware = require(\"../middleware\");\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderRouter = _express.default.Router();\norderRouter.get('/summary', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  const dailyOrders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: {\n        $dateToString: {\n          format: '%Y-%m-%d',\n          date: '$createdAt'\n        }\n      },\n      orders: {\n        $sum: 1\n      },\n      sales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const productCategories = await _productModel.default.aggregate([{\n    $group: {\n      _id: '$category',\n      count: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders: orders.length === 0 ? [{\n      numOrders: 0,\n      totalSales: 0\n    }] : orders,\n    dailyOrders,\n    productCategories\n  });\n}));\norderRouter.get('/', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get('/mine', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get('/:id', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'order not found'\n    });\n  }\n}));\norderRouter.post('/', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: 'new Order Created',\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    const deletedOrder = await order.deleteOne();\n    res.send({\n      message: 'Order  Deleted ',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order paid',\n      order: updatedOrder\n    });\n  } else {\n    res.send(404).send({\n      message: 'order not found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2V4cHJlc3NBc3luY0hhbmRsZXIiLCJfbWlkZGxld2FyZSIsIl9vcmRlck1vZGVsIiwiX3VzZXJNb2RlbCIsIl9wcm9kdWN0TW9kZWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzQWRtaW4iLCJleHByZXNzQXN5bmNIYW5kbGVyIiwicmVxIiwicmVzIiwib3JkZXJzIiwiT3JkZXIiLCJhZ2dyZWdhdGUiLCIkZ3JvdXAiLCJfaWQiLCJudW1PcmRlcnMiLCIkc3VtIiwidG90YWxTYWxlcyIsInVzZXJzIiwiVXNlciIsIm51bVVzZXJzIiwiZGFpbHlPcmRlcnMiLCIkZGF0ZVRvU3RyaW5nIiwiZm9ybWF0IiwiZGF0ZSIsInNhbGVzIiwicHJvZHVjdENhdGVnb3JpZXMiLCJQcm9kdWN0IiwiY291bnQiLCJzZW5kIiwibGVuZ3RoIiwiZmluZCIsInBvcHVsYXRlIiwidXNlciIsIm9yZGVyIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0Iiwib3JkZXJJdGVtcyIsImJvZHkiLCJzaGlwcGluZyIsInBheW1lbnQiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImNyZWF0ZWRPcmRlciIsInNhdmUiLCJkZWxldGUiLCJkZWxldGVkT3JkZXIiLCJkZWxldGVPbmUiLCJwcm9kdWN0IiwicHV0IiwiaXNQYWlkIiwicGFpZEF0IiwiRGF0ZSIsIm5vdyIsInBheW1lbnRSZXN1bHQiLCJwYXllcklEIiwicGF5bWVudElEIiwib3JkZXJJRCIsInVwZGF0ZWRPcmRlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxCT0RFXFxEb2N1bWVudHNcXGNvZGVcXGVjb21tZXJjZVxcYmFja2VuZFxccm91dGVyc1xcIiwic291cmNlcyI6WyJvcmRlclJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInXHJcbmltcG9ydCB7IGlzQXV0aCwgICBpc0FkbWluLCB9IGZyb20gJy4uL21pZGRsZXdhcmUnXHJcbmltcG9ydCBPcmRlciBmcm9tIFwiLi4vbW9kZWxzL29yZGVyTW9kZWxcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy91c2VyTW9kZWxcIlxyXG5pbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbFwiXHJcblxyXG5cclxuXHJcbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KCcvc3VtbWFyeScsaXNBdXRoLGlzQWRtaW4sZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgY29uc3Qgb3JkZXJzPWF3YWl0IE9yZGVyLmFnZ3JlZ2F0ZShbXHJcbiAgICAgICAge1xyXG4gICAgICAgICRncm91cDp7XHJcbiAgICAgICAgICAgIF9pZDpudWxsLFxyXG4gICAgICAgICAgICBudW1PcmRlcnM6eyRzdW06MX0sXHJcbiAgICAgICAgICAgIHRvdGFsU2FsZXM6eyRzdW06JyR0b3RhbFByaWNlJ30sXHJcbiAgICB9LFxyXG59XHJcbl0pXHJcbmNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5hZ2dyZWdhdGUoW1xyXG4gICAge1xyXG4gICAgICAgICRncm91cDp7XHJcbiAgICAgICAgICAgIF9pZDpudWxsLFxyXG4gICAgICAgICAgICBudW1Vc2Vyczp7JHN1bTogMX0sXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXSlcclxuY29uc3QgZGFpbHlPcmRlcnM9YXdhaXQgT3JkZXIuYWdncmVnYXRlKFtcclxuICAgIHtcclxuICAgICAgICAkZ3JvdXA6e1xyXG4gICAgICAgICAgICBfaWQ6eyRkYXRlVG9TdHJpbmc6e2Zvcm1hdDonJVktJW0tJWQnLGRhdGU6JyRjcmVhdGVkQXQnfX0sXHJcbiAgICAgICAgICAgIG9yZGVyczp7JHN1bToxfSxcclxuICAgICAgICAgICAgc2FsZXM6eyRzdW06JyR0b3RhbFByaWNlJ30sXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXSlcclxuY29uc3QgcHJvZHVjdENhdGVnb3JpZXMgPSBhd2FpdCBQcm9kdWN0LmFnZ3JlZ2F0ZShbXHJcbiAgICAgIHtcclxuICAgICAgICAkZ3JvdXA6IHtcclxuICAgICAgICAgIF9pZDogJyRjYXRlZ29yeScsXHJcbiAgICAgICAgICBjb3VudDogeyAkc3VtOiAxIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0pO1xyXG5yZXMuc2VuZCh7dXNlcnMsIG9yZGVyczogb3JkZXJzLmxlbmd0aCA9PT0gMCA/IFt7IG51bU9yZGVyczogMCwgdG90YWxTYWxlczogMCB9XSA6IG9yZGVycywgZGFpbHlPcmRlcnMscHJvZHVjdENhdGVnb3JpZXN9KVxyXG59KSlcclxuXHJcblxyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KCcvJywgaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jKHJlcSwgcmVzKT0+e1xyXG4gICAgY29uc3Qgb3JkZXJzPSBhd2FpdCBPcmRlci5maW5kKHt9KS5wb3B1bGF0ZSgndXNlcicpXHJcbiAgICByZXMuc2VuZChvcmRlcnMpXHJcbn0pKVxyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KCcvbWluZScsaXNBdXRoLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IG9yZGVycz1hd2FpdCAgT3JkZXIuZmluZCh7dXNlcjpyZXEudXNlci5faWR9KVxyXG4gICAgcmVzLnNlbmQob3JkZXJzKVxyXG59KSlcclxuXHJcblxyXG5vcmRlclJvdXRlci5nZXQoJy86aWQnLGlzQXV0aCwgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgY29uc3Qgb3JkZXIgPWF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpXHJcbiAgICBpZihvcmRlcil7XHJcbnJlcy5zZW5kKG9yZGVyKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6J29yZGVyIG5vdCBmb3VuZCd9KVxyXG4gICAgfVxyXG59KVxyXG4pXHJcbm9yZGVyUm91dGVyLnBvc3QoJy8nLCBpc0F1dGgsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKT0+e1xyXG5jb25zdCBvcmRlcj1uZXcgT3JkZXIgKHtcclxuICAgIG9yZGVySXRlbXM6cmVxLmJvZHkub3JkZXJJdGVtcyxcclxuICAgIHVzZXI6cmVxLnVzZXIuX2lkLFxyXG4gICAgc2hpcHBpbmc6cmVxLmJvZHkuc2hpcHBpbmcsXHJcbiAgICBwYXltZW50OnJlcS5ib2R5LnBheW1lbnQsXHJcbiAgICBpdGVtc1ByaWNlOnJlcS5ib2R5Lml0ZW1zUHJpY2UsXHJcbiAgICB0YXhQcmljZTpyZXEuYm9keS50YXhQcmljZSxcclxuICAgIHNoaXBwaW5nUHJpY2U6cmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcclxuICAgIHRvdGFsUHJpY2U6cmVxLmJvZHkudG90YWxQcmljZSxcclxufSlcclxuY29uc3QgY3JlYXRlZE9yZGVyPWF3YWl0IG9yZGVyLnNhdmUoKVxyXG5yZXMuc3RhdHVzKDIwMSkuc2VuZCh7bWVzc2FnZTonbmV3IE9yZGVyIENyZWF0ZWQnLCBvcmRlcjogY3JlYXRlZE9yZGVyfSlcclxufSkgXHJcbikgXHJcblxyXG5vcmRlclJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMpPT57XHJcbiAgICBjb25zdCBvcmRlciA9YXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZClcclxuICAgIGlmKG9yZGVyKXtcclxuICAgICAgICBjb25zdCBkZWxldGVkT3JkZXIgPSBhd2FpdCBvcmRlci5kZWxldGVPbmUoKVxyXG4gICAgICAgIHJlcy5zZW5kKHttZXNzYWdlOidPcmRlciAgRGVsZXRlZCAnLCBwcm9kdWN0OiBkZWxldGVkT3JkZXJ9KVxyXG5cclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnT3JkZXIgbm90IGZvdW5kJ30pXHJcbiAgICB9XHJcbn0pKVxyXG5cclxuXHJcblxyXG5cclxuXHJcbm9yZGVyUm91dGVyLnB1dCAoJy86aWQvcGF5JywgaXNBdXRoLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IG9yZGVyPWF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpXHJcbiAgICBpZihvcmRlcil7XHJcbiAgICAgICAgb3JkZXIuaXNQYWlkPXRydWVcclxuICAgICAgICBvcmRlci5wYWlkQXQ9RGF0ZS5ub3coKVxyXG4gICAgICAgIG9yZGVyLnBheW1lbnQucGF5bWVudFJlc3VsdD17XHJcbiAgICAgICAgICAgIHBheWVySUQ6cmVxLmJvZHkucGF5ZXJJRCxcclxuICAgICAgICAgICAgcGF5bWVudElEOnJlcS5ib2R5LnBheW1lbnRJRCxcclxuICAgICAgICAgICAgb3JkZXJJRDpyZXEuYm9keS5vcmRlcklEXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRPcmRlcj1hd2FpdCBvcmRlci5zYXZlKClcclxuICAgICAgICByZXMuc2VuZCh7bWVzc2FnZTonT3JkZXIgcGFpZCcsb3JkZXI6dXBkYXRlZE9yZGVyfSlcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5zZW5kKDQwNCkuc2VuZCh7bWVzc2FnZTonb3JkZXIgbm90IGZvdW5kJ30pXHJcbiAgICB9XHJcbn0p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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_expressAsyncHandler","_middleware","_orderModel","_userModel","_productModel","obj","__esModule","default","orderRouter","express","Router","get","isAuth","isAdmin","expressAsyncHandler","req","res","orders","Order","aggregate","$group","_id","numOrders","$sum","totalSales","users","User","numUsers","dailyOrders","$dateToString","format","date","sales","productCategories","Product","count","send","length","find","populate","user","order","findById","params","id","status","message","post","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","createdOrder","save","delete","deletedOrder","deleteOne","product","put","isPaid","paidAt","Date","now","paymentResult","payerID","paymentID","orderID","updatedOrder","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\routers\\","sources":["orderRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport expressAsyncHandler from 'express-async-handler'\r\nimport { isAuth,   isAdmin, } from '../middleware'\r\nimport Order from \"../models/orderModel\";\r\nimport User from \"../models/userModel\"\r\nimport Product from \"../models/productModel\"\r\n\r\n\r\n\r\nconst orderRouter = express.Router()\r\n\r\norderRouter.get('/summary',isAuth,isAdmin,expressAsyncHandler(async(req,res)=>{\r\n    const orders=await Order.aggregate([\r\n        {\r\n        $group:{\r\n            _id:null,\r\n            numOrders:{$sum:1},\r\n            totalSales:{$sum:'$totalPrice'},\r\n    },\r\n}\r\n])\r\nconst users = await User.aggregate([\r\n    {\r\n        $group:{\r\n            _id:null,\r\n            numUsers:{$sum: 1},\r\n            \r\n        }\r\n    }\r\n])\r\nconst dailyOrders=await Order.aggregate([\r\n    {\r\n        $group:{\r\n            _id:{$dateToString:{format:'%Y-%m-%d',date:'$createdAt'}},\r\n            orders:{$sum:1},\r\n            sales:{$sum:'$totalPrice'},\r\n        }\r\n\r\n    }\r\n])\r\nconst productCategories = await Product.aggregate([\r\n      {\r\n        $group: {\r\n          _id: '$category',\r\n          count: { $sum: 1 },\r\n        },\r\n      },\r\n    ]);\r\nres.send({users, orders: orders.length === 0 ? [{ numOrders: 0, totalSales: 0 }] : orders, dailyOrders,productCategories})\r\n}))\r\n\r\n\r\n\r\norderRouter.get('/', isAuth, isAdmin, expressAsyncHandler(async(req, res)=>{\r\n    const orders= await Order.find({}).populate('user')\r\n    res.send(orders)\r\n}))\r\n\r\norderRouter.get('/mine',isAuth,expressAsyncHandler(async(req,res)=>{\r\n    const orders=await  Order.find({user:req.user._id})\r\n    res.send(orders)\r\n}))\r\n\r\n\r\norderRouter.get('/:id',isAuth, expressAsyncHandler(async(req,res)=>{\r\n    const order =await Order.findById(req.params.id)\r\n    if(order){\r\nres.send(order)\r\n    }else{\r\n        res.status(404).send({message:'order not found'})\r\n    }\r\n})\r\n)\r\norderRouter.post('/', isAuth, expressAsyncHandler(async (req, res)=>{\r\nconst order=new Order ({\r\n    orderItems:req.body.orderItems,\r\n    user:req.user._id,\r\n    shipping:req.body.shipping,\r\n    payment:req.body.payment,\r\n    itemsPrice:req.body.itemsPrice,\r\n    taxPrice:req.body.taxPrice,\r\n    shippingPrice:req.body.shippingPrice,\r\n    totalPrice:req.body.totalPrice,\r\n})\r\nconst createdOrder=await order.save()\r\nres.status(201).send({message:'new Order Created', order: createdOrder})\r\n}) \r\n) \r\n\r\norderRouter.delete('/:id', isAuth, isAdmin, expressAsyncHandler(async(req, res)=>{\r\n    const order =await Order.findById(req.params.id)\r\n    if(order){\r\n        const deletedOrder = await order.deleteOne()\r\n        res.send({message:'Order  Deleted ', product: deletedOrder})\r\n\r\n    }else{\r\n        res.status(404).send({message: 'Order not found'})\r\n    }\r\n}))\r\n\r\n\r\n\r\n\r\n\r\norderRouter.put ('/:id/pay', isAuth,expressAsyncHandler(async(req,res)=>{\r\n    const order=await Order.findById(req.params.id)\r\n    if(order){\r\n        order.isPaid=true\r\n        order.paidAt=Date.now()\r\n        order.payment.paymentResult={\r\n            payerID:req.body.payerID,\r\n            paymentID:req.body.paymentID,\r\n            orderID:req.body.orderID\r\n        }\r\n        const updatedOrder=await order.save()\r\n        res.send({message:'Order paid',order:updatedOrder})\r\n    }else{\r\n        res.send(404).send({message:'order not found'})\r\n    }\r\n}))\r\nexport default orderRouter "],"mappings":"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"}},"mtime":1685389703776},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'product',\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      paymentID: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  DeliveredAt: Date\n}, {\n  timestamps: true\n});\nconst Order = _mongoose.default.model('Order', orderSchema);\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW1hZ2UiLCJwcmljZSIsIk51bWJlciIsInF0eSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlciIsInNoaXBwaW5nIiwiYWRkcmVzcyIsImNpdHkiLCJwb3N0YWxDb2RlIiwiY291bnRyeSIsInBheW1lbnQiLCJwYXltZW50TWV0aG9kIiwicGF5bWVudFJlc3VsdCIsIm9yZGVySUQiLCJwYXllcklEIiwicGF5bWVudElEIiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiRGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwiT3JkZXIiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxCT0RFXFxEb2N1bWVudHNcXGNvZGVcXGVjb21tZXJjZVxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3Qgb3JkZXJTY2hlbWE9bmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbm9yZGVySXRlbXM6W3tcclxuICAgIG5hbWU6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlLH0sXHJcbiAgICBpbWFnZTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsfSxcclxuICAgIHByaWNlOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSx9LFxyXG4gICAgcXR5Ont0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSx9LFxyXG4gICAgcHJvZHVjdDp7dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6J3Byb2R1Y3QnLCByZXF1aXJlZDp0cnVlfSxcclxufV0sXHJcbnVzZXI6e3R5cGU6bW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6J1VzZXInLCByZXF1aXJlZDp0cnVlfSxcclxuc2hpcHBpbmc6e1xyXG4gICAgYWRkcmVzczpTdHJpbmcsXHJcbiAgICBjaXR5OlN0cmluZyxcclxuICAgIHBvc3RhbENvZGU6U3RyaW5nLFxyXG4gICAgY291bnRyeTpTdHJpbmcsXHJcbn0sXHJcbnBheW1lbnQ6e3BheW1lbnRNZXRob2Q6U3RyaW5nLCBwYXltZW50UmVzdWx0OntvcmRlcklEOlN0cmluZywgcGF5ZXJJRDpTdHJpbmcscGF5bWVudElEOlN0cmluZ319LFxyXG5pdGVtc1ByaWNlOk51bWJlcixcclxudGF4UHJpY2U6TnVtYmVyLFxyXG5zaGlwcGluZ1ByaWNlOiBOdW1iZXIsXHJcbnRvdGFsUHJpY2U6TnVtYmVyLFxyXG5pc1BhaWQ6e3R5cGU6Qm9vbGVhbiwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDpmYWxzZX0sXHJcbnBhaWRBdDpEYXRlLFxyXG5pc0RlbGl2ZXJlZDp7dHlwZTpCb29sZWFuLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OmZhbHNlfSxcclxuRGVsaXZlcmVkQXQ6RGF0ZSxcclxuXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn0pXHJcblxyXG5jb25zdCBPcmRlciA9bW9uZ29vc2UubW9kZWwoJ09yZGVyJywgb3JkZXJTY2hlbWEpXHJcbmV4cG9ydCBkZWZhdWx0IE9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBZ0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFaEMsTUFBTUcsV0FBVyxHQUFDLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUN0Q0MsVUFBVSxFQUFDLENBQUM7SUFDUkMsSUFBSSxFQUFDO01BQUNDLElBQUksRUFBQ0MsTUFBTTtNQUFFQyxRQUFRLEVBQUM7SUFBSyxDQUFDO0lBQ2xDQyxLQUFLLEVBQUM7TUFBQ0gsSUFBSSxFQUFDQyxNQUFNO01BQUVDLFFBQVEsRUFBQztJQUFLLENBQUM7SUFDbkNFLEtBQUssRUFBQztNQUFDSixJQUFJLEVBQUNLLE1BQU07TUFBRUgsUUFBUSxFQUFDO0lBQUssQ0FBQztJQUNuQ0ksR0FBRyxFQUFDO01BQUNOLElBQUksRUFBQ0ssTUFBTTtNQUFFSCxRQUFRLEVBQUM7SUFBSyxDQUFDO0lBQ2pDSyxPQUFPLEVBQUM7TUFBQ1AsSUFBSSxFQUFFSixpQkFBUSxDQUFDQyxNQUFNLENBQUNXLEtBQUssQ0FBQ0MsUUFBUTtNQUFFQyxHQUFHLEVBQUMsU0FBUztNQUFFUixRQUFRLEVBQUM7SUFBSTtFQUMvRSxDQUFDLENBQUM7RUFDRlMsSUFBSSxFQUFDO0lBQUNYLElBQUksRUFBQ0osaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDVyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFDLE1BQU07SUFBRVIsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyRVUsUUFBUSxFQUFDO0lBQ0xDLE9BQU8sRUFBQ1osTUFBTTtJQUNkYSxJQUFJLEVBQUNiLE1BQU07SUFDWGMsVUFBVSxFQUFDZCxNQUFNO0lBQ2pCZSxPQUFPLEVBQUNmO0VBQ1osQ0FBQztFQUNEZ0IsT0FBTyxFQUFDO0lBQUNDLGFBQWEsRUFBQ2pCLE1BQU07SUFBRWtCLGFBQWEsRUFBQztNQUFDQyxPQUFPLEVBQUNuQixNQUFNO01BQUVvQixPQUFPLEVBQUNwQixNQUFNO01BQUNxQixTQUFTLEVBQUNyQjtJQUFNO0VBQUMsQ0FBQztFQUMvRnNCLFVBQVUsRUFBQ2xCLE1BQU07RUFDakJtQixRQUFRLEVBQUNuQixNQUFNO0VBQ2ZvQixhQUFhLEVBQUVwQixNQUFNO0VBQ3JCcUIsVUFBVSxFQUFDckIsTUFBTTtFQUNqQnNCLE1BQU0sRUFBQztJQUFDM0IsSUFBSSxFQUFDNEIsT0FBTztJQUFFMUIsUUFBUSxFQUFDLElBQUk7SUFBRVIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNuRG1DLE1BQU0sRUFBQ0MsSUFBSTtFQUNYQyxXQUFXLEVBQUM7SUFBQy9CLElBQUksRUFBQzRCLE9BQU87SUFBRTFCLFFBQVEsRUFBQyxJQUFJO0lBQUVSLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDeERzQyxXQUFXLEVBQUNGO0FBRVosQ0FBQyxFQUFDO0VBQ0VHLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLEtBQUssR0FBRXRDLGlCQUFRLENBQUN1QyxLQUFLLENBQUMsT0FBTyxFQUFFeEMsV0FBVyxDQUFDO0FBQUEsSUFBQXlDLFFBQUEsR0FDbENGLEtBQUs7QUFBQUcsT0FBQSxDQUFBM0MsT0FBQSxHQUFBMEMsUUFBQSJ9","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","orderSchema","mongoose","Schema","orderItems","name","type","String","required","image","price","Number","qty","product","Types","ObjectId","ref","user","shipping","address","city","postalCode","country","payment","paymentMethod","paymentResult","orderID","payerID","paymentID","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","paidAt","Date","isDelivered","DeliveredAt","timestamps","Order","model","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst orderSchema=new mongoose.Schema({\r\norderItems:[{\r\n    name:{type:String, required:true,},\r\n    image:{type:String, required:true,},\r\n    price:{type:Number, required:true,},\r\n    qty:{type:Number, required:true,},\r\n    product:{type: mongoose.Schema.Types.ObjectId, ref:'product', required:true},\r\n}],\r\nuser:{type:mongoose.Schema.Types.ObjectId, ref:'User', required:true},\r\nshipping:{\r\n    address:String,\r\n    city:String,\r\n    postalCode:String,\r\n    country:String,\r\n},\r\npayment:{paymentMethod:String, paymentResult:{orderID:String, payerID:String,paymentID:String}},\r\nitemsPrice:Number,\r\ntaxPrice:Number,\r\nshippingPrice: Number,\r\ntotalPrice:Number,\r\nisPaid:{type:Boolean, required:true, default:false},\r\npaidAt:Date,\r\nisDelivered:{type:Boolean, required:true, default:false},\r\nDeliveredAt:Date,\r\n\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nconst Order =mongoose.model('Order', orderSchema)\r\nexport default Order"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,WAAW,GAAC,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACtCC,UAAU,EAAC,CAAC;IACRC,IAAI,EAAC;MAACC,IAAI,EAACC,MAAM;MAAEC,QAAQ,EAAC;IAAK,CAAC;IAClCC,KAAK,EAAC;MAACH,IAAI,EAACC,MAAM;MAAEC,QAAQ,EAAC;IAAK,CAAC;IACnCE,KAAK,EAAC;MAACJ,IAAI,EAACK,MAAM;MAAEH,QAAQ,EAAC;IAAK,CAAC;IACnCI,GAAG,EAAC;MAACN,IAAI,EAACK,MAAM;MAAEH,QAAQ,EAAC;IAAK,CAAC;IACjCK,OAAO,EAAC;MAACP,IAAI,EAAEJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;MAAEC,GAAG,EAAC,SAAS;MAAER,QAAQ,EAAC;IAAI;EAC/E,CAAC,CAAC;EACFS,IAAI,EAAC;IAACX,IAAI,EAACJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAER,QAAQ,EAAC;EAAI,CAAC;EACrEU,QAAQ,EAAC;IACLC,OAAO,EAACZ,MAAM;IACda,IAAI,EAACb,MAAM;IACXc,UAAU,EAACd,MAAM;IACjBe,OAAO,EAACf;EACZ,CAAC;EACDgB,OAAO,EAAC;IAACC,aAAa,EAACjB,MAAM;IAAEkB,aAAa,EAAC;MAACC,OAAO,EAACnB,MAAM;MAAEoB,OAAO,EAACpB,MAAM;MAACqB,SAAS,EAACrB;IAAM;EAAC,CAAC;EAC/FsB,UAAU,EAAClB,MAAM;EACjBmB,QAAQ,EAACnB,MAAM;EACfoB,aAAa,EAAEpB,MAAM;EACrBqB,UAAU,EAACrB,MAAM;EACjBsB,MAAM,EAAC;IAAC3B,IAAI,EAAC4B,OAAO;IAAE1B,QAAQ,EAAC,IAAI;IAAER,OAAO,EAAC;EAAK,CAAC;EACnDmC,MAAM,EAACC,IAAI;EACXC,WAAW,EAAC;IAAC/B,IAAI,EAAC4B,OAAO;IAAE1B,QAAQ,EAAC,IAAI;IAAER,OAAO,EAAC;EAAK,CAAC;EACxDsC,WAAW,EAACF;AAEZ,CAAC,EAAC;EACEG,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,KAAK,GAAEtC,iBAAQ,CAACuC,KAAK,CAAC,OAAO,EAAExC,WAAW,CAAC;AAAA,IAAAyC,QAAA,GAClCF,KAAK;AAAAG,OAAA,CAAA3C,OAAA,GAAA0C,QAAA"}},"mtime":1684751000234},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _middleware = require(\"../middleware\");\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderRouter = _express.default.Router();\norderRouter.get('/summary', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numOrders: {\n        $sum: 1\n      },\n      totalSales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const users = await _userModel.default.aggregate([{\n    $group: {\n      _id: null,\n      numUsers: {\n        $sum: 1\n      }\n    }\n  }]);\n  const dailyOrders = await _orderModel.default.aggregate([{\n    $group: {\n      _id: {\n        $dateToString: {\n          format: '%Y-%m-%d',\n          date: '$createdAt'\n        }\n      },\n      orders: {\n        $sum: 1\n      },\n      sales: {\n        $sum: '$totalPrice'\n      }\n    }\n  }]);\n  const productCategories = await _productModel.default.aggregate([{\n    $group: {\n      _id: '$category',\n      count: {\n        $sum: 1\n      }\n    }\n  }]);\n  res.send({\n    users,\n    orders: orders.length === 0 ? [{\n      numOrders: 0,\n      totalSales: 0\n    }] : orders,\n    dailyOrders,\n    productCategories\n  });\n}));\norderRouter.get('/', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  res.send(orders);\n}));\norderRouter.get('/mine', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}));\norderRouter.get('/:id', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'order not found'\n    });\n  }\n}));\norderRouter.post('/', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const createdOrder = await order.save();\n  res.status(201).send({\n    message: 'new Order Created',\n    order: createdOrder\n  });\n}));\norderRouter.delete('/:id', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    const deletedOrder = await order.deleteOne();\n    res.send({\n      message: 'Order  Deleted ',\n      product: deletedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found'\n    });\n  }\n}));\norderRouter.put('/:id/pay', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const order = await _orderModel.default.findById(req.params.id);\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment.paymentResult = {\n      payerID: req.body.payerID,\n      paymentID: req.body.paymentID,\n      orderID: req.body.orderID\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order paid',\n      order: updatedOrder\n    });\n  } else {\n    res.send(404).send({\n      message: 'order not found'\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2V4cHJlc3NBc3luY0hhbmRsZXIiLCJfbWlkZGxld2FyZSIsIl9vcmRlck1vZGVsIiwiX3VzZXJNb2RlbCIsIl9wcm9kdWN0TW9kZWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsImlzQWRtaW4iLCJleHByZXNzQXN5bmNIYW5kbGVyIiwicmVxIiwicmVzIiwib3JkZXJzIiwiT3JkZXIiLCJhZ2dyZWdhdGUiLCIkZ3JvdXAiLCJfaWQiLCJudW1PcmRlcnMiLCIkc3VtIiwidG90YWxTYWxlcyIsInVzZXJzIiwiVXNlciIsIm51bVVzZXJzIiwiZGFpbHlPcmRlcnMiLCIkZGF0ZVRvU3RyaW5nIiwiZm9ybWF0IiwiZGF0ZSIsInNhbGVzIiwicHJvZHVjdENhdGVnb3JpZXMiLCJQcm9kdWN0IiwiY291bnQiLCJzZW5kIiwibGVuZ3RoIiwiZmluZCIsInBvcHVsYXRlIiwidXNlciIsIm9yZGVyIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJwb3N0Iiwib3JkZXJJdGVtcyIsImJvZHkiLCJzaGlwcGluZyIsInBheW1lbnQiLCJpdGVtc1ByaWNlIiwidGF4UHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImNyZWF0ZWRPcmRlciIsInNhdmUiLCJkZWxldGUiLCJkZWxldGVkT3JkZXIiLCJkZWxldGVPbmUiLCJwcm9kdWN0IiwicHV0IiwiaXNQYWlkIiwicGFpZEF0IiwiRGF0ZSIsIm5vdyIsInBheW1lbnRSZXN1bHQiLCJwYXllcklEIiwicGF5bWVudElEIiwib3JkZXJJRCIsInVwZGF0ZWRPcmRlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxCT0RFXFxEb2N1bWVudHNcXGNvZGVcXGVjb21tZXJjZVxcYmFja2VuZFxccm91dGVyc1xcIiwic291cmNlcyI6WyJvcmRlclJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInXHJcbmltcG9ydCB7IGlzQXV0aCwgICBpc0FkbWluLCB9IGZyb20gJy4uL21pZGRsZXdhcmUnXHJcbmltcG9ydCBPcmRlciBmcm9tIFwiLi4vbW9kZWxzL29yZGVyTW9kZWxcIjtcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVscy91c2VyTW9kZWxcIlxyXG5pbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbFwiXHJcblxyXG5cclxuXHJcbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KCcvc3VtbWFyeScsaXNBdXRoLGlzQWRtaW4sZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgY29uc3Qgb3JkZXJzPWF3YWl0IE9yZGVyLmFnZ3JlZ2F0ZShbXHJcbiAgICAgICAge1xyXG4gICAgICAgICRncm91cDp7XHJcbiAgICAgICAgICAgIF9pZDpudWxsLFxyXG4gICAgICAgICAgICBudW1PcmRlcnM6eyRzdW06MX0sXHJcbiAgICAgICAgICAgIHRvdGFsU2FsZXM6eyRzdW06JyR0b3RhbFByaWNlJ30sXHJcbiAgICB9LFxyXG59XHJcbl0pXHJcbmNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5hZ2dyZWdhdGUoW1xyXG4gICAge1xyXG4gICAgICAgICRncm91cDp7XHJcbiAgICAgICAgICAgIF9pZDpudWxsLFxyXG4gICAgICAgICAgICBudW1Vc2Vyczp7JHN1bTogMX0sXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXSlcclxuY29uc3QgZGFpbHlPcmRlcnM9YXdhaXQgT3JkZXIuYWdncmVnYXRlKFtcclxuICAgIHtcclxuICAgICAgICAkZ3JvdXA6e1xyXG4gICAgICAgICAgICBfaWQ6eyRkYXRlVG9TdHJpbmc6e2Zvcm1hdDonJVktJW0tJWQnLGRhdGU6JyRjcmVhdGVkQXQnfX0sXHJcbiAgICAgICAgICAgIG9yZGVyczp7JHN1bToxfSxcclxuICAgICAgICAgICAgc2FsZXM6eyRzdW06JyR0b3RhbFByaWNlJ30sXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXSlcclxuY29uc3QgcHJvZHVjdENhdGVnb3JpZXMgPSBhd2FpdCBQcm9kdWN0LmFnZ3JlZ2F0ZShbXHJcbiAgICAgIHtcclxuICAgICAgICAkZ3JvdXA6IHtcclxuICAgICAgICAgIF9pZDogJyRjYXRlZ29yeScsXHJcbiAgICAgICAgICBjb3VudDogeyAkc3VtOiAxIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIF0pO1xyXG5yZXMuc2VuZCh7dXNlcnMsIG9yZGVyczogb3JkZXJzLmxlbmd0aCA9PT0gMCA/IFt7IG51bU9yZGVyczogMCwgdG90YWxTYWxlczogMCB9XSA6IG9yZGVycywgZGFpbHlPcmRlcnMscHJvZHVjdENhdGVnb3JpZXN9KVxyXG59KSlcclxuXHJcblxyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KCcvJywgaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jKHJlcSwgcmVzKT0+e1xyXG4gICAgY29uc3Qgb3JkZXJzPSBhd2FpdCBPcmRlci5maW5kKHt9KS5wb3B1bGF0ZSgndXNlcicpXHJcbiAgICByZXMuc2VuZChvcmRlcnMpXHJcbn0pKVxyXG5cclxub3JkZXJSb3V0ZXIuZ2V0KCcvbWluZScsaXNBdXRoLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IG9yZGVycz1hd2FpdCAgT3JkZXIuZmluZCh7dXNlcjpyZXEudXNlci5faWR9KVxyXG4gICAgcmVzLnNlbmQob3JkZXJzKVxyXG59KSlcclxuXHJcblxyXG5vcmRlclJvdXRlci5nZXQoJy86aWQnLGlzQXV0aCwgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgY29uc3Qgb3JkZXIgPWF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpXHJcbiAgICBpZihvcmRlcil7XHJcbnJlcy5zZW5kKG9yZGVyKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6J29yZGVyIG5vdCBmb3VuZCd9KVxyXG4gICAgfVxyXG59KVxyXG4pXHJcbm9yZGVyUm91dGVyLnBvc3QoJy8nLCBpc0F1dGgsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKT0+e1xyXG5jb25zdCBvcmRlcj1uZXcgT3JkZXIgKHtcclxuICAgIG9yZGVySXRlbXM6cmVxLmJvZHkub3JkZXJJdGVtcyxcclxuICAgIHVzZXI6cmVxLnVzZXIuX2lkLFxyXG4gICAgc2hpcHBpbmc6cmVxLmJvZHkuc2hpcHBpbmcsXHJcbiAgICBwYXltZW50OnJlcS5ib2R5LnBheW1lbnQsXHJcbiAgICBpdGVtc1ByaWNlOnJlcS5ib2R5Lml0ZW1zUHJpY2UsXHJcbiAgICB0YXhQcmljZTpyZXEuYm9keS50YXhQcmljZSxcclxuICAgIHNoaXBwaW5nUHJpY2U6cmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcclxuICAgIHRvdGFsUHJpY2U6cmVxLmJvZHkudG90YWxQcmljZSxcclxufSlcclxuY29uc3QgY3JlYXRlZE9yZGVyPWF3YWl0IG9yZGVyLnNhdmUoKVxyXG5yZXMuc3RhdHVzKDIwMSkuc2VuZCh7bWVzc2FnZTonbmV3IE9yZGVyIENyZWF0ZWQnLCBvcmRlcjogY3JlYXRlZE9yZGVyfSlcclxufSkgXHJcbikgXHJcblxyXG5vcmRlclJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLCByZXMpPT57XHJcbiAgICBjb25zdCBvcmRlciA9YXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZClcclxuICAgIGlmKG9yZGVyKXtcclxuICAgICAgICBjb25zdCBkZWxldGVkT3JkZXIgPSBhd2FpdCBvcmRlci5kZWxldGVPbmUoKVxyXG4gICAgICAgIHJlcy5zZW5kKHttZXNzYWdlOidPcmRlciAgRGVsZXRlZCAnLCBwcm9kdWN0OiBkZWxldGVkT3JkZXJ9KVxyXG5cclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnT3JkZXIgbm90IGZvdW5kJ30pXHJcbiAgICB9XHJcbn0pKVxyXG5cclxuXHJcblxyXG5cclxuXHJcbm9yZGVyUm91dGVyLnB1dCAoJy86aWQvcGF5JywgaXNBdXRoLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IG9yZGVyPWF3YWl0IE9yZGVyLmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpXHJcbiAgICBpZihvcmRlcil7XHJcbiAgICAgICAgb3JkZXIuaXNQYWlkPXRydWVcclxuICAgICAgICBvcmRlci5wYWlkQXQ9RGF0ZS5ub3coKVxyXG4gICAgICAgIG9yZGVyLnBheW1lbnQucGF5bWVudFJlc3VsdD17XHJcbiAgICAgICAgICAgIHBheWVySUQ6cmVxLmJvZHkucGF5ZXJJRCxcclxuICAgICAgICAgICAgcGF5bWVudElEOnJlcS5ib2R5LnBheW1lbnRJRCxcclxuICAgICAgICAgICAgb3JkZXJJRDpyZXEuYm9keS5vcmRlcklEXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRPcmRlcj1hd2FpdCBvcmRlci5zYXZlKClcclxuICAgICAgICByZXMuc2VuZCh7bWVzc2FnZTonT3JkZXIgcGFpZCcsb3JkZXI6dXBkYXRlZE9yZGVyfSlcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5zZW5kKDQwNCkuc2VuZCh7bWVzc2FnZTonb3JkZXIgbm90IGZvdW5kJ30pXHJcbiAgICB9XHJcbn0p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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_expressAsyncHandler","_middleware","_orderModel","_userModel","_productModel","obj","__esModule","default","orderRouter","express","Router","get","isAuth","isAdmin","expressAsyncHandler","req","res","orders","Order","aggregate","$group","_id","numOrders","$sum","totalSales","users","User","numUsers","dailyOrders","$dateToString","format","date","sales","productCategories","Product","count","send","length","find","populate","user","order","findById","params","id","status","message","post","orderItems","body","shipping","payment","itemsPrice","taxPrice","shippingPrice","totalPrice","createdOrder","save","delete","deletedOrder","deleteOne","product","put","isPaid","paidAt","Date","now","paymentResult","payerID","paymentID","orderID","updatedOrder","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\routers\\","sources":["orderRouter.js"],"sourcesContent":["import express from \"express\";\r\nimport expressAsyncHandler from 'express-async-handler'\r\nimport { isAuth,   isAdmin, } from '../middleware'\r\nimport Order from \"../models/orderModel\";\r\nimport User from \"../models/userModel\"\r\nimport Product from \"../models/productModel\"\r\n\r\n\r\n\r\nconst orderRouter = express.Router()\r\n\r\norderRouter.get('/summary',isAuth,isAdmin,expressAsyncHandler(async(req,res)=>{\r\n    const orders=await Order.aggregate([\r\n        {\r\n        $group:{\r\n            _id:null,\r\n            numOrders:{$sum:1},\r\n            totalSales:{$sum:'$totalPrice'},\r\n    },\r\n}\r\n])\r\nconst users = await User.aggregate([\r\n    {\r\n        $group:{\r\n            _id:null,\r\n            numUsers:{$sum: 1},\r\n            \r\n        }\r\n    }\r\n])\r\nconst dailyOrders=await Order.aggregate([\r\n    {\r\n        $group:{\r\n            _id:{$dateToString:{format:'%Y-%m-%d',date:'$createdAt'}},\r\n            orders:{$sum:1},\r\n            sales:{$sum:'$totalPrice'},\r\n        }\r\n\r\n    }\r\n])\r\nconst productCategories = await Product.aggregate([\r\n      {\r\n        $group: {\r\n          _id: '$category',\r\n          count: { $sum: 1 },\r\n        },\r\n      },\r\n    ]);\r\nres.send({users, orders: orders.length === 0 ? [{ numOrders: 0, totalSales: 0 }] : orders, dailyOrders,productCategories})\r\n}))\r\n\r\n\r\n\r\norderRouter.get('/', isAuth, isAdmin, expressAsyncHandler(async(req, res)=>{\r\n    const orders= await Order.find({}).populate('user')\r\n    res.send(orders)\r\n}))\r\n\r\norderRouter.get('/mine',isAuth,expressAsyncHandler(async(req,res)=>{\r\n    const orders=await  Order.find({user:req.user._id})\r\n    res.send(orders)\r\n}))\r\n\r\n\r\norderRouter.get('/:id',isAuth, expressAsyncHandler(async(req,res)=>{\r\n    const order =await Order.findById(req.params.id)\r\n    if(order){\r\nres.send(order)\r\n    }else{\r\n        res.status(404).send({message:'order not found'})\r\n    }\r\n})\r\n)\r\norderRouter.post('/', isAuth, expressAsyncHandler(async (req, res)=>{\r\nconst order=new Order ({\r\n    orderItems:req.body.orderItems,\r\n    user:req.user._id,\r\n    shipping:req.body.shipping,\r\n    payment:req.body.payment,\r\n    itemsPrice:req.body.itemsPrice,\r\n    taxPrice:req.body.taxPrice,\r\n    shippingPrice:req.body.shippingPrice,\r\n    totalPrice:req.body.totalPrice,\r\n})\r\nconst createdOrder=await order.save()\r\nres.status(201).send({message:'new Order Created', order: createdOrder})\r\n}) \r\n) \r\n\r\norderRouter.delete('/:id', isAuth, isAdmin, expressAsyncHandler(async(req, res)=>{\r\n    const order =await Order.findById(req.params.id)\r\n    if(order){\r\n        const deletedOrder = await order.deleteOne()\r\n        res.send({message:'Order  Deleted ', product: deletedOrder})\r\n\r\n    }else{\r\n        res.status(404).send({message: 'Order not found'})\r\n    }\r\n}))\r\n\r\n\r\n\r\n\r\n\r\norderRouter.put ('/:id/pay', isAuth,expressAsyncHandler(async(req,res)=>{\r\n    const order=await Order.findById(req.params.id)\r\n    if(order){\r\n        order.isPaid=true\r\n        order.paidAt=Date.now()\r\n        order.payment.paymentResult={\r\n            payerID:req.body.payerID,\r\n            paymentID:req.body.paymentID,\r\n            orderID:req.body.orderID\r\n        }\r\n        const updatedOrder=await order.save()\r\n        res.send({message:'Order paid',order:updatedOrder})\r\n    }else{\r\n        res.send(404).send({message:'order not found'})\r\n    }\r\n}))\r\nexport default orderRouter "],"mappings":"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"}},"mtime":1685389703776},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'product',\n      required: true\n    }\n  }],\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  shipping: {\n    address: String,\n    city: String,\n    postalCode: String,\n    country: String\n  },\n  payment: {\n    paymentMethod: String,\n    paymentResult: {\n      orderID: String,\n      payerID: String,\n      paymentID: String\n    }\n  },\n  itemsPrice: Number,\n  taxPrice: Number,\n  shippingPrice: Number,\n  totalPrice: Number,\n  isPaid: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  paidAt: Date,\n  isDelivered: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  DeliveredAt: Date\n}, {\n  timestamps: true\n});\nconst Order = _mongoose.default.model('Order', orderSchema);\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW1hZ2UiLCJwcmljZSIsIk51bWJlciIsInF0eSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidXNlciIsInNoaXBwaW5nIiwiYWRkcmVzcyIsImNpdHkiLCJwb3N0YWxDb2RlIiwiY291bnRyeSIsInBheW1lbnQiLCJwYXltZW50TWV0aG9kIiwicGF5bWVudFJlc3VsdCIsIm9yZGVySUQiLCJwYXllcklEIiwicGF5bWVudElEIiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwicGFpZEF0IiwiRGF0ZSIsImlzRGVsaXZlcmVkIiwiRGVsaXZlcmVkQXQiLCJ0aW1lc3RhbXBzIiwiT3JkZXIiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxCT0RFXFxEb2N1bWVudHNcXGNvZGVcXGVjb21tZXJjZVxcYmFja2VuZFxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3Qgb3JkZXJTY2hlbWE9bmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbm9yZGVySXRlbXM6W3tcclxuICAgIG5hbWU6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlLH0sXHJcbiAgICBpbWFnZTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsfSxcclxuICAgIHByaWNlOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSx9LFxyXG4gICAgcXR5Ont0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSx9LFxyXG4gICAgcHJvZHVjdDp7dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6J3Byb2R1Y3QnLCByZXF1aXJlZDp0cnVlfSxcclxufV0sXHJcbnVzZXI6e3R5cGU6bW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6J1VzZXInLCByZXF1aXJlZDp0cnVlfSxcclxuc2hpcHBpbmc6e1xyXG4gICAgYWRkcmVzczpTdHJpbmcsXHJcbiAgICBjaXR5OlN0cmluZyxcclxuICAgIHBvc3RhbENvZGU6U3RyaW5nLFxyXG4gICAgY291bnRyeTpTdHJpbmcsXHJcbn0sXHJcbnBheW1lbnQ6e3BheW1lbnRNZXRob2Q6U3RyaW5nLCBwYXltZW50UmVzdWx0OntvcmRlcklEOlN0cmluZywgcGF5ZXJJRDpTdHJpbmcscGF5bWVudElEOlN0cmluZ319LFxyXG5pdGVtc1ByaWNlOk51bWJlcixcclxudGF4UHJpY2U6TnVtYmVyLFxyXG5zaGlwcGluZ1ByaWNlOiBOdW1iZXIsXHJcbnRvdGFsUHJpY2U6TnVtYmVyLFxyXG5pc1BhaWQ6e3R5cGU6Qm9vbGVhbiwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDpmYWxzZX0sXHJcbnBhaWRBdDpEYXRlLFxyXG5pc0RlbGl2ZXJlZDp7dHlwZTpCb29sZWFuLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OmZhbHNlfSxcclxuRGVsaXZlcmVkQXQ6RGF0ZSxcclxuXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn0pXHJcblxyXG5jb25zdCBPcmRlciA9bW9uZ29vc2UubW9kZWwoJ09yZGVyJywgb3JkZXJTY2hlbWEpXHJcbmV4cG9ydCBkZWZhdWx0IE9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBZ0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFaEMsTUFBTUcsV0FBVyxHQUFDLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FBQztFQUN0Q0MsVUFBVSxFQUFDLENBQUM7SUFDUkMsSUFBSSxFQUFDO01BQUNDLElBQUksRUFBQ0MsTUFBTTtNQUFFQyxRQUFRLEVBQUM7SUFBSyxDQUFDO0lBQ2xDQyxLQUFLLEVBQUM7TUFBQ0gsSUFBSSxFQUFDQyxNQUFNO01BQUVDLFFBQVEsRUFBQztJQUFLLENBQUM7SUFDbkNFLEtBQUssRUFBQztNQUFDSixJQUFJLEVBQUNLLE1BQU07TUFBRUgsUUFBUSxFQUFDO0lBQUssQ0FBQztJQUNuQ0ksR0FBRyxFQUFDO01BQUNOLElBQUksRUFBQ0ssTUFBTTtNQUFFSCxRQUFRLEVBQUM7SUFBSyxDQUFDO0lBQ2pDSyxPQUFPLEVBQUM7TUFBQ1AsSUFBSSxFQUFFSixpQkFBUSxDQUFDQyxNQUFNLENBQUNXLEtBQUssQ0FBQ0MsUUFBUTtNQUFFQyxHQUFHLEVBQUMsU0FBUztNQUFFUixRQUFRLEVBQUM7SUFBSTtFQUMvRSxDQUFDLENBQUM7RUFDRlMsSUFBSSxFQUFDO0lBQUNYLElBQUksRUFBQ0osaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDVyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFDLE1BQU07SUFBRVIsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyRVUsUUFBUSxFQUFDO0lBQ0xDLE9BQU8sRUFBQ1osTUFBTTtJQUNkYSxJQUFJLEVBQUNiLE1BQU07SUFDWGMsVUFBVSxFQUFDZCxNQUFNO0lBQ2pCZSxPQUFPLEVBQUNmO0VBQ1osQ0FBQztFQUNEZ0IsT0FBTyxFQUFDO0lBQUNDLGFBQWEsRUFBQ2pCLE1BQU07SUFBRWtCLGFBQWEsRUFBQztNQUFDQyxPQUFPLEVBQUNuQixNQUFNO01BQUVvQixPQUFPLEVBQUNwQixNQUFNO01BQUNxQixTQUFTLEVBQUNyQjtJQUFNO0VBQUMsQ0FBQztFQUMvRnNCLFVBQVUsRUFBQ2xCLE1BQU07RUFDakJtQixRQUFRLEVBQUNuQixNQUFNO0VBQ2ZvQixhQUFhLEVBQUVwQixNQUFNO0VBQ3JCcUIsVUFBVSxFQUFDckIsTUFBTTtFQUNqQnNCLE1BQU0sRUFBQztJQUFDM0IsSUFBSSxFQUFDNEIsT0FBTztJQUFFMUIsUUFBUSxFQUFDLElBQUk7SUFBRVIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNuRG1DLE1BQU0sRUFBQ0MsSUFBSTtFQUNYQyxXQUFXLEVBQUM7SUFBQy9CLElBQUksRUFBQzRCLE9BQU87SUFBRTFCLFFBQVEsRUFBQyxJQUFJO0lBQUVSLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDeERzQyxXQUFXLEVBQUNGO0FBRVosQ0FBQyxFQUFDO0VBQ0VHLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLEtBQUssR0FBRXRDLGlCQUFRLENBQUN1QyxLQUFLLENBQUMsT0FBTyxFQUFFeEMsV0FBVyxDQUFDO0FBQUEsSUFBQXlDLFFBQUEsR0FDbENGLEtBQUs7QUFBQUcsT0FBQSxDQUFBM0MsT0FBQSxHQUFBMEMsUUFBQSJ9","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","orderSchema","mongoose","Schema","orderItems","name","type","String","required","image","price","Number","qty","product","Types","ObjectId","ref","user","shipping","address","city","postalCode","country","payment","paymentMethod","paymentResult","orderID","payerID","paymentID","itemsPrice","taxPrice","shippingPrice","totalPrice","isPaid","Boolean","paidAt","Date","isDelivered","DeliveredAt","timestamps","Order","model","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\models\\","sources":["orderModel.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst orderSchema=new mongoose.Schema({\r\norderItems:[{\r\n    name:{type:String, required:true,},\r\n    image:{type:String, required:true,},\r\n    price:{type:Number, required:true,},\r\n    qty:{type:Number, required:true,},\r\n    product:{type: mongoose.Schema.Types.ObjectId, ref:'product', required:true},\r\n}],\r\nuser:{type:mongoose.Schema.Types.ObjectId, ref:'User', required:true},\r\nshipping:{\r\n    address:String,\r\n    city:String,\r\n    postalCode:String,\r\n    country:String,\r\n},\r\npayment:{paymentMethod:String, paymentResult:{orderID:String, payerID:String,paymentID:String}},\r\nitemsPrice:Number,\r\ntaxPrice:Number,\r\nshippingPrice: Number,\r\ntotalPrice:Number,\r\nisPaid:{type:Boolean, required:true, default:false},\r\npaidAt:Date,\r\nisDelivered:{type:Boolean, required:true, default:false},\r\nDeliveredAt:Date,\r\n\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nconst Order =mongoose.model('Order', orderSchema)\r\nexport default Order"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEhC,MAAMG,WAAW,GAAC,IAAIC,iBAAQ,CAACC,MAAM,CAAC;EACtCC,UAAU,EAAC,CAAC;IACRC,IAAI,EAAC;MAACC,IAAI,EAACC,MAAM;MAAEC,QAAQ,EAAC;IAAK,CAAC;IAClCC,KAAK,EAAC;MAACH,IAAI,EAACC,MAAM;MAAEC,QAAQ,EAAC;IAAK,CAAC;IACnCE,KAAK,EAAC;MAACJ,IAAI,EAACK,MAAM;MAAEH,QAAQ,EAAC;IAAK,CAAC;IACnCI,GAAG,EAAC;MAACN,IAAI,EAACK,MAAM;MAAEH,QAAQ,EAAC;IAAK,CAAC;IACjCK,OAAO,EAAC;MAACP,IAAI,EAAEJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;MAAEC,GAAG,EAAC,SAAS;MAAER,QAAQ,EAAC;IAAI;EAC/E,CAAC,CAAC;EACFS,IAAI,EAAC;IAACX,IAAI,EAACJ,iBAAQ,CAACC,MAAM,CAACW,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAER,QAAQ,EAAC;EAAI,CAAC;EACrEU,QAAQ,EAAC;IACLC,OAAO,EAACZ,MAAM;IACda,IAAI,EAACb,MAAM;IACXc,UAAU,EAACd,MAAM;IACjBe,OAAO,EAACf;EACZ,CAAC;EACDgB,OAAO,EAAC;IAACC,aAAa,EAACjB,MAAM;IAAEkB,aAAa,EAAC;MAACC,OAAO,EAACnB,MAAM;MAAEoB,OAAO,EAACpB,MAAM;MAACqB,SAAS,EAACrB;IAAM;EAAC,CAAC;EAC/FsB,UAAU,EAAClB,MAAM;EACjBmB,QAAQ,EAACnB,MAAM;EACfoB,aAAa,EAAEpB,MAAM;EACrBqB,UAAU,EAACrB,MAAM;EACjBsB,MAAM,EAAC;IAAC3B,IAAI,EAAC4B,OAAO;IAAE1B,QAAQ,EAAC,IAAI;IAAER,OAAO,EAAC;EAAK,CAAC;EACnDmC,MAAM,EAACC,IAAI;EACXC,WAAW,EAAC;IAAC/B,IAAI,EAAC4B,OAAO;IAAE1B,QAAQ,EAAC,IAAI;IAAER,OAAO,EAAC;EAAK,CAAC;EACxDsC,WAAW,EAACF;AAEZ,CAAC,EAAC;EACEG,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,KAAK,GAAEtC,iBAAQ,CAACuC,KAAK,CAAC,OAAO,EAAExC,WAAW,CAAC;AAAA,IAAAyC,QAAA,GAClCF,KAAK;AAAAG,OAAA,CAAA3C,OAAA,GAAA0C,QAAA"}},"mtime":1684751000234},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nvar _middleware = require(\"../middleware\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productRouter = _express.default.Router();\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const products = await _productModel.default.find({\n    ...searchKeyword\n  });\n  res.send(products);\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post('/', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample product',\n    description: 'sample description',\n    category: 'sample category',\n    brand: 'sample brand',\n    image: '/image/product-1.jpg'\n  });\n  const createdProduct = await product.save();\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'product created',\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: 'error in creating product'\n    });\n  }\n}));\nproductRouter.put('/:id', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      res.send({\n        message: 'PRoDuCT UPDaTEd ',\n        product: updatedProduct\n      });\n    } else {\n      res.send(500).send({\n        message: 'Error in UpDating PrOduCt'\n      });\n    }\n  } else {\n    res.send(404).send({\n      message: 'PrOduCt nOT FoUnd'\n    });\n  }\n}));\nproductRouter.delete('/:id', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const deletedProduct = await product.deleteOne();\n    res.send({\n      message: 'product is deleted ',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product not found'\n    });\n  }\n}));\nproductRouter.post('/:id/reviews', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const review = {\n      rating: req.body.rating,\n      comment: req.body.comment,\n      user: req.user._id,\n      name: req.user.name\n    };\n    product.reviews.push(review);\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    product.numReviews = product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      message: 'Comment Created.',\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1]\n    });\n  } else {\n    throw Error('Product does not exist.');\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2V4cHJlc3NBc3luY0hhbmRsZXIiLCJfcHJvZHVjdE1vZGVsIiwiX21pZGRsZXdhcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInByb2R1Y3RSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsInNlYXJjaEtleXdvcmQiLCJxdWVyeSIsIm5hbWUiLCIkcmVnZXgiLCIkb3B0aW9ucyIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzZW5kIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJicmFuZCIsImltYWdlIiwiY3JlYXRlZFByb2R1Y3QiLCJzYXZlIiwic3RhdHVzIiwibWVzc2FnZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJwcmljZSIsImNvdW50SW5TdG9jayIsInVwZGF0ZWRQcm9kdWN0IiwiZGVsZXRlIiwiZGVsZXRlZFByb2R1Y3QiLCJkZWxldGVPbmUiLCJyZXZpZXciLCJyYXRpbmciLCJjb21tZW50IiwidXNlciIsIl9pZCIsInJldmlld3MiLCJwdXNoIiwicmVkdWNlIiwiYSIsImMiLCJsZW5ndGgiLCJudW1SZXZpZXdzIiwiZGF0YSIsIkVycm9yIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJ1xyXG5pbXBvcnQge2lzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL21pZGRsZXdhcmUnXHJcblxyXG5cclxuXHJcbmNvbnN0IHByb2R1Y3RSb3V0ZXI9ZXhwcmVzcy5Sb3V0ZXIoKVxyXG5wcm9kdWN0Um91dGVyLmdldCgnLycsZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEscmVzKT0+e1xyXG5cclxuICAgICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmRcclxuICAgICAgPyB7XHJcbiAgICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXHJcbiAgICAgICAgICAgICRvcHRpb25zOiAnaScsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgOiB7fTtcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHsgLi4uc2VhcmNoS2V5d29yZCB9KTtcclxuICAgIHJlcy5zZW5kKHByb2R1Y3RzKVxyXG59KSlcclxucHJvZHVjdFJvdXRlci5nZXQoJy86aWQnLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3Q9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZClcclxuICAgIHJlcy5zZW5kKHByb2R1Y3QpXHJcbn0pKVxyXG5cclxuXHJcblxyXG5cclxuXHJcbnByb2R1Y3RSb3V0ZXIucG9zdCgnLycsaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xyXG4gICAgICAgIG5hbWU6J3NhbXBsZSBwcm9kdWN0JyxcclxuICAgICAgICAgZGVzY3JpcHRpb246J3NhbXBsZSBkZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgY2F0ZWdvcnk6J3NhbXBsZSBjYXRlZ29yeScsXHJcbiAgICAgICAgICAgIGJyYW5kOidzYW1wbGUgYnJhbmQnLFxyXG4gICAgICAgICAgICBpbWFnZTonL2ltYWdlL3Byb2R1Y3QtMS5qcGcnLFxyXG4gICAgICAgICAgICAgXHJcblxyXG4gICAgfSlcclxuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID1hd2FpdCBwcm9kdWN0LnNhdmUoKVxyXG4gICAgaWYoY3JlYXRlZFByb2R1Y3Qpe1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHttZXNzYWdlOidwcm9kdWN0IGNyZWF0ZWQnLHByb2R1Y3Q6Y3JlYXRlZFByb2R1Y3R9KVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6J2Vycm9yIGluIGNyZWF0aW5nIHByb2R1Y3QnfSlcclxuICAgIH1cclxufSkpXHJcblxyXG5wcm9kdWN0Um91dGVyLnB1dCgnLzppZCcsaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCBwcm9kdWN0SWQgPXJlcS5wYXJhbXMuaWRcclxuICAgIGNvbnN0IHByb2R1Y3QgPWF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKVxyXG4gICAgaWYocHJvZHVjdCl7XHJcbiAgICAgICBwcm9kdWN0Lm5hbWU9cmVxLmJvZHkubmFtZSBcclxuICAgICAgIHByb2R1Y3QucHJpY2U9cmVxLmJvZHkucHJpY2UgXHJcbiAgICAgICBwcm9kdWN0LmltYWdlPXJlcS5ib2R5LmltYWdlIFxyXG4gICAgICAgcHJvZHVjdC5icmFuZD1yZXEuYm9keS5icmFuZCBcclxuICAgICAgIHByb2R1Y3QuY2F0ZWdvcnk9cmVxLmJvZHkuY2F0ZWdvcnkgXHJcbiAgICAgICBwcm9kdWN0LmNvdW50SW5TdG9jaz1yZXEuYm9keS5jb3VudEluU3RvY2sgXHJcbiAgICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uPXJlcS5ib2R5LmRlc2NyaXB0aW9uIFxyXG4gICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKVxyXG4gICAgICAgaWYodXBkYXRlZFByb2R1Y3Qpe1xyXG4gICAgICAgIHJlcy5zZW5kKHttZXNzYWdlOidQUm9EdUNUIFVQRGFURWQgJywgcHJvZHVjdDogdXBkYXRlZFByb2R1Y3R9KVxyXG4gICAgICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnNlbmQoNTAwKS5zZW5kKHttZXNzYWdlOidFcnJvciBpbiBVcERhdGluZyBQck9kdUN0J30pXHJcbiAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXMuc2VuZCg0MDQpLnNlbmQoe21lc3NhZ2U6J1ByT2R1Q3Qgbk9UIEZvVW5kJ30pXHJcbiAgICB9XHJcbn0pKVxyXG5cclxucHJvZHVjdFJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsaXNBZG1pbiwgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEsIHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3QgPWF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZClcclxuICAgIGlmKHByb2R1Y3Qpe1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5kZWxldGVPbmUoKVxyXG4gICAgICAgIHJlcy5zZW5kKHttZXNzYWdlOidwcm9kdWN0IGlzIGRlbGV0ZWQgJywgcHJvZHVjdDogZGVsZXRlZFByb2R1Y3R9KVxyXG5cclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQnfSlcclxuICAgIH1cclxufSkpXHJcblxyXG5wcm9kdWN0Um91dGVyLnBvc3QoJy86aWQvcmV2aWV3cycsaXNBdXRoLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgIHJhdGluZzogcmVxLmJvZHkucmF0aW5nLFxyXG4gICAgICAgIGNvbW1lbnQ6IHJlcS5ib2R5LmNvbW1lbnQsXHJcbiAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHJlcS51c2VyLm5hbWUsXHJcbiAgICAgIH07XHJcbiAgICAgIHByb2R1Y3QucmV2aWV3cy5wdXNoKHJldmlldyk7XHJcbiAgICAgIHByb2R1Y3QucmF0aW5nID1cclxuICAgICAgICBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC9cclxuICAgICAgICBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgICBwcm9kdWN0Lm51bVJldmlld3MgPSBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogJ0NvbW1lbnQgQ3JlYXRlZC4nLFxyXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LnJldmlld3NbdXBkYXRlZFByb2R1Y3QucmV2aWV3cy5sZW5ndGggLSAxXSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBFcnJvcignUHJvZHVjdCBkb2VzIG5vdCBleGlzdC4nKTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdFJvdXRlclxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_expressAsyncHandler","_productModel","_middleware","obj","__esModule","default","productRouter","express","Router","get","expressAsyncHandler","req","res","searchKeyword","query","name","$regex","$options","products","Product","find","send","product","findById","params","id","post","isAuth","isAdmin","description","category","brand","image","createdProduct","save","status","message","put","productId","body","price","countInStock","updatedProduct","delete","deletedProduct","deleteOne","review","rating","comment","user","_id","reviews","push","reduce","a","c","length","numReviews","data","Error","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\routers\\","sources":["productRouter.js"],"sourcesContent":["import express from 'express'\r\nimport expressAsyncHandler from 'express-async-handler'\r\nimport Product from '../models/productModel'\r\nimport {isAuth, isAdmin } from '../middleware'\r\n\r\n\r\n\r\nconst productRouter=express.Router()\r\nproductRouter.get('/',expressAsyncHandler(async(req,res)=>{\r\n\r\n     const searchKeyword = req.query.searchKeyword\r\n      ? {\r\n          name: {\r\n            $regex: req.query.searchKeyword,\r\n            $options: 'i',\r\n          },\r\n        }\r\n      : {};\r\n    const products = await Product.find({ ...searchKeyword });\r\n    res.send(products)\r\n}))\r\nproductRouter.get('/:id',expressAsyncHandler(async(req,res)=>{\r\n    const product= await Product.findById(req.params.id)\r\n    res.send(product)\r\n}))\r\n\r\n\r\n\r\n\r\n\r\nproductRouter.post('/',isAuth, isAdmin, expressAsyncHandler(async(req,res)=>{\r\n    const product = new Product({\r\n        name:'sample product',\r\n         description:'sample description',\r\n           category:'sample category',\r\n            brand:'sample brand',\r\n            image:'/image/product-1.jpg',\r\n             \r\n\r\n    })\r\n    const createdProduct =await product.save()\r\n    if(createdProduct){\r\n        res.status(201).send({message:'product created',product:createdProduct})\r\n    }else{\r\n        res.status(500).send({message:'error in creating product'})\r\n    }\r\n}))\r\n\r\nproductRouter.put('/:id',isAuth, isAdmin, expressAsyncHandler(async(req,res)=>{\r\n    const productId =req.params.id\r\n    const product =await Product.findById(productId)\r\n    if(product){\r\n       product.name=req.body.name \r\n       product.price=req.body.price \r\n       product.image=req.body.image \r\n       product.brand=req.body.brand \r\n       product.category=req.body.category \r\n       product.countInStock=req.body.countInStock \r\n       product.description=req.body.description \r\n       const updatedProduct = await product.save()\r\n       if(updatedProduct){\r\n        res.send({message:'PRoDuCT UPDaTEd ', product: updatedProduct})\r\n       }else{\r\n        res.send(500).send({message:'Error in UpDating PrOduCt'})\r\n       }\r\n    }else{\r\n        res.send(404).send({message:'PrOduCt nOT FoUnd'})\r\n    }\r\n}))\r\n\r\nproductRouter.delete('/:id', isAuth,isAdmin, expressAsyncHandler(async(req, res)=>{\r\n    const product =await Product.findById(req.params.id)\r\n    if(product){\r\n        const deletedProduct = await product.deleteOne()\r\n        res.send({message:'product is deleted ', product: deletedProduct})\r\n\r\n    }else{\r\n        res.status(404).send({message: 'Product not found'})\r\n    }\r\n}))\r\n\r\nproductRouter.post('/:id/reviews',isAuth,expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n        const review = {\r\n        rating: req.body.rating,\r\n        comment: req.body.comment,\r\n        user: req.user._id,\r\n        name: req.user.name,\r\n      };\r\n      product.reviews.push(review);\r\n      product.rating =\r\n        product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n        product.reviews.length;\r\n      product.numReviews = product.reviews.length;\r\n      const updatedProduct = await product.save();\r\n      res.status(201).send({\r\n        message: 'Comment Created.',\r\n        data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\r\n      });\r\n    } else {\r\n      throw Error('Product does not exist.');\r\n    }\r\n  })\r\n);\r\n\r\nexport default productRouter\r\n"],"mappings":"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"}},"mtime":1685464829782},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst reviewSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true,\n    default: 0,\n    min: 0,\n    max: 5\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n}, {\n  timeStamps: true\n});\nconst Product = _mongoose.default.model('Product', productSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmV2aWV3U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJyYXRpbmciLCJOdW1iZXIiLCJtaW4iLCJtYXgiLCJjb21tZW50IiwidGltZXN0YW1wcyIsInByb2R1Y3RTY2hlbWEiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsInByaWNlIiwiY291bnRJblN0b2NrIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJ0aW1lU3RhbXBzIiwiUHJvZHVjdCIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsicHJvZHVjdE1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge3VzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcmF0aW5nOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICAgIG1pbjogMCxcclxuICAgICAgbWF4OiA1LFxyXG4gICAgfSxcclxuICAgIGNvbW1lbnQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgbmFtZToge3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY2F0ZWdvcnk6IHt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBicmFuZDoge3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcHJpY2U6IHt0eXBlOk51bWJlciwgZGVmYXVsdDowLjAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY291bnRJblN0b2NrOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MC4wLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHJhdGluZzoge3R5cGU6TnVtYmVyLCBkZWZhdWx0OjAuMCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIG51bVJldmlld3M6IHt0eXBlOk51bWJlciwgZGVmYXVsdDowLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHJldmlld3M6IFtyZXZpZXdTY2hlbWFdLFxyXG4gICAgfSx7dGltZVN0YW1wczp0cnVlfVxyXG4pXHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLHByb2R1Y3RTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFL0IsTUFBTUcsWUFBWSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FDdEM7RUFBQ0MsSUFBSSxFQUFFO0lBQUVDLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUMxRUMsSUFBSSxFQUFFO0lBQUVMLElBQUksRUFBRU0sTUFBTTtJQUFFRixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3RDRyxNQUFNLEVBQUU7SUFDTlAsSUFBSSxFQUFFUSxNQUFNO0lBQ1pKLFFBQVEsRUFBRSxJQUFJO0lBQ2RULE9BQU8sRUFBRSxDQUFDO0lBQ1ZjLEdBQUcsRUFBRSxDQUFDO0lBQ05DLEdBQUcsRUFBRTtFQUNQLENBQUM7RUFDREMsT0FBTyxFQUFFO0lBQUVYLElBQUksRUFBRU0sTUFBTTtJQUFFRixRQUFRLEVBQUU7RUFBSztBQUMxQyxDQUFDLEVBQ0Q7RUFBRVEsVUFBVSxFQUFFO0FBQUssQ0FBQyxDQUNyQjtBQU9ELE1BQU1DLGFBQWEsR0FBRyxJQUFJaEIsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ3RDTyxJQUFJLEVBQUU7SUFBQ0wsSUFBSSxFQUFDTSxNQUFNO0lBQUVGLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbENVLFdBQVcsRUFBRTtJQUFDZCxJQUFJLEVBQUNNLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN6Q1csUUFBUSxFQUFFO0lBQUNmLElBQUksRUFBQ00sTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3RDWSxLQUFLLEVBQUU7SUFBQ2hCLElBQUksRUFBQ00sTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DYSxLQUFLLEVBQUU7SUFBQ2pCLElBQUksRUFBQ00sTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DYyxLQUFLLEVBQUU7SUFBQ2xCLElBQUksRUFBQ1EsTUFBTTtJQUFFYixPQUFPLEVBQUMsR0FBRztJQUFFUyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hEZSxZQUFZLEVBQUU7SUFBQ25CLElBQUksRUFBQ1EsTUFBTTtJQUFFYixPQUFPLEVBQUMsR0FBRztJQUFFUyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3ZERyxNQUFNLEVBQUU7SUFBQ1AsSUFBSSxFQUFDUSxNQUFNO0lBQUViLE9BQU8sRUFBQyxHQUFHO0lBQUNTLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERnQixVQUFVLEVBQUU7SUFBQ3BCLElBQUksRUFBQ1EsTUFBTTtJQUFFYixPQUFPLEVBQUMsQ0FBQztJQUFFUyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25EaUIsT0FBTyxFQUFFLENBQUN6QixZQUFZO0FBQ3RCLENBQUMsRUFBQztFQUFDMEIsVUFBVSxFQUFDO0FBQUksQ0FBQyxDQUN0QjtBQUVELE1BQU1DLE9BQU8sR0FBRzFCLGlCQUFRLENBQUMyQixLQUFLLENBQUMsU0FBUyxFQUFDWCxhQUFhLENBQUM7QUFBQSxJQUFBWSxRQUFBLEdBRXhDRixPQUFPO0FBQUFHLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQThCLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","reviewSchema","mongoose","Schema","user","type","Types","ObjectId","ref","required","name","String","rating","Number","min","max","comment","timestamps","productSchema","description","category","brand","image","price","countInStock","numReviews","reviews","timeStamps","Product","model","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["import mongoose from 'mongoose'\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n  {user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n    name: { type: String, required: true },\r\n    rating: {\r\n      type: Number,\r\n      required: true,\r\n      default: 0,\r\n      min: 0,\r\n      max: 5,\r\n    },\r\n    comment: { type: String, required: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst productSchema = new mongoose.Schema({\r\n    name: {type:String, required:true},\r\n    description: {type:String, required:true},\r\n    category: {type:String, required:true},\r\n    brand: {type:String, required:true},\r\n    image: {type:String, required:true},\r\n    price: {type:Number, default:0.0, required:true},\r\n    countInStock: {type:Number, default:0.0, required:true},\r\n    rating: {type:Number, default:0.0,required:true},\r\n    numReviews: {type:Number, default:0, required:true},\r\n    reviews: [reviewSchema],\r\n    },{timeStamps:true}\r\n)\r\n\r\nconst Product = mongoose.model('Product',productSchema)\r\n\r\nexport default Product"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE/B,MAAMG,YAAY,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CACtC;EAACC,IAAI,EAAE;IAAEC,IAAI,EAAEH,iBAAQ,CAACC,MAAM,CAACG,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1EC,IAAI,EAAE;IAAEL,IAAI,EAAEM,MAAM;IAAEF,QAAQ,EAAE;EAAK,CAAC;EACtCG,MAAM,EAAE;IACNP,IAAI,EAAEQ,MAAM;IACZJ,QAAQ,EAAE,IAAI;IACdT,OAAO,EAAE,CAAC;IACVc,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE;EACP,CAAC;EACDC,OAAO,EAAE;IAAEX,IAAI,EAAEM,MAAM;IAAEF,QAAQ,EAAE;EAAK;AAC1C,CAAC,EACD;EAAEQ,UAAU,EAAE;AAAK,CAAC,CACrB;AAOD,MAAMC,aAAa,GAAG,IAAIhB,iBAAQ,CAACC,MAAM,CAAC;EACtCO,IAAI,EAAE;IAACL,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EAClCU,WAAW,EAAE;IAACd,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACzCW,QAAQ,EAAE;IAACf,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACtCY,KAAK,EAAE;IAAChB,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCa,KAAK,EAAE;IAACjB,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCc,KAAK,EAAE;IAAClB,IAAI,EAACQ,MAAM;IAAEb,OAAO,EAAC,GAAG;IAAES,QAAQ,EAAC;EAAI,CAAC;EAChDe,YAAY,EAAE;IAACnB,IAAI,EAACQ,MAAM;IAAEb,OAAO,EAAC,GAAG;IAAES,QAAQ,EAAC;EAAI,CAAC;EACvDG,MAAM,EAAE;IAACP,IAAI,EAACQ,MAAM;IAAEb,OAAO,EAAC,GAAG;IAACS,QAAQ,EAAC;EAAI,CAAC;EAChDgB,UAAU,EAAE;IAACpB,IAAI,EAACQ,MAAM;IAAEb,OAAO,EAAC,CAAC;IAAES,QAAQ,EAAC;EAAI,CAAC;EACnDiB,OAAO,EAAE,CAACzB,YAAY;AACtB,CAAC,EAAC;EAAC0B,UAAU,EAAC;AAAI,CAAC,CACtB;AAED,MAAMC,OAAO,GAAG1B,iBAAQ,CAAC2B,KAAK,CAAC,SAAS,EAACX,aAAa,CAAC;AAAA,IAAAY,QAAA,GAExCF,OAAO;AAAAG,OAAA,CAAA/B,OAAA,GAAA8B,QAAA"}},"mtime":1685464594249},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\nvar _middleware = require(\"../middleware\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst productRouter = _express.default.Router();\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {};\n  const products = await _productModel.default.find({\n    ...searchKeyword\n  });\n  res.send(products);\n}));\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  res.send(product);\n}));\nproductRouter.post('/', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample product',\n    description: 'sample description',\n    category: 'sample category',\n    brand: 'sample brand',\n    image: '/image/product-1.jpg'\n  });\n  const createdProduct = await product.save();\n  if (createdProduct) {\n    res.status(201).send({\n      message: 'product created',\n      product: createdProduct\n    });\n  } else {\n    res.status(500).send({\n      message: 'error in creating product'\n    });\n  }\n}));\nproductRouter.put('/:id', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    if (updatedProduct) {\n      res.send({\n        message: 'PRoDuCT UPDaTEd ',\n        product: updatedProduct\n      });\n    } else {\n      res.send(500).send({\n        message: 'Error in UpDating PrOduCt'\n      });\n    }\n  } else {\n    res.send(404).send({\n      message: 'PrOduCt nOT FoUnd'\n    });\n  }\n}));\nproductRouter.delete('/:id', _middleware.isAuth, _middleware.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const deletedProduct = await product.deleteOne();\n    res.send({\n      message: 'product is deleted ',\n      product: deletedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product not found'\n    });\n  }\n}));\nproductRouter.post('/:id/reviews', _middleware.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n  if (product) {\n    const review = {\n      rating: req.body.rating,\n      comment: req.body.comment,\n      user: req.user._id,\n      name: req.user.name\n    };\n    product.reviews.push(review);\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    product.numReviews = product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      message: 'Comment Created.',\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1]\n    });\n  } else {\n    throw Error('Product does not exist.');\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2V4cHJlc3NBc3luY0hhbmRsZXIiLCJfcHJvZHVjdE1vZGVsIiwiX21pZGRsZXdhcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInByb2R1Y3RSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwiZXhwcmVzc0FzeW5jSGFuZGxlciIsInJlcSIsInJlcyIsInNlYXJjaEtleXdvcmQiLCJxdWVyeSIsIm5hbWUiLCIkcmVnZXgiLCIkb3B0aW9ucyIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzZW5kIiwicHJvZHVjdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJicmFuZCIsImltYWdlIiwiY3JlYXRlZFByb2R1Y3QiLCJzYXZlIiwic3RhdHVzIiwibWVzc2FnZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJwcmljZSIsImNvdW50SW5TdG9jayIsInVwZGF0ZWRQcm9kdWN0IiwiZGVsZXRlIiwiZGVsZXRlZFByb2R1Y3QiLCJkZWxldGVPbmUiLCJyZXZpZXciLCJyYXRpbmciLCJjb21tZW50IiwidXNlciIsIl9pZCIsInJldmlld3MiLCJwdXNoIiwicmVkdWNlIiwiYSIsImMiLCJsZW5ndGgiLCJudW1SZXZpZXdzIiwiZGF0YSIsIkVycm9yIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFxyb3V0ZXJzXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcclxuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJ1xyXG5pbXBvcnQge2lzQXV0aCwgaXNBZG1pbiB9IGZyb20gJy4uL21pZGRsZXdhcmUnXHJcblxyXG5cclxuXHJcbmNvbnN0IHByb2R1Y3RSb3V0ZXI9ZXhwcmVzcy5Sb3V0ZXIoKVxyXG5wcm9kdWN0Um91dGVyLmdldCgnLycsZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEscmVzKT0+e1xyXG5cclxuICAgICBjb25zdCBzZWFyY2hLZXl3b3JkID0gcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmRcclxuICAgICAgPyB7XHJcbiAgICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXHJcbiAgICAgICAgICAgICRvcHRpb25zOiAnaScsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH1cclxuICAgICAgOiB7fTtcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHsgLi4uc2VhcmNoS2V5d29yZCB9KTtcclxuICAgIHJlcy5zZW5kKHByb2R1Y3RzKVxyXG59KSlcclxucHJvZHVjdFJvdXRlci5nZXQoJy86aWQnLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3Q9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZClcclxuICAgIHJlcy5zZW5kKHByb2R1Y3QpXHJcbn0pKVxyXG5cclxuXHJcblxyXG5cclxuXHJcbnByb2R1Y3RSb3V0ZXIucG9zdCgnLycsaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xyXG4gICAgICAgIG5hbWU6J3NhbXBsZSBwcm9kdWN0JyxcclxuICAgICAgICAgZGVzY3JpcHRpb246J3NhbXBsZSBkZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgY2F0ZWdvcnk6J3NhbXBsZSBjYXRlZ29yeScsXHJcbiAgICAgICAgICAgIGJyYW5kOidzYW1wbGUgYnJhbmQnLFxyXG4gICAgICAgICAgICBpbWFnZTonL2ltYWdlL3Byb2R1Y3QtMS5qcGcnLFxyXG4gICAgICAgICAgICAgXHJcblxyXG4gICAgfSlcclxuICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID1hd2FpdCBwcm9kdWN0LnNhdmUoKVxyXG4gICAgaWYoY3JlYXRlZFByb2R1Y3Qpe1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHttZXNzYWdlOidwcm9kdWN0IGNyZWF0ZWQnLHByb2R1Y3Q6Y3JlYXRlZFByb2R1Y3R9KVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6J2Vycm9yIGluIGNyZWF0aW5nIHByb2R1Y3QnfSlcclxuICAgIH1cclxufSkpXHJcblxyXG5wcm9kdWN0Um91dGVyLnB1dCgnLzppZCcsaXNBdXRoLCBpc0FkbWluLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCBwcm9kdWN0SWQgPXJlcS5wYXJhbXMuaWRcclxuICAgIGNvbnN0IHByb2R1Y3QgPWF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKVxyXG4gICAgaWYocHJvZHVjdCl7XHJcbiAgICAgICBwcm9kdWN0Lm5hbWU9cmVxLmJvZHkubmFtZSBcclxuICAgICAgIHByb2R1Y3QucHJpY2U9cmVxLmJvZHkucHJpY2UgXHJcbiAgICAgICBwcm9kdWN0LmltYWdlPXJlcS5ib2R5LmltYWdlIFxyXG4gICAgICAgcHJvZHVjdC5icmFuZD1yZXEuYm9keS5icmFuZCBcclxuICAgICAgIHByb2R1Y3QuY2F0ZWdvcnk9cmVxLmJvZHkuY2F0ZWdvcnkgXHJcbiAgICAgICBwcm9kdWN0LmNvdW50SW5TdG9jaz1yZXEuYm9keS5jb3VudEluU3RvY2sgXHJcbiAgICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uPXJlcS5ib2R5LmRlc2NyaXB0aW9uIFxyXG4gICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKVxyXG4gICAgICAgaWYodXBkYXRlZFByb2R1Y3Qpe1xyXG4gICAgICAgIHJlcy5zZW5kKHttZXNzYWdlOidQUm9EdUNUIFVQRGFURWQgJywgcHJvZHVjdDogdXBkYXRlZFByb2R1Y3R9KVxyXG4gICAgICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnNlbmQoNTAwKS5zZW5kKHttZXNzYWdlOidFcnJvciBpbiBVcERhdGluZyBQck9kdUN0J30pXHJcbiAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXMuc2VuZCg0MDQpLnNlbmQoe21lc3NhZ2U6J1ByT2R1Q3Qgbk9UIEZvVW5kJ30pXHJcbiAgICB9XHJcbn0pKVxyXG5cclxucHJvZHVjdFJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsaXNBZG1pbiwgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyhyZXEsIHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3QgPWF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZClcclxuICAgIGlmKHByb2R1Y3Qpe1xyXG4gICAgICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5kZWxldGVPbmUoKVxyXG4gICAgICAgIHJlcy5zZW5kKHttZXNzYWdlOidwcm9kdWN0IGlzIGRlbGV0ZWQgJywgcHJvZHVjdDogZGVsZXRlZFByb2R1Y3R9KVxyXG5cclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnUHJvZHVjdCBub3QgZm91bmQnfSlcclxuICAgIH1cclxufSkpXHJcblxyXG5wcm9kdWN0Um91dGVyLnBvc3QoJy86aWQvcmV2aWV3cycsaXNBdXRoLGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChwcm9kdWN0KSB7XHJcbiAgICAgICAgY29uc3QgcmV2aWV3ID0ge1xyXG4gICAgICAgIHJhdGluZzogcmVxLmJvZHkucmF0aW5nLFxyXG4gICAgICAgIGNvbW1lbnQ6IHJlcS5ib2R5LmNvbW1lbnQsXHJcbiAgICAgICAgdXNlcjogcmVxLnVzZXIuX2lkLFxyXG4gICAgICAgIG5hbWU6IHJlcS51c2VyLm5hbWUsXHJcbiAgICAgIH07XHJcbiAgICAgIHByb2R1Y3QucmV2aWV3cy5wdXNoKHJldmlldyk7XHJcbiAgICAgIHByb2R1Y3QucmF0aW5nID1cclxuICAgICAgICBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC9cclxuICAgICAgICBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgICBwcm9kdWN0Lm51bVJldmlld3MgPSBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xyXG4gICAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xyXG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7XHJcbiAgICAgICAgbWVzc2FnZTogJ0NvbW1lbnQgQ3JlYXRlZC4nLFxyXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRQcm9kdWN0LnJldmlld3NbdXBkYXRlZFByb2R1Y3QucmV2aWV3cy5sZW5ndGggLSAxXSxcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBFcnJvcignUHJvZHVjdCBkb2VzIG5vdCBleGlzdC4nKTtcclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdFJvdXRlclxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_expressAsyncHandler","_productModel","_middleware","obj","__esModule","default","productRouter","express","Router","get","expressAsyncHandler","req","res","searchKeyword","query","name","$regex","$options","products","Product","find","send","product","findById","params","id","post","isAuth","isAdmin","description","category","brand","image","createdProduct","save","status","message","put","productId","body","price","countInStock","updatedProduct","delete","deletedProduct","deleteOne","review","rating","comment","user","_id","reviews","push","reduce","a","c","length","numReviews","data","Error","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\routers\\","sources":["productRouter.js"],"sourcesContent":["import express from 'express'\r\nimport expressAsyncHandler from 'express-async-handler'\r\nimport Product from '../models/productModel'\r\nimport {isAuth, isAdmin } from '../middleware'\r\n\r\n\r\n\r\nconst productRouter=express.Router()\r\nproductRouter.get('/',expressAsyncHandler(async(req,res)=>{\r\n\r\n     const searchKeyword = req.query.searchKeyword\r\n      ? {\r\n          name: {\r\n            $regex: req.query.searchKeyword,\r\n            $options: 'i',\r\n          },\r\n        }\r\n      : {};\r\n    const products = await Product.find({ ...searchKeyword });\r\n    res.send(products)\r\n}))\r\nproductRouter.get('/:id',expressAsyncHandler(async(req,res)=>{\r\n    const product= await Product.findById(req.params.id)\r\n    res.send(product)\r\n}))\r\n\r\n\r\n\r\n\r\n\r\nproductRouter.post('/',isAuth, isAdmin, expressAsyncHandler(async(req,res)=>{\r\n    const product = new Product({\r\n        name:'sample product',\r\n         description:'sample description',\r\n           category:'sample category',\r\n            brand:'sample brand',\r\n            image:'/image/product-1.jpg',\r\n             \r\n\r\n    })\r\n    const createdProduct =await product.save()\r\n    if(createdProduct){\r\n        res.status(201).send({message:'product created',product:createdProduct})\r\n    }else{\r\n        res.status(500).send({message:'error in creating product'})\r\n    }\r\n}))\r\n\r\nproductRouter.put('/:id',isAuth, isAdmin, expressAsyncHandler(async(req,res)=>{\r\n    const productId =req.params.id\r\n    const product =await Product.findById(productId)\r\n    if(product){\r\n       product.name=req.body.name \r\n       product.price=req.body.price \r\n       product.image=req.body.image \r\n       product.brand=req.body.brand \r\n       product.category=req.body.category \r\n       product.countInStock=req.body.countInStock \r\n       product.description=req.body.description \r\n       const updatedProduct = await product.save()\r\n       if(updatedProduct){\r\n        res.send({message:'PRoDuCT UPDaTEd ', product: updatedProduct})\r\n       }else{\r\n        res.send(500).send({message:'Error in UpDating PrOduCt'})\r\n       }\r\n    }else{\r\n        res.send(404).send({message:'PrOduCt nOT FoUnd'})\r\n    }\r\n}))\r\n\r\nproductRouter.delete('/:id', isAuth,isAdmin, expressAsyncHandler(async(req, res)=>{\r\n    const product =await Product.findById(req.params.id)\r\n    if(product){\r\n        const deletedProduct = await product.deleteOne()\r\n        res.send({message:'product is deleted ', product: deletedProduct})\r\n\r\n    }else{\r\n        res.status(404).send({message: 'Product not found'})\r\n    }\r\n}))\r\n\r\nproductRouter.post('/:id/reviews',isAuth,expressAsyncHandler(async (req, res) => {\r\n    const product = await Product.findById(req.params.id);\r\n    if (product) {\r\n        const review = {\r\n        rating: req.body.rating,\r\n        comment: req.body.comment,\r\n        user: req.user._id,\r\n        name: req.user.name,\r\n      };\r\n      product.reviews.push(review);\r\n      product.rating =\r\n        product.reviews.reduce((a, c) => c.rating + a, 0) /\r\n        product.reviews.length;\r\n      product.numReviews = product.reviews.length;\r\n      const updatedProduct = await product.save();\r\n      res.status(201).send({\r\n        message: 'Comment Created.',\r\n        data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\r\n      });\r\n    } else {\r\n      throw Error('Product does not exist.');\r\n    }\r\n  })\r\n);\r\n\r\nexport default productRouter\r\n"],"mappings":"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"}},"mtime":1685464829782},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\models\\\\productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst reviewSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    required: true,\n    default: 0,\n    min: 0,\n    max: 5\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0.0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n}, {\n  timeStamps: true\n});\nconst Product = _mongoose.default.model('Product', productSchema);\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicmV2aWV3U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJyYXRpbmciLCJOdW1iZXIiLCJtaW4iLCJtYXgiLCJjb21tZW50IiwidGltZXN0YW1wcyIsInByb2R1Y3RTY2hlbWEiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwiYnJhbmQiLCJpbWFnZSIsInByaWNlIiwiY291bnRJblN0b2NrIiwibnVtUmV2aWV3cyIsInJldmlld3MiLCJ0aW1lU3RhbXBzIiwiUHJvZHVjdCIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxiYWNrZW5kXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsicHJvZHVjdE1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXHJcbiAge3VzZXI6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdVc2VyJywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgcmF0aW5nOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICAgIG1pbjogMCxcclxuICAgICAgbWF4OiA1LFxyXG4gICAgfSxcclxuICAgIGNvbW1lbnQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgbmFtZToge3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY2F0ZWdvcnk6IHt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBicmFuZDoge3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlOiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcHJpY2U6IHt0eXBlOk51bWJlciwgZGVmYXVsdDowLjAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY291bnRJblN0b2NrOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MC4wLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHJhdGluZzoge3R5cGU6TnVtYmVyLCBkZWZhdWx0OjAuMCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIG51bVJldmlld3M6IHt0eXBlOk51bWJlciwgZGVmYXVsdDowLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHJldmlld3M6IFtyZXZpZXdTY2hlbWFdLFxyXG4gICAgfSx7dGltZVN0YW1wczp0cnVlfVxyXG4pXHJcblxyXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLHByb2R1Y3RTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFL0IsTUFBTUcsWUFBWSxHQUFHLElBQUlDLGlCQUFRLENBQUNDLE1BQU0sQ0FDdEM7RUFBQ0MsSUFBSSxFQUFFO0lBQUVDLElBQUksRUFBRUgsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDRyxLQUFLLENBQUNDLFFBQVE7SUFBRUMsR0FBRyxFQUFFLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUMxRUMsSUFBSSxFQUFFO0lBQUVMLElBQUksRUFBRU0sTUFBTTtJQUFFRixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQ3RDRyxNQUFNLEVBQUU7SUFDTlAsSUFBSSxFQUFFUSxNQUFNO0lBQ1pKLFFBQVEsRUFBRSxJQUFJO0lBQ2RULE9BQU8sRUFBRSxDQUFDO0lBQ1ZjLEdBQUcsRUFBRSxDQUFDO0lBQ05DLEdBQUcsRUFBRTtFQUNQLENBQUM7RUFDREMsT0FBTyxFQUFFO0lBQUVYLElBQUksRUFBRU0sTUFBTTtJQUFFRixRQUFRLEVBQUU7RUFBSztBQUMxQyxDQUFDLEVBQ0Q7RUFBRVEsVUFBVSxFQUFFO0FBQUssQ0FBQyxDQUNyQjtBQU9ELE1BQU1DLGFBQWEsR0FBRyxJQUFJaEIsaUJBQVEsQ0FBQ0MsTUFBTSxDQUFDO0VBQ3RDTyxJQUFJLEVBQUU7SUFBQ0wsSUFBSSxFQUFDTSxNQUFNO0lBQUVGLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbENVLFdBQVcsRUFBRTtJQUFDZCxJQUFJLEVBQUNNLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN6Q1csUUFBUSxFQUFFO0lBQUNmLElBQUksRUFBQ00sTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3RDWSxLQUFLLEVBQUU7SUFBQ2hCLElBQUksRUFBQ00sTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DYSxLQUFLLEVBQUU7SUFBQ2pCLElBQUksRUFBQ00sTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DYyxLQUFLLEVBQUU7SUFBQ2xCLElBQUksRUFBQ1EsTUFBTTtJQUFFYixPQUFPLEVBQUMsR0FBRztJQUFFUyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hEZSxZQUFZLEVBQUU7SUFBQ25CLElBQUksRUFBQ1EsTUFBTTtJQUFFYixPQUFPLEVBQUMsR0FBRztJQUFFUyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3ZERyxNQUFNLEVBQUU7SUFBQ1AsSUFBSSxFQUFDUSxNQUFNO0lBQUViLE9BQU8sRUFBQyxHQUFHO0lBQUNTLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERnQixVQUFVLEVBQUU7SUFBQ3BCLElBQUksRUFBQ1EsTUFBTTtJQUFFYixPQUFPLEVBQUMsQ0FBQztJQUFFUyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25EaUIsT0FBTyxFQUFFLENBQUN6QixZQUFZO0FBQ3RCLENBQUMsRUFBQztFQUFDMEIsVUFBVSxFQUFDO0FBQUksQ0FBQyxDQUN0QjtBQUVELE1BQU1DLE9BQU8sR0FBRzFCLGlCQUFRLENBQUMyQixLQUFLLENBQUMsU0FBUyxFQUFDWCxhQUFhLENBQUM7QUFBQSxJQUFBWSxRQUFBLEdBRXhDRixPQUFPO0FBQUFHLE9BQUEsQ0FBQS9CLE9BQUEsR0FBQThCLFFBQUEifQ==","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","obj","__esModule","default","reviewSchema","mongoose","Schema","user","type","Types","ObjectId","ref","required","name","String","rating","Number","min","max","comment","timestamps","productSchema","description","category","brand","image","price","countInStock","numReviews","reviews","timeStamps","Product","model","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\models\\","sources":["productModel.js"],"sourcesContent":["import mongoose from 'mongoose'\r\n\r\nconst reviewSchema = new mongoose.Schema(\r\n  {user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\r\n    name: { type: String, required: true },\r\n    rating: {\r\n      type: Number,\r\n      required: true,\r\n      default: 0,\r\n      min: 0,\r\n      max: 5,\r\n    },\r\n    comment: { type: String, required: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst productSchema = new mongoose.Schema({\r\n    name: {type:String, required:true},\r\n    description: {type:String, required:true},\r\n    category: {type:String, required:true},\r\n    brand: {type:String, required:true},\r\n    image: {type:String, required:true},\r\n    price: {type:Number, default:0.0, required:true},\r\n    countInStock: {type:Number, default:0.0, required:true},\r\n    rating: {type:Number, default:0.0,required:true},\r\n    numReviews: {type:Number, default:0, required:true},\r\n    reviews: [reviewSchema],\r\n    },{timeStamps:true}\r\n)\r\n\r\nconst Product = mongoose.model('Product',productSchema)\r\n\r\nexport default Product"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE/B,MAAMG,YAAY,GAAG,IAAIC,iBAAQ,CAACC,MAAM,CACtC;EAACC,IAAI,EAAE;IAAEC,IAAI,EAAEH,iBAAQ,CAACC,MAAM,CAACG,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1EC,IAAI,EAAE;IAAEL,IAAI,EAAEM,MAAM;IAAEF,QAAQ,EAAE;EAAK,CAAC;EACtCG,MAAM,EAAE;IACNP,IAAI,EAAEQ,MAAM;IACZJ,QAAQ,EAAE,IAAI;IACdT,OAAO,EAAE,CAAC;IACVc,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE;EACP,CAAC;EACDC,OAAO,EAAE;IAAEX,IAAI,EAAEM,MAAM;IAAEF,QAAQ,EAAE;EAAK;AAC1C,CAAC,EACD;EAAEQ,UAAU,EAAE;AAAK,CAAC,CACrB;AAOD,MAAMC,aAAa,GAAG,IAAIhB,iBAAQ,CAACC,MAAM,CAAC;EACtCO,IAAI,EAAE;IAACL,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EAClCU,WAAW,EAAE;IAACd,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACzCW,QAAQ,EAAE;IAACf,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACtCY,KAAK,EAAE;IAAChB,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCa,KAAK,EAAE;IAACjB,IAAI,EAACM,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCc,KAAK,EAAE;IAAClB,IAAI,EAACQ,MAAM;IAAEb,OAAO,EAAC,GAAG;IAAES,QAAQ,EAAC;EAAI,CAAC;EAChDe,YAAY,EAAE;IAACnB,IAAI,EAACQ,MAAM;IAAEb,OAAO,EAAC,GAAG;IAAES,QAAQ,EAAC;EAAI,CAAC;EACvDG,MAAM,EAAE;IAACP,IAAI,EAACQ,MAAM;IAAEb,OAAO,EAAC,GAAG;IAACS,QAAQ,EAAC;EAAI,CAAC;EAChDgB,UAAU,EAAE;IAACpB,IAAI,EAACQ,MAAM;IAAEb,OAAO,EAAC,CAAC;IAAES,QAAQ,EAAC;EAAI,CAAC;EACnDiB,OAAO,EAAE,CAACzB,YAAY;AACtB,CAAC,EAAC;EAAC0B,UAAU,EAAC;AAAI,CAAC,CACtB;AAED,MAAMC,OAAO,GAAG1B,iBAAQ,CAAC2B,KAAK,CAAC,SAAS,EAACX,aAAa,CAAC;AAAA,IAAAY,QAAA,GAExCF,OAAO;AAAAG,OAAA,CAAA/B,OAAA,GAAA8B,QAAA"}},"mtime":1685464594249},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\frontend\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\frontend\\\\src\\\\api.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.21.4:development":{"value":{"code":"import axios from \"axios\";\nimport { apiUrl } from \"./config\";\nimport { getUserInfo } from \"./localStorage\";\n\n/*---function to send request to server  id api----dashboard*/\nexport const getProducts = async () => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/products`,\n      method: \"GET\",\n      headers: {\n        'Content-Type': 'application/JSON'\n      }\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\n\n/*---function to send request to server  id api----*/\nexport const getProduct = async id => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/products/${id}`,\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/JSON'\n      }\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const createProduct = async () => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      method: 'POST',\n      url: `${apiUrl}/api/products`,\n      headers: {\n        'Content-Type': 'application/JSON',\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (response.statusText !== 'Created') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const updateProduct = async product => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      method: 'PUT',\n      url: `${apiUrl}/api/products/${product._id}`,\n      headers: {\n        'Content-Type': 'application/JSON',\n        Authorization: `Bearer ${token}`\n      },\n      data: product\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\n\n/*export signin-screen */\n\nexport const signin = async ({\n  email,\n  password\n}) => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/users/signin`,\n      method: 'POST',\n      header: {\n        'Content-Type': 'application/JSON'\n      },\n      data: {\n        email,\n        password\n      }\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\n\n/*export register-screen */\n\nexport const register = async ({\n  name,\n  email,\n  password\n}) => {\n  try {\n    const response = await axios({\n      url: `${apiUrl}/api/users/register`,\n      method: 'POST',\n      header: {\n        'Content-Type': 'application/JSON'\n      },\n      data: {\n        name,\n        email,\n        password\n      }\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\n\n/*export update-screen */\n\nexport const update = async ({\n  name,\n  email,\n  password\n}) => {\n  try {\n    const {\n      _id,\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/users/${_id}`,\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/JSON',\n        Authorization: `Bearer${token}`\n      },\n      data: {\n        name,\n        email,\n        password\n      }\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {\n      error: err.response.data.message || err.message\n    };\n  }\n};\nexport const createOrder = async order => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders`,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      data: order\n    });\n    if (response.statusText !== 'Created') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response ? err.response.data.message : err.message\n    };\n  }\n};\nexport const getOrder = async id => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders/${id}`,\n      headers: {\n        'Content-Type': ' application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.message\n    };\n  }\n};\nexport const getMyOrders = async () => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders/mine`,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response ? err.response.data.message : err.message\n    };\n  }\n};\nexport const getPaypalClientId = async () => {\n  const response = await axios({\n    url: `${apiUrl}/api/paypal/clientId`,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  if (response.statusText !== 'OK') {\n    throw new Error(response.data.message);\n  }\n  return response.data.clientId;\n};\nexport const payOrder = async (orderId, paymentResult) => {\n  try {\n    const {\n      token\n    } = getUserInfo();\n    const response = await axios({\n      url: `${apiUrl}/api/orders/${orderId}/pay`,\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      },\n      data: paymentResult\n    });\n    if (response.statusText !== 'OK') {\n      throw new Error(response.data.message);\n    }\n    return response.data;\n  } catch (err) {\n    return {\n      error: err.response ? err.response.data.message : err.message\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheGlvcyIsImFwaVVybCIsImdldFVzZXJJbmZvIiwiZ2V0UHJvZHVjdHMiLCJyZXNwb25zZSIsInVybCIsIm1ldGhvZCIsImhlYWRlcnMiLCJzdGF0dXNUZXh0IiwiRXJyb3IiLCJkYXRhIiwibWVzc2FnZSIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImdldFByb2R1Y3QiLCJpZCIsImNyZWF0ZVByb2R1Y3QiLCJ0b2tlbiIsIkF1dGhvcml6YXRpb24iLCJ1cGRhdGVQcm9kdWN0IiwicHJvZHVjdCIsIl9pZCIsInNpZ25pbiIsImVtYWlsIiwicGFzc3dvcmQiLCJoZWFkZXIiLCJyZWdpc3RlciIsIm5hbWUiLCJ1cGRhdGUiLCJjcmVhdGVPcmRlciIsIm9yZGVyIiwiZ2V0T3JkZXIiLCJnZXRNeU9yZGVycyIsImdldFBheXBhbENsaWVudElkIiwiY2xpZW50SWQiLCJwYXlPcmRlciIsIm9yZGVySWQiLCJwYXltZW50UmVzdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEJPREVcXERvY3VtZW50c1xcY29kZVxcZWNvbW1lcmNlXFxmcm9udGVuZFxcc3JjXFwiLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiXHJcbmltcG9ydCB7IGFwaVVybCB9IGZyb20gXCIuL2NvbmZpZ1wiXHJcbmltcG9ydCB7IGdldFVzZXJJbmZvIH0gZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCJcclxuXHJcblxyXG5cclxuLyotLS1mdW5jdGlvbiB0byBzZW5kIHJlcXVlc3QgdG8gc2VydmVyICBpZCBhcGktLS0tZGFzaGJvYXJkKi9cclxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RzPWFzeW5jKCk9PntcclxuICAgIHRyeXtcclxuICAgICAgICBjb25zdCByZXNwb25zZT1hd2FpdCBheGlvcyh7XHJcbiAgICAgICAgICAgIHVybDogYCR7YXBpVXJsfS9hcGkvcHJvZHVjdHNgLFxyXG4gICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL0pTT04nLFxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0nT0snKXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSlcclxuICAgICAgICB9XHJcbiAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICAgIH1jYXRjaChlcnIpe1xyXG5jb25zb2xlLmxvZyhlcnIpXHJcbnJldHVybiB7ZXJyb3I6IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgZXJyLm1lc3NhZ2V9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qLS0tZnVuY3Rpb24gdG8gc2VuZCByZXF1ZXN0IHRvIHNlcnZlciAgaWQgYXBpLS0tLSovXHJcbmV4cG9ydCBjb25zdCBnZXRQcm9kdWN0ID0gYXN5bmMgKGlkKT0+e1xyXG4gICAgdHJ5e1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Moe1xyXG4gICAgICAgICAgICB1cmw6IGAke2FwaVVybH0vYXBpL3Byb2R1Y3RzLyR7aWR9YCxcclxuICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vSlNPTicsXHJcbiAgICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0nT0snKXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSlcclxuICAgICAgICB9XHJcbiAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICAgIH1jYXRjaChlcnIpe1xyXG5jb25zb2xlLmxvZyhlcnIpXHJcbnJldHVybntlcnJvcjogZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnIubWVzc2FnZX1cclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb2R1Y3QgPSBhc3luYygpPT57XHJcbiAgIHRyeXtcclxuICAgIGNvbnN0IHt0b2tlbn09IGdldFVzZXJJbmZvKClcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Moe1xyXG4gICAgICAgIG1ldGhvZDonUE9TVCcsXHJcbiAgICAgICAgdXJsOmAke2FwaVVybH0vYXBpL3Byb2R1Y3RzYCxcclxuICAgICAgICBoZWFkZXJzOnsnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vSlNPTicsIEF1dGhvcml6YXRpb246YEJlYXJlciAke3Rva2VufWAsXHJcbiAgICB9XHJcbiAgICB9KVxyXG4gICAgaWYocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0nQ3JlYXRlZCcpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxyXG4gICAgIH0gY2F0Y2goZXJyKXtcclxuICAgICAgIHJldHVybntlcnJvcjogZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnIubWVzc2FnZX0gXHJcbiAgICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvZHVjdCA9IGFzeW5jKHByb2R1Y3QpPT57XHJcbiAgIHRyeXtcclxuICAgIGNvbnN0IHt0b2tlbn09IGdldFVzZXJJbmZvKClcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3Moe1xyXG4gICAgICAgIG1ldGhvZDonUFVUJyxcclxuICAgICAgICB1cmw6YCR7YXBpVXJsfS9hcGkvcHJvZHVjdHMvJHtwcm9kdWN0Ll9pZH1gLFxyXG4gICAgICAgIGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9KU09OJywgQXV0aG9yaXphdGlvbjpgQmVhcmVyICR7dG9rZW59YCxcclxuICAgIH0sXHJcbiAgICBkYXRhOnByb2R1Y3RcclxuICAgIH0pXHJcbiAgICBpZihyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSdPSycpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxyXG4gICAgIH0gY2F0Y2goZXJyKXtcclxuICAgICAgIHJldHVybntlcnJvcjogZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnIubWVzc2FnZX0gXHJcbiAgICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qZXhwb3J0IHNpZ25pbi1zY3JlZW4gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBzaWduaW4gPSBhc3luYyAoe2VtYWlsLCBwYXNzd29yZCx9KT0+e1xyXG4gICAgdHJ5e1xyXG5jb25zdCByZXNwb25zZT0gYXdhaXQgYXhpb3Moe1xyXG4gICAgdXJsOiBgJHthcGlVcmx9L2FwaS91c2Vycy9zaWduaW5gLFxyXG4gICAgbWV0aG9kOidQT1NUJyxcclxuICAgIGhlYWRlcjp7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL0pTT04nLFxyXG4gICAgfSxcclxuICAgIGRhdGE6e2VtYWlsLHBhc3N3b3JkLH1cclxufSlcclxuaWYocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0nT0snKXtcclxuICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpXHJcbn1cclxucmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXR1cm57ZXJyb3I6ZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZXx8ZXJyLm1lc3NhZ2V9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qZXhwb3J0IHJlZ2lzdGVyLXNjcmVlbiAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyID0gYXN5bmMgKHtuYW1lLCBlbWFpbCwgcGFzc3dvcmQsfSk9PntcclxuICAgIHRyeXtcclxuY29uc3QgcmVzcG9uc2U9IGF3YWl0IGF4aW9zKHtcclxuICAgIHVybDogYCR7YXBpVXJsfS9hcGkvdXNlcnMvcmVnaXN0ZXJgLFxyXG4gICAgbWV0aG9kOidQT1NUJyxcclxuICAgIGhlYWRlcjp7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL0pTT04nLFxyXG4gICAgfSxcclxuICAgIGRhdGE6e25hbWUsIGVtYWlsLHBhc3N3b3JkLH1cclxufSlcclxuaWYocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0nT0snKXtcclxuICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpXHJcbn1cclxucmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXR1cm57ZXJyb3I6ZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZXx8ZXJyLm1lc3NhZ2V9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qZXhwb3J0IHVwZGF0ZS1zY3JlZW4gKi9cclxuXHJcbmV4cG9ydCBjb25zdCB1cGRhdGUgPSBhc3luYyAoe25hbWUsIGVtYWlsLCBwYXNzd29yZCx9KT0+e1xyXG4gICAgdHJ5eyBcclxuICAgICAgICBjb25zdHtfaWQsdG9rZW59PWdldFVzZXJJbmZvKClcclxuY29uc3QgcmVzcG9uc2U9IGF3YWl0IGF4aW9zKHtcclxuICAgIHVybDogYCR7YXBpVXJsfS9hcGkvdXNlcnMvJHtfaWR9YCxcclxuICAgIG1ldGhvZDonUFVUJyxcclxuICAgIGhlYWRlcnM6e1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9KU09OJyxcclxuICAgICAgICAgQXV0aG9yaXphdGlvbjpgQmVhcmVyJHt0b2tlbn1gLFxyXG4gICAgfSxcclxuICAgIGRhdGE6e25hbWUsIGVtYWlsLHBhc3N3b3JkLH1cclxufSlcclxuaWYocmVzcG9uc2Uuc3RhdHVzVGV4dCAhPT0nT0snKXtcclxuICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpXHJcbn1cclxucmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICByZXR1cm57ZXJyb3I6ZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZXx8ZXJyLm1lc3NhZ2V9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlT3JkZXI9YXN5bmMob3JkZXIpPT57XHJcbiAgICB0cnl7XHJcbiAgICBjb25zdCB7IHRva2VuIH0gPSBnZXRVc2VySW5mbygpXHJcbiAgICBjb25zdCByZXNwb25zZT0gYXdhaXQgYXhpb3Moe1xyXG4gICAgdXJsOmAke2FwaVVybH0vYXBpL29yZGVyc2AsXHJcbiAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICBoZWFkZXJzOnsnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgQXV0aG9yaXphdGlvbjpgQmVhcmVyICR7dG9rZW59YH0sXHJcbiAgICAgZGF0YTogb3JkZXIsIFxyXG59KVxyXG5pZihyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSdDcmVhdGVkJyl7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKVxyXG59XHJcbnJldHVybiByZXNwb25zZS5kYXRhXHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICByZXR1cm57ZXJyb3I6IGVyci5yZXNwb25zZSA/IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgOiBlcnIubWVzc2FnZX1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldE9yZGVyID0gYXN5bmMoaWQpPT57XHJcbiAgICB0cnl7XHJcbiBjb25zdCB7IHRva2VuIH09Z2V0VXNlckluZm8oKVxyXG4gICAgY29uc3QgcmVzcG9uc2U9YXdhaXQgYXhpb3Moe1xyXG4gICAgICAgIHVybDpgJHthcGlVcmx9L2FwaS9vcmRlcnMvJHtpZH1gLFxyXG4gICAgICAgIGhlYWRlcnM6e1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzonIGFwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIGlmKHJlc3BvbnNlLnN0YXR1c1RleHQgIT09J09LJyl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSlcclxuICAgIH1cclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhXHJcbiAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICByZXR1cm57ZXJyb3I6IGVyci5tZXNzYWdlfVxyXG4gICAgfVxyXG4gICBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldE15T3JkZXJzPWFzeW5jKCk9PntcclxuICAgIHRyeXtcclxuICAgICAgICBjb25zdCB7dG9rZW59PWdldFVzZXJJbmZvKClcclxuICAgY29uc3QgcmVzcG9uc2U9YXdhaXQgYXhpb3Moe1xyXG4gICAgdXJsOiBgJHthcGlVcmx9L2FwaS9vcmRlcnMvbWluZWAsXHJcbiAgICBoZWFkZXJzOntcclxuICAgICAgICAnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgQXV0aG9yaXphdGlvbjpgQmVhcmVyICR7dG9rZW59YFxyXG4gICAgfVxyXG4gICB9KSAgXHJcbiAgIGlmKHJlc3BvbnNlLnN0YXR1c1RleHQgIT09J09LJyl7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKVxyXG4gICB9XHJcbiAgIHJldHVybiByZXNwb25zZS5kYXRhIFxyXG4gICAgfWNhdGNoKGVycil7XHJcbiAgICAgcmV0dXJuIHsgZXJyb3I6IGVyci5yZXNwb25zZSA/IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgOiBlcnIubWVzc2FnZSB9OyAgIFxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UGF5cGFsQ2xpZW50SWQgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyh7XHJcbiAgICB1cmw6IGAke2FwaVVybH0vYXBpL3BheXBhbC9jbGllbnRJZGAsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG4gIGlmIChyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnT0snKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuY2xpZW50SWQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcGF5T3JkZXIgPSBhc3luYyAob3JkZXJJZCwgcGF5bWVudFJlc3VsdCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHRva2VuIH0gPSBnZXRVc2VySW5mbygpO1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyh7XHJcbiAgICAgIHVybDogYCR7YXBpVXJsfS9hcGkvb3JkZXJzLyR7b3JkZXJJZH0vcGF5YCxcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRhdGE6IHBheW1lbnRSZXN1bHQsXHJcbiAgICB9KTtcclxuICAgIGlmIChyZXNwb25zZS5zdGF0dXNUZXh0ICE9PSAnT0snKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4geyBlcnJvcjogZXJyLnJlc3BvbnNlID8gZXJyLnJlc3BvbnNlLmRhdGEubWVzc2FnZSA6IGVyci5tZXNzYWdlIH07XHJcbiAgfVxyXG59OyJdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBT0EsS0FBSyxNQUFNLE9BQU87QUFDekIsU0FBU0MsTUFBTSxRQUFRLFVBQVU7QUFDakMsU0FBU0MsV0FBVyxRQUFRLGdCQUFnQjs7QUFJNUM7QUFDQSxPQUFPLE1BQU1DLFdBQVcsR0FBQyxNQUFBQSxDQUFBLEtBQVM7RUFDOUIsSUFBRztJQUNDLE1BQU1DLFFBQVEsR0FBQyxNQUFNSixLQUFLLENBQUM7TUFDdkJLLEdBQUcsRUFBRyxHQUFFSixNQUFPLGVBQWM7TUFDNUJLLE1BQU0sRUFBRSxLQUFLO01BQ2JDLE9BQU8sRUFBRTtRQUNOLGNBQWMsRUFBQztNQUNsQjtJQUNMLENBQUMsQ0FBQztJQUNGLElBQUdILFFBQVEsQ0FBQ0ksVUFBVSxLQUFJLElBQUksRUFBQztNQUMzQixNQUFNLElBQUlDLEtBQUssQ0FBQ0wsUUFBUSxDQUFDTSxJQUFJLENBQUNDLE9BQU8sQ0FBQztJQUMxQztJQUNILE9BQU9QLFFBQVEsQ0FBQ00sSUFBSTtFQUNyQixDQUFDLFFBQU1FLEdBQUcsRUFBQztJQUNmQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsR0FBRyxDQUFDO0lBQ2hCLE9BQU87TUFBQ0csS0FBSyxFQUFFSCxHQUFHLENBQUNSLFFBQVEsQ0FBQ00sSUFBSSxDQUFDQyxPQUFPLElBQUlDLEdBQUcsQ0FBQ0Q7SUFBTyxDQUFDO0VBQ3BEO0FBQ0osQ0FBQzs7QUFFRDtBQUNBLE9B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","map":{"version":3,"names":["axios","apiUrl","getUserInfo","getProducts","response","url","method","headers","statusText","Error","data","message","err","console","log","error","getProduct","id","createProduct","token","Authorization","updateProduct","product","_id","signin","email","password","header","register","name","update","createOrder","order","getOrder","getMyOrders","getPaypalClientId","clientId","payOrder","orderId","paymentResult"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\frontend\\src\\","sources":["api.js"],"sourcesContent":["\r\nimport axios from \"axios\"\r\nimport { apiUrl } from \"./config\"\r\nimport { getUserInfo } from \"./localStorage\"\r\n\r\n\r\n\r\n/*---function to send request to server  id api----dashboard*/\r\nexport const getProducts=async()=>{\r\n    try{\r\n        const response=await axios({\r\n            url: `${apiUrl}/api/products`,\r\n             method: \"GET\",\r\n             headers: {\r\n                'Content-Type':'application/JSON',\r\n             }\r\n        })\r\n        if(response.statusText !=='OK'){\r\n            throw new Error(response.data.message)\r\n        }\r\n     return response.data\r\n    }catch(err){\r\nconsole.log(err)\r\nreturn {error: err.response.data.message || err.message}\r\n    }\r\n}\r\n\r\n/*---function to send request to server  id api----*/\r\nexport const getProduct = async (id)=>{\r\n    try{\r\n        const response = await axios({\r\n            url: `${apiUrl}/api/products/${id}`,\r\n             method: 'GET',\r\n             headers: {\r\n                'Content-Type':'application/JSON',\r\n             },\r\n        })\r\n        if(response.statusText !=='OK'){\r\n            throw new Error(response.data.message)\r\n        }\r\n     return response.data\r\n    }catch(err){\r\nconsole.log(err)\r\nreturn{error: err.response.data.message || err.message}\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const createProduct = async()=>{\r\n   try{\r\n    const {token}= getUserInfo()\r\n    const response = await axios({\r\n        method:'POST',\r\n        url:`${apiUrl}/api/products`,\r\n        headers:{'Content-Type':'application/JSON', Authorization:`Bearer ${token}`,\r\n    }\r\n    })\r\n    if(response.statusText !=='Created'){\r\n        throw new Error(response.data.message)\r\n    }\r\n    return response.data\r\n     } catch(err){\r\n       return{error: err.response.data.message || err.message} \r\n     }\r\n}\r\n\r\nexport const updateProduct = async(product)=>{\r\n   try{\r\n    const {token}= getUserInfo()\r\n    const response = await axios({\r\n        method:'PUT',\r\n        url:`${apiUrl}/api/products/${product._id}`,\r\n        headers:{'Content-Type':'application/JSON', Authorization:`Bearer ${token}`,\r\n    },\r\n    data:product\r\n    })\r\n    if(response.statusText !=='OK'){\r\n        throw new Error(response.data.message)\r\n    }\r\n    return response.data\r\n     } catch(err){\r\n       return{error: err.response.data.message || err.message} \r\n     }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*export signin-screen */\r\n\r\nexport const signin = async ({email, password,})=>{\r\n    try{\r\nconst response= await axios({\r\n    url: `${apiUrl}/api/users/signin`,\r\n    method:'POST',\r\n    header:{\r\n        'Content-Type':'application/JSON',\r\n    },\r\n    data:{email,password,}\r\n})\r\nif(response.statusText !=='OK'){\r\n    throw new Error(response.data.message)\r\n}\r\nreturn response.data\r\n    }catch(err){\r\n        console.log(err)\r\n        return{error:err.response.data.message||err.message}\r\n    }\r\n}\r\n\r\n/*export register-screen */\r\n\r\nexport const register = async ({name, email, password,})=>{\r\n    try{\r\nconst response= await axios({\r\n    url: `${apiUrl}/api/users/register`,\r\n    method:'POST',\r\n    header:{\r\n        'Content-Type':'application/JSON',\r\n    },\r\n    data:{name, email,password,}\r\n})\r\nif(response.statusText !=='OK'){\r\n    throw new Error(response.data.message)\r\n}\r\nreturn response.data\r\n    }catch(err){\r\n        console.log(err)\r\n        return{error:err.response.data.message||err.message}\r\n    }\r\n}\r\n\r\n/*export update-screen */\r\n\r\nexport const update = async ({name, email, password,})=>{\r\n    try{ \r\n        const{_id,token}=getUserInfo()\r\nconst response= await axios({\r\n    url: `${apiUrl}/api/users/${_id}`,\r\n    method:'PUT',\r\n    headers:{\r\n        'Content-Type':'application/JSON',\r\n         Authorization:`Bearer${token}`,\r\n    },\r\n    data:{name, email,password,}\r\n})\r\nif(response.statusText !=='OK'){\r\n    throw new Error(response.data.message)\r\n}\r\nreturn response.data\r\n    }catch(err){\r\n        console.log(err)\r\n        return{error:err.response.data.message||err.message}\r\n    }\r\n}\r\n\r\n\r\nexport const createOrder=async(order)=>{\r\n    try{\r\n    const { token } = getUserInfo()\r\n    const response= await axios({\r\n    url:`${apiUrl}/api/orders`,\r\n    method: 'POST',\r\n     headers:{'Content-Type':'application/json',\r\n     Authorization:`Bearer ${token}`},\r\n     data: order, \r\n})\r\nif(response.statusText !=='Created'){\r\n    throw new Error(response.data.message)\r\n}\r\nreturn response.data\r\n    }catch(err){\r\n        return{error: err.response ? err.response.data.message : err.message}\r\n    }\r\n}\r\n\r\nexport const getOrder = async(id)=>{\r\n    try{\r\n const { token }=getUserInfo()\r\n    const response=await axios({\r\n        url:`${apiUrl}/api/orders/${id}`,\r\n        headers:{\r\n            'Content-Type':' application/json',\r\n            Authorization: `Bearer ${token}`,\r\n\r\n        }\r\n    })\r\n    if(response.statusText !=='OK'){\r\n        throw new Error(response.data.message)\r\n    }\r\n    return response.data\r\n    }catch(err){\r\n        return{error: err.message}\r\n    }\r\n   \r\n}\r\n\r\nexport const getMyOrders=async()=>{\r\n    try{\r\n        const {token}=getUserInfo()\r\n   const response=await axios({\r\n    url: `${apiUrl}/api/orders/mine`,\r\n    headers:{\r\n        'Content-Type':'application/json',\r\n        Authorization:`Bearer ${token}`\r\n    }\r\n   })  \r\n   if(response.statusText !=='OK'){\r\n    throw new Error(response.data.message)\r\n   }\r\n   return response.data \r\n    }catch(err){\r\n     return { error: err.response ? err.response.data.message : err.message };   \r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const getPaypalClientId = async () => {\r\n  const response = await axios({\r\n    url: `${apiUrl}/api/paypal/clientId`,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  if (response.statusText !== 'OK') {\r\n    throw new Error(response.data.message);\r\n  }\r\n  return response.data.clientId;\r\n};\r\n\r\nexport const payOrder = async (orderId, paymentResult) => {\r\n  try {\r\n    const { token } = getUserInfo();\r\n    const response = await axios({\r\n      url: `${apiUrl}/api/orders/${orderId}/pay`,\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: paymentResult,\r\n    });\r\n    if (response.statusText !== 'OK') {\r\n      throw new Error(response.data.message);\r\n    }\r\n    return response.data;\r\n  } catch (err) {\r\n    return { error: err.response ? err.response.data.message : err.message };\r\n  }\r\n};"],"mappings":"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"}},"mtime":1684852962650},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _middleware = require(\"../middleware\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination(req, file, callback) {\n    callback(null, 'uploads/');\n  },\n  filename(req, file, callback) {\n    callback(null, `${Date.now()}.jpg`);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage\n});\nconst uploadRouter = _express.default.Router();\nuploadRouter.post('/', _middleware.isAuth, _middleware.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9taWRkbGV3YXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYWxsYmFjayIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQk9ERVxcRG9jdW1lbnRzXFxjb2RlXFxlY29tbWVyY2VcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXBsb2FkUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnR7aXNBdXRoLGlzQWRtaW59ZnJvbSAnLi4vbWlkZGxld2FyZSdcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb24ocmVxLCBmaWxlLCBjYWxsYmFjaykgIHtcclxuICAgIGNhbGxiYWNrKG51bGwsICd1cGxvYWRzLycpICAgIFxyXG4gICAgfSxcclxuICAgIGZpbGVuYW1lKHJlcSxmaWxlLGNhbGxiYWNrKXtcclxuICAgICAgICBjYWxsYmFjayhudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKVxyXG4gICAgfVxyXG59KVxyXG5cclxuY29uc3QgdXBsb2FkID1tdWx0ZXIoe3N0b3JhZ2V9KVxyXG5jb25zdCB1cGxvYWRSb3V0ZXI9ZXhwcmVzcy5Sb3V0ZXIoKVxyXG5cclxudXBsb2FkUm91dGVyLnBvc3QoJy8nLGlzQXV0aCxpc0FkbWluLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLFxyXG4ocmVxLHJlcyk9PntcclxucmVzLnN0YXR1cygyMDEpLnNlbmQoe2ltYWdlOmAvJHtyZXEuZmlsZS5wYXRofWB9KVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkUm91dGVyXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBRixPQUFBO0FBQTBDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTFDLE1BQU1HLE9BQU8sR0FBR0MsZUFBTSxDQUFDQyxXQUFXLENBQUM7RUFDL0JDLFdBQVdBLENBQUNDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUc7SUFDbENBLFFBQVEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDO0VBQzFCLENBQUM7RUFDREMsUUFBUUEsQ0FBQ0gsR0FBRyxFQUFDQyxJQUFJLEVBQUNDLFFBQVEsRUFBQztJQUN2QkEsUUFBUSxDQUFDLElBQUksRUFBRyxHQUFFRSxJQUFJLENBQUNDLEdBQUcsRUFBRyxNQUFLLENBQUM7RUFDdkM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNQyxNQUFNLEdBQUUsSUFBQVQsZUFBTSxFQUFDO0VBQUNEO0FBQU8sQ0FBQyxDQUFDO0FBQy9CLE1BQU1XLFlBQVksR0FBQ0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRW5DRixZQUFZLENBQUNHLElBQUksQ0FBQyxHQUFHLEVBQUNDLGtCQUFNLEVBQUNDLG1CQUFPLEVBQUVOLE1BQU0sQ0FBQ08sTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUM1RCxDQUFDYixHQUFHLEVBQUNjLEdBQUcsS0FBRztFQUNYQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO0lBQUNDLEtBQUssRUFBRSxJQUFHakIsR0FBRyxDQUFDQyxJQUFJLENBQUNpQixJQUFLO0VBQUMsQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FFYVosWUFBWTtBQUFBYSxPQUFBLENBQUF6QixPQUFBLEdBQUF3QixRQUFBIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_middleware","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","callback","filename","Date","now","upload","uploadRouter","express","Router","post","isAuth","isAdmin","single","res","status","send","image","path","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\routers\\","sources":["uploadRouter.js"],"sourcesContent":["import express from 'express'\r\nimport multer from \"multer\";\r\nimport{isAuth,isAdmin}from '../middleware'\r\n\r\nconst storage = multer.diskStorage({\r\n    destination(req, file, callback)  {\r\n    callback(null, 'uploads/')    \r\n    },\r\n    filename(req,file,callback){\r\n        callback(null, `${Date.now()}.jpg`)\r\n    }\r\n})\r\n\r\nconst upload =multer({storage})\r\nconst uploadRouter=express.Router()\r\n\r\nuploadRouter.post('/',isAuth,isAdmin, upload.single('image'),\r\n(req,res)=>{\r\nres.status(201).send({image:`/${req.file.path}`})\r\n})\r\n\r\nexport default uploadRouter\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAA0C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE1C,MAAMG,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EAC/BC,WAAWA,CAACC,GAAG,EAAEC,IAAI,EAAEC,QAAQ,EAAG;IAClCA,QAAQ,CAAC,IAAI,EAAE,UAAU,CAAC;EAC1B,CAAC;EACDC,QAAQA,CAACH,GAAG,EAACC,IAAI,EAACC,QAAQ,EAAC;IACvBA,QAAQ,CAAC,IAAI,EAAG,GAAEE,IAAI,CAACC,GAAG,EAAG,MAAK,CAAC;EACvC;AACJ,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAE,IAAAT,eAAM,EAAC;EAACD;AAAO,CAAC,CAAC;AAC/B,MAAMW,YAAY,GAACC,gBAAO,CAACC,MAAM,EAAE;AAEnCF,YAAY,CAACG,IAAI,CAAC,GAAG,EAACC,kBAAM,EAACC,mBAAO,EAAEN,MAAM,CAACO,MAAM,CAAC,OAAO,CAAC,EAC5D,CAACb,GAAG,EAACc,GAAG,KAAG;EACXA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAACC,KAAK,EAAE,IAAGjB,GAAG,CAACC,IAAI,CAACiB,IAAK;EAAC,CAAC,CAAC;AACjD,CAAC,CAAC;AAAA,IAAAC,QAAA,GAEaZ,YAAY;AAAAa,OAAA,CAAAzB,OAAA,GAAAwB,QAAA"}},"mtime":1684946285068},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"filename\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\\\\backend\\\\routers\\\\uploadRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\BODE\\\\Documents\\\\code\\\\ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.4:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _middleware = require(\"../middleware\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst storage = _multer.default.diskStorage({\n  destination(req, file, callback) {\n    callback(null, 'uploads/');\n  },\n  filename(req, file, callback) {\n    callback(null, `${Date.now()}.jpg`);\n  }\n});\nconst upload = (0, _multer.default)({\n  storage\n});\nconst uploadRouter = _express.default.Router();\nuploadRouter.post('/', _middleware.isAuth, _middleware.isAdmin, upload.single('image'), (req, res) => {\n  res.status(201).send({\n    image: `/${req.file.path}`\n  });\n});\nvar _default = uploadRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9taWRkbGV3YXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYWxsYmFjayIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZCIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJwb3N0IiwiaXNBdXRoIiwiaXNBZG1pbiIsInNpbmdsZSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJpbWFnZSIsInBhdGgiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcQk9ERVxcRG9jdW1lbnRzXFxjb2RlXFxlY29tbWVyY2VcXGJhY2tlbmRcXHJvdXRlcnNcXCIsInNvdXJjZXMiOlsidXBsb2FkUm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBtdWx0ZXIgZnJvbSBcIm11bHRlclwiO1xyXG5pbXBvcnR7aXNBdXRoLGlzQWRtaW59ZnJvbSAnLi4vbWlkZGxld2FyZSdcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb24ocmVxLCBmaWxlLCBjYWxsYmFjaykgIHtcclxuICAgIGNhbGxiYWNrKG51bGwsICd1cGxvYWRzLycpICAgIFxyXG4gICAgfSxcclxuICAgIGZpbGVuYW1lKHJlcSxmaWxlLGNhbGxiYWNrKXtcclxuICAgICAgICBjYWxsYmFjayhudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKVxyXG4gICAgfVxyXG59KVxyXG5cclxuY29uc3QgdXBsb2FkID1tdWx0ZXIoe3N0b3JhZ2V9KVxyXG5jb25zdCB1cGxvYWRSb3V0ZXI9ZXhwcmVzcy5Sb3V0ZXIoKVxyXG5cclxudXBsb2FkUm91dGVyLnBvc3QoJy8nLGlzQXV0aCxpc0FkbWluLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLFxyXG4ocmVxLHJlcyk9PntcclxucmVzLnN0YXR1cygyMDEpLnNlbmQoe2ltYWdlOmAvJHtyZXEuZmlsZS5wYXRofWB9KVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXBsb2FkUm91dGVyXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBRixPQUFBO0FBQTBDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTFDLE1BQU1HLE9BQU8sR0FBR0MsZUFBTSxDQUFDQyxXQUFXLENBQUM7RUFDL0JDLFdBQVdBLENBQUNDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxRQUFRLEVBQUc7SUFDbENBLFFBQVEsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDO0VBQzFCLENBQUM7RUFDREMsUUFBUUEsQ0FBQ0gsR0FBRyxFQUFDQyxJQUFJLEVBQUNDLFFBQVEsRUFBQztJQUN2QkEsUUFBUSxDQUFDLElBQUksRUFBRyxHQUFFRSxJQUFJLENBQUNDLEdBQUcsRUFBRyxNQUFLLENBQUM7RUFDdkM7QUFDSixDQUFDLENBQUM7QUFFRixNQUFNQyxNQUFNLEdBQUUsSUFBQVQsZUFBTSxFQUFDO0VBQUNEO0FBQU8sQ0FBQyxDQUFDO0FBQy9CLE1BQU1XLFlBQVksR0FBQ0MsZ0JBQU8sQ0FBQ0MsTUFBTSxFQUFFO0FBRW5DRixZQUFZLENBQUNHLElBQUksQ0FBQyxHQUFHLEVBQUNDLGtCQUFNLEVBQUNDLG1CQUFPLEVBQUVOLE1BQU0sQ0FBQ08sTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUM1RCxDQUFDYixHQUFHLEVBQUNjLEdBQUcsS0FBRztFQUNYQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO0lBQUNDLEtBQUssRUFBRSxJQUFHakIsR0FBRyxDQUFDQyxJQUFJLENBQUNpQixJQUFLO0VBQUMsQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FFYVosWUFBWTtBQUFBYSxPQUFBLENBQUF6QixPQUFBLEdBQUF3QixRQUFBIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_middleware","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","callback","filename","Date","now","upload","uploadRouter","express","Router","post","isAuth","isAdmin","single","res","status","send","image","path","_default","exports"],"sourceRoot":"C:\\Users\\BODE\\Documents\\code\\ecommerce\\backend\\routers\\","sources":["uploadRouter.js"],"sourcesContent":["import express from 'express'\r\nimport multer from \"multer\";\r\nimport{isAuth,isAdmin}from '../middleware'\r\n\r\nconst storage = multer.diskStorage({\r\n    destination(req, file, callback)  {\r\n    callback(null, 'uploads/')    \r\n    },\r\n    filename(req,file,callback){\r\n        callback(null, `${Date.now()}.jpg`)\r\n    }\r\n})\r\n\r\nconst upload =multer({storage})\r\nconst uploadRouter=express.Router()\r\n\r\nuploadRouter.post('/',isAuth,isAdmin, upload.single('image'),\r\n(req,res)=>{\r\nres.status(201).send({image:`/${req.file.path}`})\r\n})\r\n\r\nexport default uploadRouter\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAA0C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE1C,MAAMG,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EAC/BC,WAAWA,CAACC,GAAG,EAAEC,IAAI,EAAEC,QAAQ,EAAG;IAClCA,QAAQ,CAAC,IAAI,EAAE,UAAU,CAAC;EAC1B,CAAC;EACDC,QAAQA,CAACH,GAAG,EAACC,IAAI,EAACC,QAAQ,EAAC;IACvBA,QAAQ,CAAC,IAAI,EAAG,GAAEE,IAAI,CAACC,GAAG,EAAG,MAAK,CAAC;EACvC;AACJ,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAE,IAAAT,eAAM,EAAC;EAACD;AAAO,CAAC,CAAC;AAC/B,MAAMW,YAAY,GAACC,gBAAO,CAACC,MAAM,EAAE;AAEnCF,YAAY,CAACG,IAAI,CAAC,GAAG,EAACC,kBAAM,EAACC,mBAAO,EAAEN,MAAM,CAACO,MAAM,CAAC,OAAO,CAAC,EAC5D,CAACb,GAAG,EAACc,GAAG,KAAG;EACXA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IAACC,KAAK,EAAE,IAAGjB,GAAG,CAACC,IAAI,CAACiB,IAAK;EAAC,CAAC,CAAC;AACjD,CAAC,CAAC;AAAA,IAAAC,QAAA,GAEaZ,YAAY;AAAAa,OAAA,CAAAzB,OAAA,GAAAwB,QAAA"}},"mtime":1684946285068}}